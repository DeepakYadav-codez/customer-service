"use strict";(self.webpackChunkangular_firebase_auth=self.webpackChunkangular_firebase_auth||[]).push([[179],{2011:(ft,Me,F)=>{F.d(Me,{Dh:()=>fe,GT:()=>ge,cc:()=>Te,hO:()=>ze,on:()=>z,pX:()=>ne,xv:()=>de});var s=F(5e3),K=F(127),P=F(5813);ft=F.hmd(ft);const ae=["ngOnDestroy"],ne=(be,Xe,Ye,De={})=>new Proxy(be,{get:(ye,we)=>Ye.runOutsideAngular(()=>{var Ve;if(be[we])return(null===(Ve=null==De?void 0:De.spy)||void 0===Ve?void 0:Ve.get)&&De.spy.get(we,be[we]),be[we];if(ae.indexOf(we)>-1)return()=>{};const He=Xe.toPromise().then(oe=>{const qe=oe&&oe[we];return"function"==typeof qe?qe.bind(oe):qe&&qe.then?qe.then(Dt=>Ye.run(()=>Dt)):Ye.run(()=>qe)});return new Proxy(()=>{},{get:(oe,qe)=>He[qe],apply:(oe,qe,Dt)=>He.then(qt=>{var ut;const sn=qt&&qt(...Dt);return(null===(ut=null==De?void 0:De.spy)||void 0===ut?void 0:ut.apply)&&De.spy.apply(we,Dt,sn),sn})})})}),ge=(be,Xe)=>{Xe.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(De=>{Object.defineProperty(be.prototype,De,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,De))})})};class Q{constructor(Xe){return Xe}}const fe=new s.OlP("angularfire2.app.options"),de=new s.OlP("angularfire2.app.name");function z(be,Xe,Ye){const ye="object"==typeof Ye&&Ye||{};ye.name=ye.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const Ve=K.Z.apps.filter(He=>He&&He.name===ye.name)[0]||Xe.runOutsideAngular(()=>K.Z.initializeApp(be,ye));try{JSON.stringify(be)!==JSON.stringify(Ve.options)&&G("error",`${Ve.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new Q(Ve)}const G=(be,...Xe)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[be](...Xe)},ee={provide:Q,useFactory:z,deps:[fe,s.R0b,[new s.FiY,de]]};let ze=(()=>{class be{constructor(Ye){K.Z.registerVersion("angularfire",P.q4.full,"core"),K.Z.registerVersion("angularfire",P.q4.full,"app-compat"),K.Z.registerVersion("angular",s.q4F.full,Ye.toString())}static initializeApp(Ye,De){return{ngModule:be,providers:[{provide:fe,useValue:Ye},{provide:de,useValue:De}]}}}return be.\u0275fac=function(Ye){return new(Ye||be)(s.LFG(s.Lbi))},be.\u0275mod=s.oAB({type:be}),be.\u0275inj=s.cJS({providers:[ee]}),be})();function Te(be,Xe,Ye,De,ye){const[,we,Ve]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===be)||[];if(we)return function Re(be,Xe){try{return be.toString()===Xe.toString()}catch(Ye){return be===Xe}}(ye,Ve)||(_e("error",`${Xe} was already initialized on the ${Ye} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:ye,was:Ve})),we;{const He=De();return globalThis.\u0275AngularfireInstanceCache.push([be,He,ye]),He}}const Le=!!ft.hot,_e=(be,...Xe)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[be](...Xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ft,Me,F)=>{F.d(Me,{q4:()=>Br,iC:()=>qo,HU:()=>Pu,vb:()=>zo,JM:()=>nh});var s=F(5e3),K=F(5867),P=F(5861),ae=F(9681),ne=F(2090),ge=F(4859),Q=F(1877);const fe="@firebase/installations",G="w:0.5.8",ee="FIS_v2",be=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(E){return E instanceof ne.ZR&&E.code.includes("request-failed")}function Ye({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function De(E){return{token:E.token,requestStatus:2,expiresIn:Dt(E.expiresIn),creationTime:Date.now()}}function ye(E,I){return we.apply(this,arguments)}function we(){return(we=(0,P.Z)(function*(E,I){const B=(yield I.json()).error;return be.create("request-failed",{requestName:E,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Ve({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function He(E,{refreshToken:I}){const k=Ve(E);return k.append("Authorization",function qt(E){return`${ee} ${E}`}(I)),k}function oe(E){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(E){const I=yield E();return I.status>=500&&I.status<600?E():I})).apply(this,arguments)}function Dt(E){return Number(E.replace("s","000"))}function ut(E,I){return sn.apply(this,arguments)}function sn(){return(sn=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:I},{fid:k}){const B=Ye(E),Y=Ve(E),ue=I.getImmediate({optional:!0});if(ue){const it=yield ue.getHeartbeatsHeader();it&&Y.append("x-firebase-client",it)}const Ze={method:"POST",headers:Y,body:JSON.stringify({fid:k,authVersion:ee,appId:E.appId,sdkVersion:G})},At=yield oe(()=>fetch(B,Ze));if(At.ok){const it=yield At.json();return{fid:it.fid||k,registrationStatus:2,refreshToken:it.refreshToken,authToken:De(it.authToken)}}throw yield ye("Create Installation",At)})).apply(this,arguments)}function lt(E){return new Promise(I=>{setTimeout(I,E)})}const As=/^[cdef][\w-]{21}$/;function ei(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const k=function Lt(E){return function ps(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return As.test(k)?k:""}catch(E){return""}}function X(E){return`${E.appName}!${E.appId}`}const se=new Map;function me(E,I){const k=X(E);ve(k,I),function Ne(E,I){const k=function vn(){return!xt&&"BroadcastChannel"in self&&(xt=new BroadcastChannel("[Firebase] FID Change"),xt.onmessage=E=>{ve(E.data.key,E.data.fid)}),xt}();k&&k.postMessage({key:E,fid:I}),function vt(){0===se.size&&xt&&(xt.close(),xt=null)}()}(k,I)}function ve(E,I){const k=se.get(E);if(k)for(const B of k)B(I)}let xt=null;const ti="firebase-installations-store";let tn=null;function Hn(){return tn||(tn=(0,ne.X3)("firebase-installations-database",1,(E,I)=>{0===I&&E.createObjectStore(ti)})),tn}function Qe(E,I){return jn.apply(this,arguments)}function jn(){return(jn=(0,P.Z)(function*(E,I){const k=X(E),Y=(yield Hn()).transaction(ti,"readwrite"),ue=Y.objectStore(ti),xe=yield ue.get(k);return yield ue.put(I,k),yield Y.complete,(!xe||xe.fid!==I.fid)&&me(E,I.fid),I})).apply(this,arguments)}function On(E){return pi.apply(this,arguments)}function pi(){return(pi=(0,P.Z)(function*(E){const I=X(E),B=(yield Hn()).transaction(ti,"readwrite");yield B.objectStore(ti).delete(I),yield B.complete})).apply(this,arguments)}function Rr(E,I){return To.apply(this,arguments)}function To(){return(To=(0,P.Z)(function*(E,I){const k=X(E),Y=(yield Hn()).transaction(ti,"readwrite"),ue=Y.objectStore(ti),xe=yield ue.get(k),Ze=I(xe);return void 0===Ze?yield ue.delete(k):yield ue.put(Ze,k),yield Y.complete,Ze&&(!xe||xe.fid!==Ze.fid)&&me(E,Ze.fid),Ze})).apply(this,arguments)}function Bn(E){return Di.apply(this,arguments)}function Di(){return(Di=(0,P.Z)(function*(E){let I;const k=yield Rr(E.appConfig,B=>{const Y=Ks(B),ue=ja(E,Y);return I=ue.registrationPromise,ue.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function Ks(E){return Wt(E||{fid:ei(),registrationStatus:0})}function ja(E,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(be.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},B=function nn(E,I){return dt.apply(this,arguments)}(E,k);return{installationEntry:k,registrationPromise:B}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:It(E)}:{installationEntry:I}}function dt(){return(dt=(0,P.Z)(function*(E,I){try{const k=yield ut(E,I);return Qe(E.appConfig,k)}catch(k){throw Xe(k)&&409===k.customData.serverCode?yield On(E.appConfig):yield Qe(E.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function It(E){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,P.Z)(function*(E){let I=yield ms(E.appConfig);for(;1===I.registrationStatus;)yield lt(100),I=yield ms(E.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:B}=yield Bn(E);return B||k}return I})).apply(this,arguments)}function ms(E){return Rr(E,I=>{if(!I)throw be.create("installation-not-found");return Wt(I)})}function Wt(E){return function Io(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Gi(E,I){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:I},k){const B=gt(E,k),Y=He(E,k),ue=I.getImmediate({optional:!0});if(ue){const it=yield ue.getHeartbeatsHeader();it&&Y.append("x-firebase-client",it)}const Ze={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:G,appId:E.appId}})},At=yield oe(()=>fetch(B,Ze));if(At.ok)return De(yield At.json());throw yield ye("Generate Auth Token",At)})).apply(this,arguments)}function gt(E,{fid:I}){return`${Ye(E)}/${I}/authTokens:generate`}function zi(E){return $t.apply(this,arguments)}function $t(){return($t=(0,P.Z)(function*(E,I=!1){let k;const B=yield Rr(E.appConfig,ue=>{if(!zt(ue))throw be.create("not-registered");const xe=ue.authToken;if(!I&&j(xe))return ue;if(1===xe.requestStatus)return k=We(E,I),ue;{if(!navigator.onLine)throw be.create("app-offline");const Ze=q(ue);return k=_t(E,Ze),Ze}});return k?yield k:B.authToken})).apply(this,arguments)}function We(E,I){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,P.Z)(function*(E,I){let k=yield Je(E.appConfig);for(;1===k.authToken.requestStatus;)yield lt(100),k=yield Je(E.appConfig);const B=k.authToken;return 0===B.requestStatus?zi(E,I):B})).apply(this,arguments)}function Je(E){return Rr(E,I=>{if(!zt(I))throw be.create("not-registered");return function ce(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function _t(E,I){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,P.Z)(function*(E,I){try{const k=yield Gi(E,I),B=Object.assign(Object.assign({},I),{authToken:k});return yield Qe(E.appConfig,B),k}catch(k){if(!Xe(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const B=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Qe(E.appConfig,B)}else yield On(E.appConfig);throw k}})).apply(this,arguments)}function zt(E){return void 0!==E&&2===E.registrationStatus}function j(E){return 2===E.requestStatus&&!function V(E){const I=Date.now();return I<E.creationTime||E.creationTime+E.expiresIn<I+36e5}(E)}function q(E){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:I})}function Ue(){return(Ue=(0,P.Z)(function*(E){const I=E,{installationEntry:k,registrationPromise:B}=yield Bn(I);return B?B.catch(console.error):zi(I).catch(console.error),k.fid})).apply(this,arguments)}function on(){return(on=(0,P.Z)(function*(E,I=!1){const k=E;return yield qi(k),(yield zi(k,I)).token})).apply(this,arguments)}function qi(E){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,P.Z)(function*(E){const{registrationPromise:I}=yield Bn(E);I&&(yield I)})).apply(this,arguments)}function mi(E){return be.create("missing-app-config-values",{valueName:E})}const za="installations",Oe=E=>{const I=E.getProvider("app").getImmediate(),k=function Ss(E){if(!E||!E.options)throw mi("App Configuration");if(!E.name)throw mi("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!E.options[k])throw mi(k);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,ae._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Gt=E=>{const I=E.getProvider("app").getImmediate(),k=(0,ae._getProvider)(I,za).getImmediate();return{getId:()=>function J(E){return Ue.apply(this,arguments)}(k),getToken:Y=>function Et(E){return on.apply(this,arguments)}(k,Y)}};(function Mn(){(0,ae._registerComponent)(new ge.wA(za,Oe,"PUBLIC")),(0,ae._registerComponent)(new ge.wA("installations-internal",Gt,"PRIVATE"))})(),(0,ae.registerVersion)(fe,"0.5.8"),(0,ae.registerVersion)(fe,"0.5.8","esm2017");const Pi="@firebase/remote-config",ni=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Nd{constructor(I,k,B,Y){this.client=I,this.storage=k,this.storageCache=B,this.logger=Y}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-k,Y=B<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Y}.`),Y}fetch(I){var k=this;return(0,P.Z)(function*(){const[B,Y]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(Y&&k.isCachedDataFresh(I.cacheMaxAgeMillis,B))return Y;I.eTag=Y&&Y.eTag;const ue=yield k.client.fetch(I),xe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&xe.push(k.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(xe),ue})()}}function Ld(E=navigator){return E.languages&&E.languages[0]||E.language}class Hl{constructor(I,k,B,Y,ue,xe){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=B,this.projectId=Y,this.apiKey=ue,this.appId=xe}fetch(I){var k=this;return(0,P.Z)(function*(){const[B,Y]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},At={sdk_version:k.sdkVersion,app_instance_id:B,app_instance_id_token:Y,app_id:k.appId,language_code:Ld()},it={method:"POST",headers:Ze,body:JSON.stringify(At)},Xt=fetch(xe,it),kt=new Promise((wr,Li)=>{I.signal.addEventListener(()=>{const fo=new Error("The operation was aborted.");fo.name="AbortError",Li(fo)})});let yi;try{yield Promise.race([Xt,kt]),yi=yield Xt}catch(wr){let Li="fetch-client-network";throw"AbortError"===wr.name&&(Li="fetch-timeout"),ni.create(Li,{originalErrorMessage:wr.message})}let Sn=yi.status;const ol=yi.headers.get("ETag")||void 0;let ba,es;if(200===yi.status){let wr;try{wr=yield yi.json()}catch(Li){throw ni.create("fetch-client-parse",{originalErrorMessage:Li.message})}ba=wr.entries,es=wr.state}if("INSTANCE_STATE_UNSPECIFIED"===es?Sn=500:"NO_CHANGE"===es?Sn=304:("NO_TEMPLATE"===es||"EMPTY_CONFIG"===es)&&(ba={}),304!==Sn&&200!==Sn)throw ni.create("fetch-status",{httpStatus:Sn});return{status:Sn,eTag:ol,config:ba}})()}}class _g{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,P.Z)(function*(){const B=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,B)})()}attemptFetch(I,k){var B=this;return(0,P.Z)(function*(Y,{throttleEndTimeMillis:ue,backoffCount:xe}){yield function li(E,I){return new Promise((k,B)=>{const Y=Math.max(I-Date.now(),0),ue=setTimeout(k,Y);E.addEventListener(()=>{clearTimeout(ue),B(ni.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(Y.signal,ue);try{const Ze=yield B.client.fetch(Y);return yield B.storage.deleteThrottleMetadata(),Ze}catch(Ze){if(!function Bd(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}(Ze))throw Ze;const At={throttleEndTimeMillis:Date.now()+(0,ne.$s)(xe),backoffCount:xe+1};return yield B.storage.setThrottleMetadata(At),B.attemptFetch(Y,At)}}).apply(this,arguments)}}class du{constructor(I,k,B,Y,ue){this.app=I,this._client=k,this._storageCache=B,this._storage=Y,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function hu(E,I){const k=E.target.error||void 0;return ni.create(I,{originalErrorMessage:k&&k.message})}const to="app_namespace_store";class Cg{constructor(I,k,B,Y=function bg(){return new Promise((E,I)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=B=>{I(hu(B,"storage-open"))},k.onsuccess=B=>{E(B.target.result)},k.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(to,{keyPath:"compositeKey"})}}catch(k){I(ni.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=I,this.appName=k,this.namespace=B,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,P.Z)(function*(){const B=yield k.openDbPromise;return new Promise((Y,ue)=>{const Ze=B.transaction([to],"readonly").objectStore(to),At=k.createCompositeKey(I);try{const it=Ze.get(At);it.onerror=Xt=>{ue(hu(Xt,"storage-get"))},it.onsuccess=Xt=>{const kt=Xt.target.result;Y(kt?kt.value:void 0)}}catch(it){ue(ni.create("storage-get",{originalErrorMessage:it&&it.message}))}})})()}set(I,k){var B=this;return(0,P.Z)(function*(){const Y=yield B.openDbPromise;return new Promise((ue,xe)=>{const At=Y.transaction([to],"readwrite").objectStore(to),it=B.createCompositeKey(I);try{const Xt=At.put({compositeKey:it,value:k});Xt.onerror=kt=>{xe(hu(kt,"storage-set"))},Xt.onsuccess=()=>{ue()}}catch(Xt){xe(ni.create("storage-set",{originalErrorMessage:Xt&&Xt.message}))}})})()}delete(I){var k=this;return(0,P.Z)(function*(){const B=yield k.openDbPromise;return new Promise((Y,ue)=>{const Ze=B.transaction([to],"readwrite").objectStore(to),At=k.createCompositeKey(I);try{const it=Ze.delete(At);it.onerror=Xt=>{ue(hu(Xt,"storage-delete"))},it.onsuccess=()=>{Y()}}catch(it){ue(ni.create("storage-delete",{originalErrorMessage:it&&it.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Ud{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const k=I.storage.getLastFetchStatus(),B=I.storage.getLastSuccessfulFetchTimestampMillis(),Y=I.storage.getActiveConfig(),ue=yield k;ue&&(I.lastFetchStatus=ue);const xe=yield B;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const Ze=yield Y;Ze&&(I.activeConfig=Ze)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Ao(){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,P.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(E){return!1}})).apply(this,arguments)}!function na(){(0,ae._registerComponent)(new ge.wA("remote-config",function E(I,{instanceIdentifier:k}){const B=I.getProvider("app").getImmediate(),Y=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ni.create("registration-window");if(!(0,ne.hl)())throw ni.create("indexed-db-unavailable");const{projectId:ue,apiKey:xe,appId:Ze}=B.options;if(!ue)throw ni.create("registration-project-id");if(!xe)throw ni.create("registration-api-key");if(!Ze)throw ni.create("registration-app-id");const At=new Cg(Ze,B.name,k=k||"firebase"),it=new Ud(At),Xt=new Q.Yd(Pi);Xt.logLevel=Q.in.ERROR;const kt=new Hl(Y,ae.SDK_VERSION,k,ue,xe,Ze),yi=new _g(kt,At),Sn=new Nd(yi,At,it,Xt),ol=new du(B,Sn,it,At,Xt);return function gi(E){const I=(0,ne.m9)(E);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ol),ol},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Pi,"0.3.7"),(0,ae.registerVersion)(Pi,"0.3.7","esm2017")}();const fu="/firebase-messaging-sw.js",no="/firebase-cloud-messaging-push-scope",vr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",So="google.c.a.c_id",$a="google.c.a.c_l",Hd="google.c.a.ts",wg="google.c.a.e";var io=(()=>{return(E=io||(io={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",io;var E})();function Pr(E){const I=new Uint8Array(E);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gl(E){const k=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(k),Y=new Uint8Array(B.length);for(let ue=0;ue<B.length;++ue)Y[ue]=B.charCodeAt(ue);return Y}const zl="fcm_token_details_db",Fi="fcm_token_object_Store";function Of(E){return ql.apply(this,arguments)}function ql(){return ql=(0,P.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(zl))return null;let I=null;return(yield(0,ne.X3)(zl,5,function(){var B=(0,P.Z)(function*(Y,ue,xe,Ze){var At;if(ue<2||!Y.objectStoreNames.contains(Fi))return;const it=Ze.objectStore(Fi),Xt=yield it.index("fcmSenderId").get(E);if(yield it.clear(),Xt)if(2===ue){const kt=Xt;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;I={token:kt.fcmToken,createTime:null!==(At=kt.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:Pr(kt.vapidKey)}}}else if(3===ue){const kt=Xt;I={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:Pr(kt.auth),p256dh:Pr(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:Pr(kt.vapidKey)}}}else if(4===ue){const kt=Xt;I={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:Pr(kt.auth),p256dh:Pr(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:Pr(kt.vapidKey)}}}});return function(Y,ue,xe,Ze){return B.apply(this,arguments)}}())).close(),yield(0,ne.Lj)(zl),yield(0,ne.Lj)("fcm_vapid_details_db"),yield(0,ne.Lj)("undefined"),jd(I)?I:null}),ql.apply(this,arguments)}function jd(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:I}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Os="firebase-messaging-store";let Za=null;function pu(){return Za||(Za=(0,ne.X3)("firebase-messaging-database",1,(E,I)=>{0===I&&E.createObjectStore(Os)})),Za}function Pn(E){return ra.apply(this,arguments)}function ra(){return(ra=(0,P.Z)(function*(E){const I=ko(E),B=yield(yield pu()).transaction(Os).objectStore(Os).get(I);if(B)return B;{const Y=yield Of(E.appConfig.senderId);if(Y)return yield ro(E,Y),Y}})).apply(this,arguments)}function ro(E,I){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,P.Z)(function*(E,I){const k=ko(E),Y=(yield pu()).transaction(Os,"readwrite");return yield Y.objectStore(Os).put(I,k),yield Y.complete,I})).apply(this,arguments)}function Gd(E){return xo.apply(this,arguments)}function xo(){return(xo=(0,P.Z)(function*(E){const I=ko(E),B=(yield pu()).transaction(Os,"readwrite");yield B.objectStore(Os).delete(I),yield B.complete})).apply(this,arguments)}function ko({appConfig:E}){return E.appId}const ii=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ya(E,I){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,P.Z)(function*(E,I){const k=yield oo(E),B=wt(I),Y={method:"POST",headers:k,body:JSON.stringify(B)};let ue;try{ue=yield(yield fetch(br(E.appConfig),Y)).json()}catch(xe){throw ii.create("token-subscribe-failed",{errorInfo:xe})}if(ue.error)throw ii.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw ii.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function Zi(E,I){return so.apply(this,arguments)}function so(){return(so=(0,P.Z)(function*(E,I){const k=yield oo(E),B=wt(I.subscriptionOptions),Y={method:"PATCH",headers:k,body:JSON.stringify(B)};let ue;try{ue=yield(yield fetch(`${br(E.appConfig)}/${I.token}`,Y)).json()}catch(xe){throw ii.create("token-update-failed",{errorInfo:xe})}if(ue.error)throw ii.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw ii.create("token-update-no-token");return ue.token})).apply(this,arguments)}function Ps(E,I){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,P.Z)(function*(E,I){const B={method:"DELETE",headers:yield oo(E)};try{const ue=yield(yield fetch(`${br(E.appConfig)}/${I}`,B)).json();if(ue.error)throw ii.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(Y){throw ii.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function br({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function oo(E){return ao.apply(this,arguments)}function ao(){return(ao=(0,P.Z)(function*({appConfig:E,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function wt({p256dh:E,auth:I,endpoint:k,vapidKey:B}){const Y={web:{endpoint:k,auth:I,p256dh:E}};return B!==vr&&(Y.web.applicationPubKey=B),Y}const sa=6048e5;function Wl(E){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,P.Z)(function*(E){const I=yield Qt(E.swRegistration,E.vapidKey),k={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:I.endpoint,auth:Pr(I.getKey("auth")),p256dh:Pr(I.getKey("p256dh"))},B=yield Pn(E.firebaseDependencies);if(B){if(zn(B.subscriptionOptions,k))return Date.now()>=B.createTime+sa?Xl(E,{token:B.token,createTime:Date.now(),subscriptionOptions:k}):B.token;try{yield Ps(E.firebaseDependencies,B.token)}catch(Y){console.warn(Y)}return Ro(E.firebaseDependencies,k)}return Ro(E.firebaseDependencies,k)})).apply(this,arguments)}function Ql(E){return mu.apply(this,arguments)}function mu(){return(mu=(0,P.Z)(function*(E){const I=yield Pn(E.firebaseDependencies);I&&(yield Ps(E.firebaseDependencies,I.token),yield Gd(E.firebaseDependencies));const k=yield E.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Xl(E,I){return gu.apply(this,arguments)}function gu(){return(gu=(0,P.Z)(function*(E,I){try{const k=yield Zi(E.firebaseDependencies,I),B=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield ro(E.firebaseDependencies,B),k}catch(k){throw yield Ql(E),k}})).apply(this,arguments)}function Ro(E,I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,P.Z)(function*(E,I){const B={token:yield Ya(E,I),createTime:Date.now(),subscriptionOptions:I};return yield ro(E,B),B.token})).apply(this,arguments)}function Qt(E,I){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,P.Z)(function*(E,I){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gl(I)})})).apply(this,arguments)}function zn(E,I){return I.vapidKey===E.vapidKey&&I.endpoint===E.endpoint&&I.auth===E.auth&&I.p256dh===E.p256dh}function _u(E){const I={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function lo(E,I){if(!I.notification)return;E.notification={};const k=I.notification.title;k&&(E.notification.title=k);const B=I.notification.body;B&&(E.notification.body=B);const Y=I.notification.image;Y&&(E.notification.image=Y)}(I,E),function _s(E,I){!I.data||(E.data=I.data)}(I,E),function yu(E,I){if(!I.fcmOptions)return;E.fcmOptions={};const k=I.fcmOptions.link;k&&(E.fcmOptions.link=k);const B=I.fcmOptions.analytics_label;B&&(E.fcmOptions.analyticsLabel=B)}(I,E),I}function Wa(E){return"object"==typeof E&&!!E&&So in E}function zd(E,I){const k=[];for(let B=0;B<E.length;B++)k.push(E.charAt(B)),B<I.length&&k.push(I.charAt(B));return k.join("")}function Jl(E){return ii.create("missing-app-config-values",{valueName:E})}zd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ka{constructor(I,k,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Pf(E){if(!E||!E.options)throw Jl("App Configuration Object");if(!E.name)throw Jl("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=E;for(const B of I)if(!k[B])throw Jl(B);return{appName:E.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Y,installations:k,analyticsProvider:B}}_delete(){return Promise.resolve()}}function _i(E){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,P.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(fu,{scope:no}),E.swRegistration.update().catch(()=>{})}catch(I){throw ii.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function ec(E,I){return co.apply(this,arguments)}function co(){return(co=(0,P.Z)(function*(E,I){if(!I&&!E.swRegistration&&(yield _i(E)),I||!E.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw ii.create("invalid-sw-registration");E.swRegistration=I}})).apply(this,arguments)}function Wr(E,I){return vu.apply(this,arguments)}function vu(){return(vu=(0,P.Z)(function*(E,I){I?E.vapidKey=I:E.vapidKey||(E.vapidKey=vr)})).apply(this,arguments)}function bu(){return(bu=(0,P.Z)(function*(E,I){if(!navigator)throw ii.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ii.create("permission-blocked");return yield Wr(E,null==I?void 0:I.vapidKey),yield ec(E,null==I?void 0:I.serviceWorkerRegistration),Wl(E)})).apply(this,arguments)}function Cu(E,I,k){return oa.apply(this,arguments)}function oa(){return(oa=(0,P.Z)(function*(E,I,k){const B=tc(I);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:k[So],message_name:k[$a],message_time:k[Hd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tc(E){switch(E){case io.NOTIFICATION_CLICKED:return"notification_open";case io.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function nc(){return(nc=(0,P.Z)(function*(E,I){const k=I.data;if(!k.isFirebaseMessaging)return;E.onMessageHandler&&k.messageType===io.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(_u(k)):E.onMessageHandler.next(_u(k)));const B=k.data;Wa(B)&&"1"===B[wg]&&(yield Cu(E,k.messageType,B))})).apply(this,arguments)}const $d="@firebase/messaging",ic=E=>{const I=new Ka(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function qd(E,I){return nc.apply(this,arguments)}(I,k)),I},Po=E=>{const I=E.getProvider("messaging").getImmediate();return{getToken:B=>function Qa(E,I){return bu.apply(this,arguments)}(I,B)}};function Yd(){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,P.Z)(function*(){try{yield(0,ne.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zd(){(0,ae._registerComponent)(new ge.wA("messaging",ic,"PUBLIC")),(0,ae._registerComponent)(new ge.wA("messaging-internal",Po,"PRIVATE")),(0,ae.registerVersion)($d,"0.9.12"),(0,ae.registerVersion)($d,"0.9.12","esm2017")}();const rc="analytics",rv="firebase_id",el="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sc="https://www.googletagmanager.com/gtag/js",ri=new Q.Yd("@firebase/analytics");function Eu(E){return Promise.all(E.map(I=>I.catch(k=>k)))}function Nf(E,I){const k=document.createElement("script");k.src=`${sc}?l=${E}&id=${I}`,k.async=!0,document.head.appendChild(k)}function Fs(E,I,k,B,Y,ue){return la.apply(this,arguments)}function la(){return(la=(0,P.Z)(function*(E,I,k,B,Y,ue){const xe=B[Y];try{if(xe)yield I[xe];else{const At=(yield Eu(k)).find(it=>it.measurementId===Y);At&&(yield I[At.appId])}}catch(Ze){ri.error(Ze)}E("config",Y,ue)})).apply(this,arguments)}function Tu(E,I,k,B,Y){return ca.apply(this,arguments)}function ca(){return(ca=(0,P.Z)(function*(E,I,k,B,Y){try{let ue=[];if(Y&&Y.send_to){let xe=Y.send_to;Array.isArray(xe)||(xe=[xe]);const Ze=yield Eu(k);for(const At of xe){const it=Ze.find(kt=>kt.measurementId===At),Xt=it&&I[it.appId];if(!Xt){ue=[];break}ue.push(Xt)}}0===ue.length&&(ue=Object.values(I)),yield Promise.all(ue),E("event",B,Y||{})}catch(ue){ri.error(ue)}})).apply(this,arguments)}function Dg(){const E=window.document.getElementsByTagName("script");for(const I of Object.values(E))if(I.src&&I.src.includes(sc))return I;return null}const dn=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ac=new class Kd{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Ns(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Qd(E){return wn.apply(this,arguments)}function wn(){return(wn=(0,P.Z)(function*(E){var I;const{appId:k,apiKey:B}=E,Y={method:"GET",headers:Ns(B)},ue=el.replace("{app-id}",k),xe=yield fetch(ue,Y);if(200!==xe.status&&304!==xe.status){let Ze="";try{const At=yield xe.json();(null===(I=At.error)||void 0===I?void 0:I.message)&&(Ze=At.error.message)}catch(At){}throw dn.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:Ze})}return xe.json()})).apply(this,arguments)}function Xr(E){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,P.Z)(function*(E,I=ac,k){const{appId:B,apiKey:Y,measurementId:ue}=E.options;if(!B)throw dn.create("no-app-id");if(!Y){if(ue)return{measurementId:ue,appId:B};throw dn.create("no-api-key")}const xe=I.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new cc;return setTimeout((0,P.Z)(function*(){Ze.abort()}),void 0!==k?k:6e4),nt({appId:B,apiKey:Y,measurementId:ue},xe,Ze,I)})).apply(this,arguments)}function nt(E,I,k){return No.apply(this,arguments)}function No(){return(No=(0,P.Z)(function*(E,{throttleEndTimeMillis:I,backoffCount:k},B,Y=ac){const{appId:ue,measurementId:xe}=E;try{yield lc(B,I)}catch(Ze){if(xe)return ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:ue,measurementId:xe};throw Ze}try{const Ze=yield Qd(E);return Y.deleteThrottleMetadata(ue),Ze}catch(Ze){if(!Xd(Ze)){if(Y.deleteThrottleMetadata(ue),xe)return ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:ue,measurementId:xe};throw Ze}const At=503===Number(Ze.customData.httpStatus)?(0,ne.$s)(k,Y.intervalMillis,30):(0,ne.$s)(k,Y.intervalMillis),it={throttleEndTimeMillis:Date.now()+At,backoffCount:k+1};return Y.setThrottleMetadata(ue,it),ri.debug(`Calling attemptFetch again in ${At} millis`),nt(E,it,B,Y)}})).apply(this,arguments)}function lc(E,I){return new Promise((k,B)=>{const Y=Math.max(I-Date.now(),0),ue=setTimeout(k,Y);E.addEventListener(()=>{clearTimeout(ue),B(dn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Xd(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}class cc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Iu(){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,P.Z)(function*(){if(!(0,ne.hl)())return ri.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(E){return ri.warn(dn.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function An(){return(An=(0,P.Z)(function*(E,I,k,B,Y,ue,xe){var Ze;const At=Xr(E);At.then(Sn=>{k[Sn.measurementId]=Sn.appId,E.options.measurementId&&Sn.measurementId!==E.options.measurementId&&ri.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Sn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Sn=>ri.error(Sn)),I.push(At);const it=Iu().then(Sn=>{if(Sn)return B.getId()}),[Xt,kt]=yield Promise.all([At,it]);Dg()||Nf(ue,Xt.measurementId),Y("js",new Date);const yi=null!==(Ze=null==xe?void 0:xe.config)&&void 0!==Ze?Ze:{};return yi.origin="firebase",yi.update=!0,null!=kt&&(yi[rv]=kt),Y("config",Xt.measurementId,yi),Xt.measurementId})).apply(this,arguments)}class ua{constructor(I){this.app=I}_delete(){return delete Fr[this.app.options.appId],Promise.resolve()}}let Fr={},Bo=[];const da={};let Nr,ho,ha="dataLayer",Kn=!1;function _n(E,I,k){!function Eg(){const E=[];if((0,ne.ru)()&&E.push("This is a browser extension environment."),(0,ne.zI)()||E.push("Cookies are not available."),E.length>0){const I=E.map((B,Y)=>`(${Y+1}) ${B}`).join(" "),k=dn.create("invalid-analytics-context",{errorInfo:I});ri.warn(k.message)}}();const B=E.options.appId;if(!B)throw dn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw dn.create("no-api-key");ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fr[B])throw dn.create("already-exists",{id:B});if(!Kn){!function Wd(E){let I=[];Array.isArray(window[E])?I=window[E]:window[E]=I}(ha);const{wrappedGtag:ue,gtagCore:xe}=function oc(E,I,k,B,Y){let ue=function(...xe){window[B].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ue=window[Y]),window[Y]=function tl(E,I,k,B){function ue(){return(ue=(0,P.Z)(function*(xe,Ze,At){try{"event"===xe?yield Tu(E,I,k,Ze,At):"config"===xe?yield Fs(E,I,k,B,Ze,At):E("set",Ze)}catch(it){ri.error(it)}})).apply(this,arguments)}return function Y(xe,Ze,At){return ue.apply(this,arguments)}}(ue,E,I,k),{gtagCore:ue,wrappedGtag:window[Y]}}(Fr,Bo,da,ha,"gtag");ho=ue,Nr=xe,Kn=!0}return Fr[B]=function uo(E,I,k,B,Y,ue,xe){return An.apply(this,arguments)}(E,Bo,da,I,Nr,ha,k),new ua(E)}function uc(){return(uc=(0,P.Z)(function*(E,I,k,B,Y){if(Y&&Y.global)E("event",k,B);else{const ue=yield I;E("event",k,Object.assign(Object.assign({},B),{send_to:ue}))}})).apply(this,arguments)}function dc(){return ys.apply(this,arguments)}function ys(){return(ys=(0,P.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(E){return!1}})).apply(this,arguments)}const Su="@firebase/analytics";!function Vf(){(0,ae._registerComponent)(new ge.wA(rc,(I,{options:k})=>_n(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ae._registerComponent)(new ge.wA("analytics-internal",function E(I){try{const k=I.getProvider(rc).getImmediate();return{logEvent:(B,Y,ue)=>function Jd(E,I,k,B){E=(0,ne.m9)(E),function fa(E,I,k,B,Y){return uc.apply(this,arguments)}(ho,Fr[E.app.options.appId],I,k,B).catch(Y=>ri.error(Y))}(k,B,Y,ue)}}catch(k){throw dn.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ae.registerVersion)(Su,"0.7.8"),(0,ae.registerVersion)(Su,"0.7.8","esm2017")}();var th=F(4408),_a=F(7565);const si=new class xu extends _a.v{}(class il extends th.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(I,k,B):(I.flush(this),0)}});var ci=F(4986),ku=F(8505),Ru=F(9468),Cr=F(5363);const Br=new s.GfV("7.2.0"),Vr="__angularfire_symbol__analyticsIsSupported",ya="__angularfire_symbol__remoteConfigIsSupported",Ou="__angularfire_symbol__messagingIsSupported";function nh(E,I,k){if(I){if(1===I.length)return I[0];const ue=I.filter(xe=>xe.app===k);if(1===ue.length)return ue[0]}return k.container.getProvider(E).getImmediate({optional:!0})}globalThis[Vr]||(globalThis[Vr]=dc().then(E=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=E)),globalThis[Ou]||(globalThis[Ou]=Yd().then(E=>globalThis.__angularfire_symbol__messagingIsSupportedValue=E)),globalThis[ya]||(globalThis[ya]=Ao().then(E=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=E));const zo=(E,I)=>{const k=I?[I]:(0,K.C6)(),B=[];return k.forEach(Y=>{Y.container.getProvider(E).instances.forEach(xe=>{B.includes(xe)||B.push(xe)})}),B};function rl(){}class va{constructor(I,k=si){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,B){const Y=this.zone;return this.delegate.schedule(function(xe){Y.runGuarded(()=>{I.apply(this,[xe])})},k,B)}}class jf{constructor(I){this.zone=I,this.task=null}call(I,k){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rl,{},rl,rl)),k.pipe((0,ku.b)({next:B,complete:B,error:B})).subscribe(I).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pu=(()=>{class E{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new va(Zone.current)),this.insideAngular=k.run(()=>new va(Zone.current,ci.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(k){return new(k||E)(s.LFG(s.R0b))},E.\u0275prov=s.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Bs(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function qo(E){return Bs(),function mc(E){return function(k){return(k=k.lift(new jf(E.ngZone))).pipe((0,Ru.R)(E.outsideAngular),(0,Cr.Q)(E.insideAngular))}}(Bs())(E)}},2090:(ft,Me,F)=>{F.d(Me,{$s:()=>Io,BH:()=>Te,G6:()=>oe,L:()=>de,LL:()=>ps,Lj:()=>Yt,Mn:()=>Ve,Sg:()=>Re,UG:()=>be,US:()=>Q,X3:()=>_t,ZB:()=>ee,ZR:()=>lt,b$:()=>De,d:()=>ye,eu:()=>Dt,hl:()=>qe,jU:()=>Xe,m9:()=>gt,ne:()=>Qe,pd:()=>tn,r3:()=>ve,ru:()=>Ye,tV:()=>z,uI:()=>_e,vZ:()=>vt,w1:()=>we,xO:()=>Dn,xb:()=>xt,z$:()=>Le,zI:()=>qt,zd:()=>ti});var s=F(5861);const ne=function(j){const V=[];let q=0;for(let ce=0;ce<j.length;ce++){let J=j.charCodeAt(ce);J<128?V[q++]=J:J<2048?(V[q++]=J>>6|192,V[q++]=63&J|128):55296==(64512&J)&&ce+1<j.length&&56320==(64512&j.charCodeAt(ce+1))?(J=65536+((1023&J)<<10)+(1023&j.charCodeAt(++ce)),V[q++]=J>>18|240,V[q++]=J>>12&63|128,V[q++]=J>>6&63|128,V[q++]=63&J|128):(V[q++]=J>>12|224,V[q++]=J>>6&63|128,V[q++]=63&J|128)}return V},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let J=0;J<j.length;J+=3){const Ue=j[J],Et=J+1<j.length,on=Et?j[J+1]:0,qi=J+2<j.length,Kt=qi?j[J+2]:0;let In=(15&on)<<2|Kt>>6,Ei=63&Kt;qi||(Ei=64,Et||(In=64)),ce.push(q[Ue>>2],q[(3&Ue)<<4|on>>4],q[In],q[Ei])}return ce.join("")},encodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(ne(j),V)},decodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){const V=[];let q=0,ce=0;for(;q<j.length;){const J=j[q++];if(J<128)V[ce++]=String.fromCharCode(J);else if(J>191&&J<224){const Ue=j[q++];V[ce++]=String.fromCharCode((31&J)<<6|63&Ue)}else if(J>239&&J<365){const qi=((7&J)<<18|(63&j[q++])<<12|(63&j[q++])<<6|63&j[q++])-65536;V[ce++]=String.fromCharCode(55296+(qi>>10)),V[ce++]=String.fromCharCode(56320+(1023&qi))}else{const Ue=j[q++],Et=j[q++];V[ce++]=String.fromCharCode((15&J)<<12|(63&Ue)<<6|63&Et)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray(j,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let J=0;J<j.length;){const Ue=q[j.charAt(J++)],on=J<j.length?q[j.charAt(J)]:0;++J;const Kt=J<j.length?q[j.charAt(J)]:64;++J;const Bt=J<j.length?q[j.charAt(J)]:64;if(++J,null==Ue||null==on||null==Kt||null==Bt)throw Error();ce.push(Ue<<2|on>>4),64!==Kt&&(ce.push(on<<4&240|Kt>>2),64!==Bt&&ce.push(Kt<<6&192|Bt))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},de=function(j){return function(j){const V=ne(j);return Q.encodeByteArray(V,!0)}(j).replace(/\./g,"")},z=function(j){try{return Q.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function ee(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!ze(q)||(j[q]=ee(j[q],V[q]));return j}function ze(j){return"__proto__"!==j}class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,ce)=>{q?this.reject(q):this.resolve(ce),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,ce))}}}function Re(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=V||"demo-project",J=j.iat||0,Ue=j.sub||j.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:J,exp:J+3600,auth_time:J,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},j);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Et)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function Xe(){return"object"==typeof self&&self.self===self}function Ye(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){return Le().indexOf("Electron/")>=0}function we(){const j=Le();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Ve(){return Le().indexOf("MSAppHost/")>=0}function oe(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){return"object"==typeof indexedDB}function Dt(){return new Promise((j,V)=>{try{let q=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(ce);J.onsuccess=()=>{J.result.close(),q||self.indexedDB.deleteDatabase(ce),j(!0)},J.onupgradeneeded=()=>{q=!1},J.onerror=()=>{var Ue;V((null===(Ue=J.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(q){V(q)}})}function qt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class lt extends Error{constructor(V,q,ce){super(q),this.code=V,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ps.prototype.create)}}class ps{constructor(V,q,ce){this.service=V,this.serviceName=q,this.errors=ce}create(V,...q){const ce=q[0]||{},J=`${this.service}/${V}`,Ue=this.errors[V],Et=Ue?function As(j,V){return j.replace(kr,(q,ce)=>{const J=V[ce];return null!=J?String(J):`<${ce}?>`})}(Ue,ce):"Error";return new lt(J,`${this.serviceName}: ${Et} (${J}).`,ce)}}const kr=/\{\$([^}]+)}/g;function ve(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function xt(j){for(const V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function vt(j,V){if(j===V)return!0;const q=Object.keys(j),ce=Object.keys(V);for(const J of q){if(!ce.includes(J))return!1;const Ue=j[J],Et=V[J];if(Zt(Ue)&&Zt(Et)){if(!vt(Ue,Et))return!1}else if(Ue!==Et)return!1}for(const J of ce)if(!q.includes(J))return!1;return!0}function Zt(j){return null!==j&&"object"==typeof j}function Dn(j){const V=[];for(const[q,ce]of Object.entries(j))Array.isArray(ce)?ce.forEach(J=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(J))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(ce));return V.length?"&"+V.join("&"):""}function ti(j){const V={};return j.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[J,Ue]=ce.split("=");V[decodeURIComponent(J)]=decodeURIComponent(Ue)}}),V}function tn(j){const V=j.indexOf("?");if(!V)return"";const q=j.indexOf("#",V);return j.substring(V,q>0?q:void 0)}function Qe(j,V){const q=new jn(j,V);return q.subscribe.bind(q)}class jn{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(ce=>{this.error(ce)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,ce){let J;if(void 0===V&&void 0===q&&void 0===ce)throw new Error("Missing Observer.");J=function pi(j,V){if("object"!=typeof j||null===j)return!1;for(const q of V)if(q in j&&"function"==typeof j[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:ce},void 0===J.next&&(J.next=Rr),void 0===J.error&&(J.error=Rr),void 0===J.complete&&(J.complete=Rr);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(Et){}}),this.observers.push(J),Ue}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(ce){"undefined"!=typeof console&&console.error&&console.error(ce)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rr(){}function Io(j,V=1e3,q=2){const ce=V*Math.pow(q,j),J=Math.round(.5*ce*(Math.random()-.5)*2);return Math.min(144e5,ce+J)}function gt(j){return j&&j._delegate?j._delegate:j}function zi(j,V){return new Promise((q,ce)=>{j.onsuccess=J=>{q(J.target.result)},j.onerror=J=>{var Ue;ce(`${V}: ${null===(Ue=J.target.error)||void 0===Ue?void 0:Ue.message}`)}})}class $t{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,q="readonly"){return new We(this._db.transaction.call(this._db,V,q))}createObjectStore(V,q){return new Ae(this._db.createObjectStore(V,q))}close(){this._db.close()}}class We{constructor(V){this._transaction=V,this.complete=new Promise((q,ce)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{ce(this._transaction.error)},this._transaction.onabort=()=>{ce(this._transaction.error)}})}objectStore(V){return new Ae(this._transaction.objectStore(V))}}class Ae{constructor(V){this._store=V}index(V){return new Je(this._store.index(V))}createIndex(V,q,ce){return new Je(this._store.createIndex(V,q,ce))}get(V){return zi(this._store.get(V),"Error reading from IndexedDB")}put(V,q){return zi(this._store.put(V,q),"Error writing to IndexedDB")}delete(V){return zi(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return zi(this._store.clear(),"Error clearing IndexedDB object store")}}class Je{constructor(V){this._index=V}get(V){return zi(this._index.get(V),"Error reading from IndexedDB")}}function _t(j,V,q){return new Promise((ce,J)=>{try{const Ue=indexedDB.open(j,V);Ue.onsuccess=Et=>{ce(new $t(Et.target.result))},Ue.onerror=Et=>{var on;J(`Error opening indexedDB: ${null===(on=Et.target.error)||void 0===on?void 0:on.message}`)},Ue.onupgradeneeded=Et=>{q(new $t(Ue.result),Et.oldVersion,Et.newVersion,new We(Ue.transaction))}}catch(Ue){J(`Error opening indexedDB: ${Ue.message}`)}})}function Yt(j){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(j){return new Promise((V,q)=>{try{const ce=indexedDB.deleteDatabase(j);ce.onsuccess=()=>{V()},ce.onerror=J=>{var Ue;q(`Error deleting indexedDB database "${j}": ${null===(Ue=J.target.error)||void 0===Ue?void 0:Ue.message}`)}}catch(ce){q(`Error deleting indexedDB database "${j}": ${ce.message}`)}})})).apply(this,arguments)}},1647:(ft,Me,F)=>{var s=F(5e3);let K=null;function P(){return K}const Q=new s.OlP("DocumentToken");let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function de(){return(0,s.LFG)(G)}()},providedIn:"platform"}),n})();const z=new s.OlP("Location Initialized");let G=(()=>{class n extends fe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ee()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ee()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ze(){return new G((0,s.LFG)(Q))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Te(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Re(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function be(n){const t=(0,s.LFG)(Q).location;return new Ye((0,s.LFG)(fe),t&&t.origin||"")}()},providedIn:"root"}),n})();const Xe=new s.OlP("appBaseHref");let Ye=(()=>{class n extends _e{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Te(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Le(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+Le(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+Le(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fe),s.LFG(Xe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n extends _e{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Te(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+Le(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+Le(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fe),s.LFG(Xe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Re(He(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Le(i))}normalize(e){return n.stripTrailingSlash(function Ve(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,He(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Le(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Le(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Te,n.stripTrailingSlash=Re,n.\u0275fac=function(e){return new(e||n)(s.LFG(_e),s.LFG(fe))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function we(){return new ye((0,s.LFG)(_e),(0,s.LFG)(fe))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}let Ji=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Js{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Js(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),xs(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{xs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function xs(n,t){n.context.$implicit=t.item}let gi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new bn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Bl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Bl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class bn{constructor(){this.$implicit=null,this.ngIf=null}}function Bl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Vl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let er=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),$i=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Vl(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(er,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),uu=(()=>{class n{constructor(e,i,r){r._addDefault(new Vl(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(er,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class Bd{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class _g{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Rs=new _g,yg=new Bd;let du=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Rs;if((0,s.F4k)(e))return yg;throw function li(n,t){return new s.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1}),n})(),Ti=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const io="browser";function Fi(n){return"server"===n}let $l=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Zl((0,s.LFG)(Q),window)}),n})();class Zl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Za(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Os(this.window.history)||Os(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Os(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ro extends class ra extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){K||(K=n)}(new ro)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Gd(){return Cn=Cn||document.querySelector("base"),Cn?Cn.getAttribute("href"):null}();return null==e?null:function ko(n){xo=xo||document.createElement("a"),xo.setAttribute("href",n);const t=xo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Cn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function ta(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let xo,Cn=null;const Ni=new s.OlP("TRANSITION_ID"),Ya=[{provide:s.ip1,useFactory:function ii(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Ni,Q,s.zs3],multi:!0}];class Zr{static init(){(0,s.VLi)(new Zr)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(_){u=u||_,o--,0==o&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Zi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const so=new s.OlP("EventManagerPlugins");let Ps=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(so),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Yl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let br=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),oo=(()=>{class n extends br{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ao),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ao))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function ao(n){P().remove(n)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sa=/%COMP%/g;function Ro(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ro(n,r,e):(r=r.replace(sa,n),e.push(r))}return e}function Ee(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Oo=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new zn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new _s(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new yu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ro(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ps),s.LFG(oo),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class zn{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(wt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=wt[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=wt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ee(i)):this.eventManager.addEventListener(t,e,Ee(i))}}class _s extends zn{constructor(t,e,i,r){super(t),this.component=i;const o=Ro(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Xl(n){return"_ngcontent-%COMP%".replace(sa,n)}(r+"-"+i.id),this.hostAttr=function gu(n){return"_nghost-%COMP%".replace(sa,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class yu extends zn{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ro(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Wa=(()=>{class n extends Yl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const zd=["alt","control","meta","shift"],Jl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ka={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_i={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yr=(()=>{class n extends Yl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="";if(zd.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),u+=_+".")}),u+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function ec(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ka.hasOwnProperty(t)&&(t=Ka[t]))}return Jl[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),zd.forEach(o=>{o!=r&&_i[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const bu=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:io},{provide:s.g9A,useValue:function co(){ro.makeCurrent(),Zr.init()},multi:!0},{provide:Q,useFactory:function vu(){return(0,s.RDi)(document),document},deps:[]}]),Cu=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Wr(){return new s.qLn},deps:[]},{provide:so,useClass:Wa,multi:!0,deps:[Q,s.R0b,s.Lbi]},{provide:so,useClass:Yr,multi:!0,deps:[Q]},{provide:Oo,useClass:Oo,deps:[Ps,oo,s.AFp]},{provide:s.FYo,useExisting:Oo},{provide:br,useExisting:oo},{provide:oo,useClass:oo,deps:[Q]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:Ps,useClass:Ps,deps:[so,s.R0b]},{provide:class Pn{},useClass:Zi,deps:[]}];let oa=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Ni,useExisting:s.AFp},Ya]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Cu,imports:[Ti,s.hGG]}),n})();"undefined"!=typeof window&&window;let ca=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(oc),i},providedIn:"root"}),n})(),oc=(()=>{class n extends ca{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(i),(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function tl(n){return new oc(n.get(Q))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var Wn=F(8996),dn=F(8306);const{isArray:sv}=Array,{getPrototypeOf:Qr,prototype:Kd,keys:ac}=Object;function Ns(n){if(1===n.length){const t=n[0];if(sv(t))return{args:t,keys:null};if(function Qd(n){return n&&"object"==typeof n&&Qr(n)===Kd}(t)){const e=ac(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var wn=F(8421),Xr=F(3269),Fn=F(5403),nt=F(4004);const{isArray:No}=Array;function Xd(n){return(0,nt.U)(t=>function lc(n,t){return No(t)?n(...t):n(t)}(n,t))}function cc(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Iu(...n){const t=(0,Xr.jO)(n),{args:e,keys:i}=Ns(n),r=new dn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let _=u,b=u;for(let T=0;T<u;T++){let M=!1;(0,wn.Xf)(e[T]).subscribe((0,Fn.x)(o,O=>{M||(M=!0,b--),h[T]=O},()=>_--,void 0,()=>{(!_||!M)&&(b||o.next(i?cc(i,h):h),o.complete())}))}});return t?r.pipe(Xd(t)):r}let Lo=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),uo=(()=>{class n extends Lo{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const An=new s.OlP("NgValueAccessor"),Bo={provide:An,useExisting:(0,s.Gpc)(()=>Vo),multi:!0},ha=new s.OlP("CompositionEventMode");let Vo=(()=>{class n extends Lo{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function da(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(ha,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([Bo]),s.qOj]}),n})();function Nr(n){return null==n||0===n.length}function ho(n){return null!=n&&"number"==typeof n.length}const Kn=new s.OlP("NgValidators"),Uo=new s.OlP("NgAsyncValidators"),Eg=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _n{static min(t){return function fa(n){return t=>{if(Nr(t.value)||Nr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function uc(n){return t=>{if(Nr(t.value)||Nr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function Mu(n){return Nr(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Ho(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function jo(n){return Nr(n.value)||Eg.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function pa(n){return t=>Nr(t.value)||!ho(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function nl(n){return t=>ho(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ma(n){if(!n)return Ls;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Nr(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Lf(t)}static composeAsync(t){return Bf(t)}}function Ls(n){return null}function Lr(n){return null!=n}function ga(n){const t=(0,s.QGY)(n)?(0,Wn.D)(n):n;return(0,s.CqO)(t),t}function Au(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function dc(n,t){return t.map(e=>e(n))}function Tg(n){return n.map(t=>function ys(n){return!n.validate}(t)?t:e=>t.validate(e))}function Lf(n){if(!n)return null;const t=n.filter(Lr);return 0==t.length?null:function(e){return Au(dc(e,t))}}function $n(n){return null!=n?Lf(Tg(n)):null}function Bf(n){if(!n)return null;const t=n.filter(Lr);return 0==t.length?null:function(e){return Iu(dc(e,t).map(ga)).pipe((0,nt.U)(Au))}}function Jd(n){return null!=n?Bf(Tg(n)):null}function Su(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function eh(n){return n._rawValidators}function Vf(n){return n._rawAsyncValidators}function th(n){return n?Array.isArray(n)?n:[n]:[]}function il(n,t){return Array.isArray(n)?n.includes(t):n===t}function _a(n,t){const e=th(t);return th(n).forEach(r=>{il(e,r)||e.push(r)}),e}function xu(n,t){return th(t).filter(e=>!il(n,e))}class si{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$n(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Jd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class nr extends si{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ci extends si{get formDirective(){return null}get path(){return null}}class ku{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Br=(()=>{class n extends ku{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(nr,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})(),Go=(()=>{class n extends ku{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ci,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[s.qOj]}),n})();function fc(n,t){return[...t.path,n]}function ir(n,t){mc(n,t),t.valueAccessor.writeValue(n.value),function ih(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&I(n,t)})}(n,t),function k(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function E(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&I(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function qo(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function pc(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),vs(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function sl(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function mc(n,t){const e=eh(n);null!==t.validator?n.setValidators(Su(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Vf(n);null!==t.asyncValidator?n.setAsyncValidators(Su(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();sl(t._rawValidators,r),sl(t._rawAsyncValidators,r)}function vs(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=eh(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=Vf(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return sl(t._rawValidators,i),sl(t._rawAsyncValidators,i),e}function I(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function B(n,t){mc(n,t)}function kt(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Sn(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const es="VALID",wr="INVALID",Li="PENDING",fo="DISABLED";function Gf(n){return(Nu(n)?n.validators:n)||null}function rh(n){return Array.isArray(n)?$n(n):n||null}function al(n,t){return(Nu(t)?t.asyncValidators:n)||null}function Fu(n){return Array.isArray(n)?Jd(n):n||null}function Nu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const zf=n=>n instanceof Vn,_c=n=>n instanceof sh,ll=n=>n instanceof $f;function yc(n){return zf(n)?n.value:n.getRawValue()}function qf(n,t){const e=_c(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")}function ov(n,t){_c(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})}class cl{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=rh(this._rawValidators),this._composedAsyncValidatorFn=Fu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===es}get invalid(){return this.status===wr}get pending(){return this.status==Li}get disabled(){return this.status===fo}get enabled(){return this.status!==fo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=rh(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Fu(t)}addValidators(t){this.setValidators(_a(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(_a(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(xu(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(xu(t,this._rawAsyncValidators))}hasValidator(t){return il(this._rawValidators,t)}hasAsyncValidator(t){return il(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Li,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fo,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=es,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===es||this.status===Li)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fo:es}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Li,this._hasOwnPendingAsyncValidator=!0;const e=ga(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function gc(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=_c(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:ll(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?fo:this.errors?wr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Li)?Li:this._anyControlsHaveStatus(wr)?wr:es}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Nu(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Vn extends cl{constructor(t=null,e,i){super(Gf(e),al(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nu(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Sn(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Sn(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class sh extends cl{constructor(t,e,i){super(Gf(e),al(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){ov(this,t),Object.keys(t).forEach(i=>{qf(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=yc(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class $f extends cl{constructor(t,e,i){super(Gf(e),al(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){ov(this,t),t.forEach((i,r)=>{qf(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>yc(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const av={provide:ci,useExisting:(0,s.Gpc)(()=>vc)},Lu=(()=>Promise.resolve(null))();let vc=(()=>{class n extends ci{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new sh({},$n(e),Jd(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Lu.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ir(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Lu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Lu.then(()=>{const i=this._findContainer(e.path),r=new sh({});B(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Lu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Lu.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,kt(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Kn,10),s.Y36(Uo,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([av]),s.qOj]}),n})(),lv=(()=>{class n extends ci{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return fc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),Bi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Vu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Kf=new s.OlP("NgModelWithFormControlWarning"),Qf={provide:ci,useExisting:(0,s.Gpc)(()=>Ca)};let Ca=(()=>{class n extends ci{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return ir(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){pc(e.control||null,e,!1),Sn(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,kt(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(pc(i||null,e),zf(r)&&(ir(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);B(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Y(n,t){return vs(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mc(this.form,this),this._oldForm&&vs(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Kn,10),s.Y36(Uo,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Qf]),s.qOj,s.TTD]}),n})();const xg={provide:ci,useExisting:(0,s.Gpc)(()=>ul)};let ul=(()=>{class n extends lv{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){ch(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ci,13),s.Y36(Kn,10),s.Y36(Uo,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[s._Bn([xg]),s.qOj]}),n})();const wa={provide:ci,useExisting:(0,s.Gpc)(()=>ju)};let ju=(()=>{class n extends ci{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return fc(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ch(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ci,13),s.Y36(Kn,10),s.Y36(Uo,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[s._Bn([wa]),s.qOj]}),n})();function ch(n){return!(n instanceof ul||n instanceof Ca||n instanceof ju)}const Gu={provide:nr,useExisting:(0,s.Gpc)(()=>zu)};let zu=(()=>{class n extends nr{constructor(e,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function yi(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Vo?e=o:function Xt(n){return Object.getPrototypeOf(n.constructor)===uo}(o)?i=o:r=o}),r||i||e||null}(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function it(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return fc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(ci,13),s.Y36(Kn,10),s.Y36(Uo,10),s.Y36(An,10),s.Y36(Kf,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([Gu]),s.qOj,s.TTD]}),n})(),ph=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Vu]]}),n})(),$u=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ph]}),n})(),hl=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Kf,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ph]}),n})(),cp=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let h,o=null,u=null;return null!=i&&(function fl(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(o=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,h=null!=i.updateOn?i.updateOn:void 0):(o=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new sh(r,{asyncValidators:u,updateOn:h,validators:o})}control(e,i,r){return new Vn(e,i,r)}array(e,i,r){const o=e.map(u=>this._createControl(u));return new $f(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return zf(e)||_c(e)||ll(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:hl}),n})();var Vs=F(2011),mt=F(7579);function rt(...n){const t=(0,Xr.yG)(n);return(0,Wn.D)(n,t)}var cn=F(6451),Us=F(5363),oi=F(4482);function Un(n,t){return(0,oi.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Fn.x)(i,_=>{null==r||r.unsubscribe();let b=0;const T=o++;(0,wn.Xf)(n(_,T)).subscribe(r=(0,Fn.x)(i,M=>i.next(t?t(_,M,T,b++):M),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var up=F(6063);class dp extends mt.x{constructor(t=1/0,e=1/0,i=up.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}var _v=F(3099);function hp(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,_v.B)({connector:()=>new dp(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const ts=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Zn(n,t){return(0,oi.e)((e,i)=>{let r=0;e.subscribe((0,Fn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var Zo=F(515);function xn(n){return n<=0?()=>Zo.E:(0,oi.e)((t,e)=>{let i=0;t.subscribe((0,Fn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Ea(n){return(0,oi.e)((t,e)=>{let i=!1;t.subscribe((0,Fn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function fp(n=Ur){return(0,oi.e)((t,e)=>{let i=!1;t.subscribe((0,Fn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Ur(){return new ts}var pl=F(4671);function Yo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Zn((r,o)=>n(r,o,i)):pl.y,xn(1),e?Ea(t):fp(()=>new ts))}var bs=F(576);function Vi(n,t){return(0,bs.m)(t)?Un(()=>n,t):Un(()=>n)}var Cs=F(9468),vi=F(5813);F(5867);var Z=F(5861),Jt=F(9681),Dr=F(4859),Ut=F(2090),Er=F(1877);const Ec=new Map,yh={activated:!1,tokenObservers:[]},vv={initialized:!1,enabled:!1};function Ii(n){return Ec.get(n)||yh}function ns(n,t){Ec.set(n,t)}function Zu(){return vv}class Cv{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Z.Z)(function*(){e.stop();try{e.pending=new Ut.BH,yield function OI(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Ut.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const is=new Ut.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Bg(n){if(!Ii(n).activated)throw is.create("use-before-activation",{appName:n.name})}function Dv(n,t){return Ev.apply(this,arguments)}function Ev(){return(Ev=(0,Z.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const o={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,o)}catch(M){throw is.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==u.status)throw is.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(M){throw is.create("fetch-parse-error",{originalErrorMessage:M.message})}const _=h.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const b=1e3*Number(_[1]),T=Date.now();return{token:h.attestationToken,expireTimeMillis:T+b,issuedAtTimeMillis:T}})).apply(this,arguments)}function uk(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const _p="firebase-app-check-store";let bh=null;function Ew(){return bh||(bh=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(is.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(_p,{keyPath:"compositeKey"})}}catch(e){t(is.create("storage-open",{originalErrorMessage:e.message}))}}),bh)}function Iv(){return(Iv=(0,Z.Z)(function*(n,t){const i=(yield Ew()).transaction(_p,"readwrite"),o=i.objectStore(_p).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=_=>{u()},i.onerror=_=>{var b;h(is.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const yp=new Er.Yd("@firebase/app-check");function Ku(n,t){return(0,Ut.hl)()?function Ug(n,t){return function Tw(n,t){return Iv.apply(this,arguments)}(function Mw(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{yp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function VI(){return Zu().enabled}function Sv(){return Sw.apply(this,arguments)}function Sw(){return(Sw=(0,Z.Z)(function*(){const n=Zu();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const dk={error:"UNKNOWN_ERROR"};function kw(n){return Ut.US.encodeString(JSON.stringify(n),!1)}function Hg(n){return jg.apply(this,arguments)}function jg(){return(jg=(0,Z.Z)(function*(n,t=!1){const e=n.app;Bg(e);const i=Ii(e);let o,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&Gg(_)&&(r=_)}if(!t&&r&&Gg(r))return{token:r.token};let h,u=!1;if(VI()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Dv(uk(e,yield Sv()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield Ku(e,_),ns(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?yp.warn(_.message):yp.error(_),o=_}return r?(h={token:r.token},ns(e,Object.assign(Object.assign({},i),{token:r})),yield Ku(e,r)):h=HI(o),u&&Rv(e,h),h})).apply(this,arguments)}function kv(n,t){const e=Ii(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ns(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function mo(n){const{app:t}=n,e=Ii(t);let i=e.tokenRefresher;i||(i=function UI(n){const{app:t}=n;return new Cv((0,Z.Z)(function*(){let i;if(i=Ii(t).token?yield Hg(n,!0):yield Hg(n),i.error)throw i.error}),()=>!0,()=>{const e=Ii(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ns(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Rv(n,t){const e=Ii(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function Gg(n){return n.expireTimeMillis-Date.now()>0}function HI(n){return{token:kw(dk),error:n}}class jI{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ii(this.app);for(const e of t)kv(this.app,e.next);return Promise.resolve()}}const Lw="app-check-internal";!function WI(){(0,Jt._registerComponent)(new Dr.wA("app-check",n=>function GI(n,t){return new jI(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Lw).initialize()})),(0,Jt._registerComponent)(new Dr.wA(Lw,n=>function Rw(n){return{getToken:t=>Hg(n,t),addTokenListener:t=>function xv(n,t,e,i){const{app:r}=n,o=Ii(r),u={next:e,error:i,type:t};if(ns(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&Gg(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),mo(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>mo(n))}(n,"INTERNAL",t),removeTokenListener:t=>kv(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Jt.registerVersion)("@firebase/app-check","0.5.6")}();class Yg{constructor(){return(0,vi.vb)("app-check")}}"undefined"!=typeof window&&window;var XI=F(127);const gl=new s.OlP("angularfire2.auth.use-emulator"),Wg=new s.OlP("angularfire2.auth.settings"),Uw=new s.OlP("angularfire2.auth.tenant-id"),Uv=new s.OlP("angularfire2.auth.langugage-code"),Kg=new s.OlP("angularfire2.auth.use-device-language"),Hv=new s.OlP("angularfire.auth.persistence"),Qg=(n,t,e,i,r,o,u,h)=>(0,Vs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,o&&_.useDeviceLanguage(),u)for(const[b,T]of Object.entries(u))_.settings[b]=T;return h&&_.setPersistence(h),_},[e,i,r,o,u,h]);let Xg=(()=>{class n{constructor(e,i,r,o,u,h,_,b,T,M,O,L){const U=new mt.x,te=rt(void 0).pipe((0,Us.Q)(u.outsideAngular),Un(()=>o.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,820)))),(0,nt.U)(()=>(0,Vs.on)(e,o,i)),(0,nt.U)(Ce=>Qg(Ce,o,h,b,T,M,_,O)),hp({bufferSize:1,refCount:!1}));if(Fi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=rt(null);else{te.pipe(Yo()).subscribe();const Ke=te.pipe(Un(tt=>tt.getRedirectResult().then(Pt=>Pt,()=>null)),vi.iC,hp({bufferSize:1,refCount:!1})),at=te.pipe(Un(tt=>new dn.y(Pt=>({unsubscribe:o.runOutsideAngular(()=>tt.onAuthStateChanged(jt=>Pt.next(jt),jt=>Pt.error(jt),()=>Pt.complete()))})))),ot=te.pipe(Un(tt=>new dn.y(Pt=>({unsubscribe:o.runOutsideAngular(()=>tt.onIdTokenChanged(jt=>Pt.next(jt),jt=>Pt.error(jt),()=>Pt.complete()))}))));this.authState=Ke.pipe(Vi(at),(0,Cs.R)(u.outsideAngular),(0,Us.Q)(u.insideAngular)),this.user=Ke.pipe(Vi(ot),(0,Cs.R)(u.outsideAngular),(0,Us.Q)(u.insideAngular)),this.idToken=this.user.pipe(Un(tt=>tt?(0,Wn.D)(tt.getIdToken()):rt(null))),this.idTokenResult=this.user.pipe(Un(tt=>tt?(0,Wn.D)(tt.getIdTokenResult()):rt(null))),this.credential=(0,cn.T)(Ke,U,this.authState.pipe(Zn(tt=>!tt))).pipe((0,nt.U)(tt=>(null==tt?void 0:tt.user)?tt:null),(0,Cs.R)(u.outsideAngular),(0,Us.Q)(u.insideAngular))}return(0,Vs.pX)(this,te,o,{spy:{apply:(Ce,Ke,at)=>{(Ce.startsWith("signIn")||Ce.startsWith("createUser"))&&at.then(ot=>U.next(ot))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vs.Dh),s.LFG(Vs.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(vi.HU),s.LFG(gl,8),s.LFG(Wg,8),s.LFG(Uw,8),s.LFG(Uv,8),s.LFG(Kg,8),s.LFG(Hv,8),s.LFG(Yg,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Tc=(()=>{class n{constructor(){XI.Z.registerVersion("angularfire",vi.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Xg]}),n})();var Ch=F(4986),Jg=F(8189);function wp(...n){return function jv(){return(0,Jg.J)(1)}()((0,Wn.D)(n,(0,Xr.yG)(n)))}function Tr(...n){const t=(0,Xr.yG)(n);return(0,oi.e)((e,i)=>{(t?wp(n,e,t):wp(n,e)).subscribe(i)})}function Gv(){return(0,oi.e)((n,t)=>{let e,i=!1;n.subscribe((0,Fn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function JI(n,t,e,i,r){return(o,u)=>{let h=e,_=t,b=0;o.subscribe((0,Fn.x)(u,T=>{const M=b++;_=h?n(_,T,M):(h=!0,T),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}function _l(n,t){return(0,oi.e)(JI(n,t,arguments.length>=2,!0))}function Ic(n,t=pl.y){return n=null!=n?n:zv,(0,oi.e)((e,i)=>{let r,o=!0;e.subscribe((0,Fn.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function zv(n,t){return n===t}F(820);var st,Ep=F(3942),wh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},yl={},e_=e_||{},Ot=wh||self;function Dh(){}function t_(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Mc(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var n_="closure_uid_"+(1e9*Math.random()>>>0),mk=0;function Hw(n,t,e){return n.call.apply(n.bind,arguments)}function jw(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Ir(n,t,e){return(Ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hw:jw).apply(null,arguments)}function Tp(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Mr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function Ac(){this.s=this.s,this.o=this.o}var tM={};Ac.prototype.s=!1,Ac.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function eM(n){return Object.prototype.hasOwnProperty.call(n,n_)&&n[n_]||(n[n_]=++mk)}(this);delete tM[n]}},Ac.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Gw=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},nM=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function qv(n){return Array.prototype.concat.apply([],arguments)}function zw(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function i_(n){return/^[\s\xa0]*$/.test(n)}var rs,r_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Hr(n,t){return-1!=n.indexOf(t)}function $v(n,t){return n<t?-1:n>t?1:0}e:{var qw=Ot.navigator;if(qw){var Zv=qw.userAgent;if(Zv){rs=Zv;break e}}rs=""}function Yv(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Wv(n){const t={};for(const e in n)t[e]=n[e];return t}var $w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zw(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<$w.length;o++)e=$w[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function s_(n){return s_[" "](n),n}s_[" "]=Dh;var a_,n,iM=Hr(rs,"Opera"),ss=Hr(rs,"Trident")||Hr(rs,"MSIE"),o_=Hr(rs,"Edge"),Kv=o_||ss,Ww=Hr(rs,"Gecko")&&!(Hr(rs.toLowerCase(),"webkit")&&!Hr(rs,"Edge"))&&!(Hr(rs,"Trident")||Hr(rs,"MSIE"))&&!Hr(rs,"Edge"),_k=Hr(rs.toLowerCase(),"webkit")&&!Hr(rs,"Edge");function Qv(){var n=Ot.document;return n?n.documentMode:void 0}e:{var Xv="",Jv=(n=rs,Ww?/rv:([^\);]+)(\)|;)/.exec(n):o_?/Edge\/([\d\.]+)/.exec(n):ss?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_k?/WebKit\/(\S+)/.exec(n):iM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Jv&&(Xv=Jv?Jv[1]:""),ss){var Ip=Qv();if(null!=Ip&&Ip>parseFloat(Xv)){a_=String(Ip);break e}}a_=Xv}var rM={};var oM=Ot.document&&ss&&(Qv()||parseInt(a_,10))||void 0,eb=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",Dh,t),Ot.removeEventListener("test",Dh,t)}catch(e){}return n}();function sr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Th(n,t){if(sr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Ww){e:{try{s_(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:yk[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Th.Z.h.call(this)}}sr.prototype.h=function(){this.defaultPrevented=!0},Mr(Th,sr);var yk={2:"touch",3:"pen",4:"mouse"};Th.prototype.h=function(){Th.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var c_="closure_listenable_"+(1e6*Math.random()|0),tb=0;function vk(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++tb,this.ca=this.fa=!1}function u_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Mp(n){this.src=n,this.g={},this.h=0}function d_(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=Gw(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(u_(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function h_(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}Mp.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=h_(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new vk(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var f_="closure_lm_"+(1e6*Math.random()|0),p_={};function Ia(n,t,e,i,r){if(i&&i.once)return Kw(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ia(n,t[o],e,i,r);return null}return e=xp(e),n&&n[c_]?n.N(t,e,Mc(i)?!!i.capture:!!i,r):Ap(n,t,e,!1,i,r)}function Ap(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=Mc(r)?!!r.capture:!!r,h=Qu(n);if(h||(n[f_]=h=new Mp(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function aM(){var t=ib;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)eb||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(nb(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Kw(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Kw(n,t[o],e,i,r);return null}return e=xp(e),n&&n[c_]?n.O(t,e,Mc(i)?!!i.capture:!!i,r):Ap(n,t,e,!0,i,r)}function lM(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)lM(n,t[o],e,i,r);else i=Mc(i)?!!i.capture:!!i,e=xp(e),n&&n[c_]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=h_(o=n.g[t],e,i,r))&&(u_(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Qu(n))&&(t=n.g[t.toString()],n=-1,t&&(n=h_(t,e,i,r)),(e=-1<n?t[n]:null)&&Sp(e))}function Sp(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[c_])d_(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(nb(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Qu(t))?(d_(e,n),0==e.h&&(e.src=null,t[f_]=null)):u_(n)}}}function nb(n){return n in p_?p_[n]:p_[n]="on"+n}function ib(n,t){if(n.ca)n=!0;else{t=new Th(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&Sp(n),n=e.call(i,t)}return n}function Qu(n){return(n=n[f_])instanceof Mp?n:null}var rb="__closure_events_fn_"+(1e9*Math.random()>>>0);function xp(n){return"function"==typeof n?n:(n[rb]||(n[rb]=function(t){return n.handleEvent(t)}),n[rb])}function Ki(){Ac.call(this),this.i=new Mp(this),this.P=this,this.I=null}function or(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new sr(t,n);else if(t instanceof sr)t.target=t.target||n;else{var r=t;Zw(t=new sr(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=kp(u,i,!0,t)&&r}if(r=kp(u=t.g=n,i,!0,t)&&r,r=kp(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=kp(u=t.g=e[o],i,!1,t)&&r}function kp(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==e){var h=u.listener,_=u.ia||u.src;u.fa&&d_(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}Mr(Ki,Ac),Ki.prototype[c_]=!0,Ki.prototype.removeEventListener=function(n,t,e,i){lM(this,n,t,e,i)},Ki.prototype.M=function(){if(Ki.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)u_(e[i]);delete n.g[t],n.h--}}this.I=null},Ki.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ki.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var sb=Ot.JSON.stringify;function ob(){var n=Jw;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var ab,Qw=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Xw,n=>n.reset());class Xw{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Ih(n){Ot.setTimeout(()=>{throw n},0)}function m_(n,t){ab||function uM(){var n=Ot.Promise.resolve(void 0);ab=function(){n.then(dM)}}(),Sc||(ab(),Sc=!0),Jw.add(n,t)}var Sc=!1,Jw=new class cM{constructor(){this.h=this.g=null}add(t,e){const i=Qw.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function dM(){for(var n;n=ob();){try{n.h.call(n.g)}catch(e){Ih(e)}var t=Qw;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Sc=!1}function g_(n,t){Ki.call(this),this.h=n||1,this.g=t||Ot,this.j=Ir(this.kb,this),this.l=Date.now()}function lb(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function _o(n,t,e){if("function"==typeof n)e&&(n=Ir(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ir(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ot.setTimeout(n,t||0)}function __(n){n.g=_o(()=>{n.g=null,n.i&&(n.i=!1,__(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Mr(g_,Ki),(st=g_.prototype).da=!1,st.S=null,st.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),or(this,"tick"),this.da&&(lb(this),this.start()))}},st.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.M=function(){g_.Z.M.call(this),lb(this),delete this.g};class eD extends Ac{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:__(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mh(n){Ac.call(this),this.h=n,this.g={}}Mr(Mh,Ac);var cb=[];function ub(n,t,e,i){Array.isArray(e)||(e&&(cb[0]=e.toString()),e=cb);for(var r=0;r<e.length;r++){var o=Ia(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function tD(n){Yv(n.g,function(t,e){this.g.hasOwnProperty(e)&&Sp(t)},n),n.g={}}function y_(){this.g=!0}function Xu(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function nD(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return sb(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}Mh.prototype.M=function(){Mh.Z.M.call(this),tD(this)},Mh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},y_.prototype.Aa=function(){this.g=!1},y_.prototype.info=function(){};var Ju={},iD=null;function db(){return iD=iD||new Ki}function pM(n){sr.call(this,Ju.Ma,n)}function ed(n){const t=db();or(t,new pM(t,n))}function rD(n,t){sr.call(this,Ju.STAT_EVENT,n),this.stat=t}function jr(n){const t=db();or(t,new rD(t,n))}function hb(n,t){sr.call(this,Ju.Na,n),this.size=t}function v_(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},t)}Ju.Ma="serverreachability",Mr(pM,sr),Ju.STAT_EVENT="statevent",Mr(rD,sr),Ju.Na="timingevent",Mr(hb,sr);var ws={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sD(){}function pb(){}sD.prototype.h=null;var b_,Ah={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mb(){sr.call(this,"d")}function oD(){sr.call(this,"c")}function Sh(){}function Rp(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Mh(this),this.P=gM,this.W=new g_(n=Kv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new C_}function C_(){this.i=null,this.g="",this.h=!1}Mr(mb,sr),Mr(oD,sr),Mr(Sh,sD),Sh.prototype.g=function(){return new XMLHttpRequest},Sh.prototype.i=function(){return{}},b_=new Sh;var gM=45e3,gb={},w_={};function _b(n,t,e){n.K=1,n.v=Dl(Ds(t)),n.s=e,n.U=!0,aD(n,null)}function aD(n,t){n.F=Date.now(),Pp(n),n.A=Ds(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),mD(e.h,"t",i),n.C=0,e=n.l.H,n.h=new C_,n.g=MD(n.l,e?t:null,!n.s),0<n.O&&(n.L=new eD(Ir(n.Ia,n,n.g),n.O)),ub(n.V,n.g,"readystatechange",n.gb),t=n.H?Wv(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),ed(1),function hM(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),_=0;_<h.length;_++){var b=h[_].split("=");if(1<b.length){var T=b[0];b=b[1];var M=T.split("_");u=2<=M.length&&"type"==M[1]?u+(T+"=")+b+"&":u+(T+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function lD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Op(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=xh(n,e),r==w_){4==t&&(n.o=4,jr(14),i=!1),Xu(n.j,n.m,null,"[Incomplete Response]");break}if(r==gb){n.o=4,jr(15),Xu(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Xu(n.j,n.m,r,null),yo(n,r)}lD(n)&&r!=w_&&r!=gb&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,jr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Uh(t),t.L=!0,jr(11))):(Xu(n.j,n.m,e,"[Invalid Chunked Response]"),vl(n),Fp(n))}function xh(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?w_:(e=Number(t.substring(e,i)),isNaN(e)?gb:(i+=1)+e>t.length?w_:(t=t.substr(i,e),n.C=i+e,t))}function Pp(n){n.Y=Date.now()+n.P,kh(n,n.P)}function kh(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=v_(Ir(n.eb,n),t)}function D_(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Fp(n){0==n.l.G||n.I||P_(n.l,n)}function vl(n){D_(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,lb(n.W),tD(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function yo(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||wb(e.i,n)))if(e.I=n.N,!n.J&&wb(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=v_(Ir(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;qp(e),jp(e)}Vh(e),jr(18)}if(1>=bM(e.i)&&e.ka){try{e.ka()}catch(b){}e.ka=void 0}}else Rc(e,11)}else if((n.J||e.g==n)&&qp(e),!i_(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.U=b[0],b=b[1],2==e.G)if("c"==b[0]){e.J=b[1],e.la=b[2];const T=b[3];null!=T&&(e.ma=T,e.h.info("VER="+e.ma));const M=b[4];null!=M&&(e.za=M,e.h.info("SVER="+e.za));const O=b[5];null!=O&&"number"==typeof O&&0<O&&(e.K=i=1.5*O,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const L=n.g;if(L){const U=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var o=i.i;!o.g&&(Hr(U,"spdy")||Hr(U,"quic")||Hr(U,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(Lp(o,o.h),o.h=null))}if(i.D){const te=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(i.sa=te,Nn(i.F,i.D,te))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=N_(i,i.H?i.la:null,i.W),u.J){T_(i.i,u);var h=u,_=i.K;_&&h.setTimeout(_),h.B&&(D_(h),Pp(h)),i.g=u}else ID(i);0<e.l.length&&k_(e)}else"stop"!=b[0]&&"close"!=b[0]||Rc(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Rc(e,7):nd(e):"noop"!=b[0]&&e.j&&e.j.wa(b),e.A=0)}ed(4)}catch(b){}}function ar(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(t_(n)||"string"==typeof n)nM(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(t_(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function Np(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(t_(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function vo(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof vo)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function Rh(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];lr(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)lr(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function lr(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(st=Rp.prototype).setTimeout=function(n){this.P=n},st.gb=function(n){n=n.target;const t=this.L;t&&3==Ma(n)?t.l():this.Ia(n)},st.Ia=function(n){try{if(n==this.g)e:{const T=Ma(this.g);var t=this.g.Da();const M=this.g.ba();if(!(3>T)&&(3!=T||Kv||this.g&&(this.h.h||this.g.ga()||S_(this.g)))){this.I||4!=T||7==t||ed(8==t||0>=M?3:2),D_(this);var e=this.g.ba();this.N=e;t:if(lD(this)){var i=S_(this.g);n="";var r=i.length,o=4==Ma(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vl(this),Fp(this);var u="";break t}this.h.i=new Ot.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function fM(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!i_(h)){var b=h;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,jr(12),vl(this),Fp(this);break e}Xu(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yo(this,e)}this.U?(Op(this,T,u),Kv&&this.i&&3==T&&(ub(this.V,this.W,"tick",this.fb),this.W.start())):(Xu(this.j,this.m,u,null),yo(this,u)),4==T&&vl(this),this.i&&!this.I&&(4==T?P_(this.l,this):(this.i=!1,Pp(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,jr(12)):(this.o=0,jr(13)),vl(this),Fp(this)}}}catch(T){}},st.fb=function(){if(this.g){var n=Ma(this.g),t=this.g.ga();this.C<t.length&&(D_(this),Op(this,n,t),this.i&&4!=n&&Pp(this))}},st.cancel=function(){this.I=!0,vl(this)},st.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function bk(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ed(3),jr(17)),vl(this),this.o=2,Fp(this)):kh(this,this.Y-n)},(st=vo.prototype).R=function(){Rh(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},st.T=function(){return Rh(this),this.g.concat()},st.get=function(n,t){return lr(this.h,n)?this.h[n]:t},st.set=function(n,t){lr(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},st.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var E_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bo(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof bo){this.g=void 0!==t?t:n.g,bl(this,n.j),this.s=n.s,Cl(this,n.i),wl(this,n.m),this.l=n.l,t=n.h;var e=new Nh;e.i=t.i,t.g&&(e.g=new vo(t.g),e.h=t.h),td(this,e),this.o=n.o}else n&&(e=String(n).match(E_))?(this.g=!!t,bl(this,e[1]||"",!0),this.s=Ph(e[2]||""),Cl(this,e[3]||"",!0),wl(this,e[4]),this.l=Ph(e[5]||"",!0),td(this,e[6]||"",!0),this.o=Ph(e[7]||"")):(this.g=!!t,this.h=new Nh(null,this.g))}function Ds(n){return new bo(n)}function bl(n,t,e){n.j=e?Ph(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Cl(n,t,e){n.i=e?Ph(t,!0):t}function wl(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function td(n,t,e){t instanceof Nh?(n.h=t,function gD(n,t){t&&!n.j&&(xc(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(vb(this,i),mD(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Fh(t,pD)),n.h=new Nh(t,n.g))}function Nn(n,t,e){n.h.set(t,e)}function Dl(n){return Nn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ph(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Fh(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,dD),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bo.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Fh(t,yb,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Fh(t,yb,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Fh(e,"/"==e.charAt(0)?fD:hD,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Fh(e,_M)),n.join("")};var yb=/[#\/\?@]/g,hD=/[#\?:]/g,fD=/[#\?]/g,pD=/[#\?@]/g,_M=/#/g;function Nh(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function xc(n){n.g||(n.g=new vo,n.h=0,n.i&&function Oh(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function vb(n,t){xc(n),t=Lh(n,t),lr(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,lr((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Rh(n)))}function bb(n,t){return xc(n),t=Lh(n,t),lr(n.g.h,t)}function mD(n,t,e){vb(n,t),0<e.length&&(n.i=null,n.g.set(Lh(n,t),zw(e)),n.h+=e.length)}function Lh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Cb(n){this.l=n||vM,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=Nh.prototype).add=function(n,t){xc(this),this.i=null,n=Lh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},st.forEach=function(n,t){xc(this),this.g.forEach(function(e,i){nM(e,function(r){n.call(t,r,i,this)},this)},this)},st.T=function(){xc(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},st.R=function(n){xc(this);var t=[];if("string"==typeof n)bb(this,n)&&(t=qv(t,this.g.get(Lh(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=qv(t,n[e])}return t},st.set=function(n,t){return xc(this),this.i=null,bb(this,n=Lh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},st.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=r;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var vM=10;function _D(n){return!!n.h||!!n.g&&n.g.size>=n.j}function bM(n){return n.h?1:n.g?n.g.size:0}function wb(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Lp(n,t){n.g?n.g.add(t):n.h=t}function T_(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function yD(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return zw(n.i)}function vD(){}function Ck(){this.g=new vD}function wk(n,t,e){const i=e||"";try{ar(n,function(r,o){let u=r;Mc(r)&&(u=sb(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Bp(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function I_(n){this.l=n.$b||null,this.j=n.ib||!1}function M_(n,t){Ki.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=kc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cb.prototype.cancel=function(){if(this.i=yD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},vD.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},vD.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},Mr(I_,sD),I_.prototype.g=function(){return new M_(this.l,this.j)},I_.prototype.i=function(n){return function(){return n}}({}),Mr(M_,Ki);var kc=0;function bD(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Bh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Vp(n)}function Vp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=M_.prototype).open=function(n,t){if(this.readyState!=kc)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Vp(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ot).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bh(this)),this.readyState=kc},st.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Vp(this)),this.g&&(this.readyState=3,Vp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bD(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},st.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Bh(this):Vp(this),3==this.readyState&&bD(this)}},st.Ua=function(n){this.g&&(this.response=this.responseText=n,Bh(this))},st.Ta=function(n){this.g&&(this.response=n,Bh(this))},st.ha=function(){this.g&&Bh(this)},st.setRequestHeader=function(n,t){this.v.append(n,t)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(M_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var CD=Ot.JSON.parse;function ui(n){Ki.call(this),this.headers=new vo,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wD,this.K=this.L=!1}Mr(ui,Ki);var wD="",DD=/^https?$/i,wM=["POST","PUT"];function EM(n){return"content-type"==n.toLowerCase()}function ED(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,TD(n),A_(n)}function TD(n){n.D||(n.D=!0,or(n,"complete"),or(n,"error"))}function Db(n){if(n.h&&void 0!==e_&&(!n.C[1]||4!=Ma(n)||2!=n.ba()))if(n.v&&4==Ma(n))_o(n.Fa,0,n);else if(or(n,"readystatechange"),4==Ma(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(E_)[1]||null;if(!r&&Ot.self&&Ot.self.location){var o=Ot.self.location.protocol;r=o.substr(0,o.length-1)}i=!DD.test(r?r.toLowerCase():"")}e=i}if(e)or(n,"complete"),or(n,"success");else{n.m=6;try{var u=2<Ma(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",TD(n)}}finally{A_(n)}}}function A_(n,t){if(n.g){Eb(n);const e=n.g,i=n.C[0]?Dh:null;n.g=null,n.C=null,t||or(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function Eb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function Ma(n){return n.g?n.g.readyState:0}function S_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case wD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Up(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function Dk(n){let t="";return Yv(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Nn(n,t,e))}function Hp(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function TM(n){this.za=0,this.l=[],this.h=new y_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hp("baseRetryDelayMs",5e3,n),this.$a=Hp("retryDelaySeedMs",1e4,n),this.Ya=Hp("forwardChannelMaxRetries",2,n),this.ra=Hp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Cb(n&&n.concurrentRequestLimit),this.Ca=new Ck,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function nd(n){if(x_(n),3==n.G){var t=n.V++,e=Ds(n.F);Nn(e,"SID",n.J),Nn(e,"RID",t),Nn(e,"TYPE","terminate"),id(n,e),(t=new Rp(n,n.h,t,void 0)).K=2,t.v=Dl(Ds(e)),e=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(e=Ot.navigator.sendBeacon(t.v.toString(),"")),!e&&Ot.Image&&((new Image).src=t.v,e=!0),e||(t.g=MD(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Pp(t)}F_(n)}function jp(n){n.g&&(Uh(n),n.g.cancel(),n.g=null)}function x_(n){jp(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),qp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function Gp(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&k_(n)}function k_(n){_D(n.i)||n.m||(n.m=!0,m_(n.Ha,n),n.C=0)}function zp(n,t){var e;e=t?t.m:n.V++;const i=Ds(n.F);Nn(i,"SID",n.J),Nn(i,"RID",e),Nn(i,"AID",n.U),id(n,i),n.o&&n.s&&Up(i,n.o,n.s),e=new Rp(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=IM(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Lp(n.i,e),_b(e,i,t)}function id(n,t){n.j&&ar({},function(e,i){Nn(t,i,e)})}function IM(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Ir(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let _=0;_<e;_++){let b=r[_].h;const T=r[_].g;if(b-=o,0>b)o=Math.max(0,r[_].h-100),h=!1;else try{wk(T,u,"req"+b+"_")}catch(M){i&&i(T)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function ID(n){n.g||n.u||(n.Y=1,m_(n.Ga,n),n.A=0)}function Vh(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=v_(Ir(n.Ga,n),Tb(n,n.A)),n.A++,0))}function Uh(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function O_(n){n.g=new Rp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Ds(n.oa);Nn(t,"RID","rpc"),Nn(t,"SID",n.J),Nn(t,"CI",n.N?"0":"1"),Nn(t,"AID",n.U),id(n,t),Nn(t,"TYPE","xmlhttp"),n.o&&n.s&&Up(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Dl(Ds(t)),e.s=null,e.U=!0,aD(e,n)}function qp(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function P_(n,t){var e=null;if(n.g==t){qp(n),Uh(n),n.g=null;var i=2}else{if(!wb(n.i,t))return;e=t.D,T_(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;or(i=db(),new hb(i,e,t,r)),k_(n)}else ID(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function R_(n,t){return!(bM(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=v_(Ir(n.Ha,n,t),Tb(n,n.C)),n.C++,0)))}(n,t)||2==i&&Vh(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Rc(n,5);break;case 4:Rc(n,10);break;case 3:Rc(n,6);break;default:Rc(n,2)}}function Tb(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Rc(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Ir(n.jb,n);e||(e=new bo("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||bl(e,"https"),Dl(e)),function CM(n,t){const e=new y_;if(Ot.Image){const i=new Image;i.onload=Tp(Bp,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Tp(Bp,e,i,"TestLoadImage: error",!1,t),i.onabort=Tp(Bp,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Tp(Bp,e,i,"TestLoadImage: timeout",!1,t),Ot.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else jr(2);n.G=0,n.j&&n.j.va(t),F_(n),x_(n)}function F_(n){n.G=0,n.I=-1,n.j&&((0!=yD(n.i).length||0!=n.l.length)&&(n.i.i.length=0,zw(n.l),n.l.length=0),n.j.ua())}function N_(n,t,e){let i=function cD(n){return n instanceof bo?Ds(n):new bo(n,void 0)}(e);if(""!=i.i)t&&Cl(i,t+"."+i.i),wl(i,i.m);else{const r=Ot.location;i=function uD(n,t,e,i){var r=new bo(null,void 0);return n&&bl(r,n),t&&Cl(r,t),e&&wl(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Yv(n.aa,function(r,o){Nn(i,o,r)}),e=n.sa,(t=n.D)&&e&&Nn(i,t,e),Nn(i,"VER",n.ma),id(n,i),i}function MD(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ui(e&&n.Ba&&!n.qa?new I_({ib:!0}):n.qa)).L=n.H,t}function Ib(){}function $p(){if(ss&&!(10<=Number(oM)))throw Error("Environmental error: no available transport.")}function os(n,t){Ki.call(this),this.g=new TM(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!i_(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!i_(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new rd(this)}function Mb(n){mb.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function AD(){oD.call(this),this.status=1}function rd(n){this.g=n}(st=ui.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():b_.g(),this.C=function fb(n){return n.h||(n.h=n.i())}(this.u?this.u:b_),this.g.onreadystatechange=Ir(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void ED(this,o)}n=e||"";const r=new vo(this.headers);i&&ar(i,function(o,u){r.set(u,o)}),i=function gk(n){e:{var t=EM;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Ot.FormData&&n instanceof Ot.FormData,!(0<=Gw(wM,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Eb(this),0<this.B&&((this.K=function DM(n){return ss&&function sM(){return function Yw(n){var t=rM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=r_(String(a_)).split("."),e=r_("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=$v(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||$v(0==r[2].length,0==o[2].length)||$v(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ir(this.pa,this)):this.A=_o(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){ED(this,o)}},st.pa=function(){void 0!==e_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,or(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,or(this,"complete"),or(this,"abort"),A_(this))},st.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),A_(this,!0)),ui.Z.M.call(this)},st.Fa=function(){this.s||(this.F||this.v||this.l?Db(this):this.cb())},st.cb=function(){Db(this)},st.ba=function(){try{return 2<Ma(this)?this.g.status:-1}catch(n){return-1}},st.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},st.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),CD(t)}},st.Da=function(){return this.m},st.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=TM.prototype).ma=8,st.G=1,st.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},st.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Rp(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=Wv(o),Zw(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=IM(this,r,t),Nn(e=Ds(this.F),"RID",n),Nn(e,"CVER",22),this.D&&Nn(e,"X-HTTP-Session-Id",this.D),id(this,e),this.o&&o&&Up(e,this.o,o),Lp(this.i,r),this.Ra&&Nn(e,"TYPE","init"),this.ja?(Nn(e,"$req",t),Nn(e,"SID","null"),r.$=!0,_b(r,e,null)):_b(r,e,t),this.G=2}}else 3==this.G&&(n?zp(this,n):0==this.l.length||_D(this.i)||zp(this))},st.Ga=function(){if(this.u=null,O_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=v_(Ir(this.bb,this),n)}},st.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jr(10),jp(this),O_(this))},st.ab=function(){null!=this.v&&(this.v=null,jp(this),Vh(this),jr(19))},st.jb=function(n){n?(this.h.info("Successfully pinged google.com"),jr(2)):(this.h.info("Failed to ping google.com"),jr(1))},(st=Ib.prototype).xa=function(){},st.wa=function(){},st.va=function(){},st.ua=function(){},st.Oa=function(){},$p.prototype.g=function(n,t){return new os(n,t)},Mr(os,Ki),os.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),m_(Ir(n.hb,n,t))),jr(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=N_(n,null,n.W),k_(n)},os.prototype.close=function(){nd(this.g)},os.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,Gp(this.g,t)}else this.v?((t={}).__data__=sb(n),Gp(this.g,t)):Gp(this.g,n)},os.prototype.M=function(){this.g.j=null,delete this.j,nd(this.g),delete this.g,os.Z.M.call(this)},Mr(Mb,mb),Mr(AD,oD),Mr(rd,Ib),rd.prototype.xa=function(){or(this.g,"a")},rd.prototype.wa=function(n){or(this.g,new Mb(n))},rd.prototype.va=function(n){or(this.g,new AD(n))},rd.prototype.ua=function(){or(this.g,"b")},$p.prototype.createWebChannel=$p.prototype.g,os.prototype.send=os.prototype.u,os.prototype.open=os.prototype.m,os.prototype.close=os.prototype.close,ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,mM.COMPLETE="complete",pb.EventType=Ah,Ah.OPEN="a",Ah.CLOSE="b",Ah.ERROR="c",Ah.MESSAGE="d",Ki.prototype.listen=Ki.prototype.N,ui.prototype.listenOnce=ui.prototype.O,ui.prototype.getLastError=ui.prototype.La,ui.prototype.getLastErrorCode=ui.prototype.Da,ui.prototype.getStatus=ui.prototype.ba,ui.prototype.getResponseJson=ui.prototype.Qa,ui.prototype.getResponseText=ui.prototype.ga,ui.prototype.send=ui.prototype.ea;var SD=yl.createWebChannelTransport=function(){return new $p},xD=yl.getStatEventTarget=function(){return db()},Zp=yl.ErrorCode=ws,kD=yl.EventType=mM,RD=yl.Event=Ju,Ab=yl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},OD=yl.FetchXmlHttpFactory=I_,Yp=yl.WebChannel=pb,PD=yl.XhrIo=ui;const Sb="@firebase/firestore";class cr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");let Wp="9.6.11";const Oc=new Er.Yd("@firebase/firestore");function xb(){return Oc.logLevel}function Fe(n,...t){if(Oc.logLevel<=Er.in.DEBUG){const e=t.map(kb);Oc.debug(`Firestore (${Wp}): ${n}`,...e)}}function rn(n,...t){if(Oc.logLevel<=Er.in.ERROR){const e=t.map(kb);Oc.error(`Firestore (${Wp}): ${n}`,...e)}}function Hh(n,...t){if(Oc.logLevel<=Er.in.WARN){const e=t.map(kb);Oc.warn(`Firestore (${Wp}): ${n}`,...e)}}function kb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ct(n="Unexpected state"){const t=`FIRESTORE (${Wp}) INTERNAL ASSERTION FAILED: `+n;throw rn(t),new Error(t)}function Rt(n,t){n||ct()}function $e(n,t){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ut.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class ND{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(cr.UNAUTHENTICATED))}shutdown(){}}class AM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class BD{constructor(t){this.t=t,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let u=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ur,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const b=u;t.enqueueRetryable((0,Z.Z)(function*(){yield b.promise,yield o(i.currentUser)}))},_=b=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ur)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Rt("string"==typeof i.accessToken),new ND(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Rt(null===t||"string"==typeof t),new cr(t)}}class Ek{constructor(t,e,i){this.type="FirstParty",this.user=cr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class Rb{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new Ek(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aa{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.p;return this.p=o.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Rt("string"==typeof e.token),this.p=e.token,new L_(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class js{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function Sa(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}js.A=-1;class Co{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Sa(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Tt(n,t){return n<t?-1:n>t?1:0}function sd(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Ob(n){return n+"\0"}class Ai{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ai.fromMillis(Date.now())}static fromDate(t){return Ai.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ai(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Tt(this.nanoseconds,t.nanoseconds):Tt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(t){this.timestamp=t}static fromTimestamp(t){return new St(t)}static min(){return new St(new Ai(0,0))}static max(){return new St(new Ai(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function VD(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function od(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function B_(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class El{constructor(t,e,i){void 0===e?e=0:e>t.length&&ct(),void 0===i?i=t.length-e:i>t.length-e&&ct(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===El.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof El?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class hn extends El{construct(t,e,i){return new hn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Se(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new hn(e)}static emptyPath(){return new hn([])}}const UD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends El{construct(t,e,i){return new dr(t,e,i)}static isValidIdentifier(t){return UD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Se(le.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Se(le.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Se(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Se(le.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new dr(e)}static emptyPath(){return new dr([])}}class ad{constructor(t){this.fields=t,t.sort(dr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return sd(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class bi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new bi(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new bi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Tt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const SM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tl(n){if(Rt(!!n),"string"==typeof n){let t=0;const e=SM.exec(n);if(Rt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:di(n.seconds),nanos:di(n.nanos)}}function di(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Il(n){return"string"==typeof n?bi.fromBase64String(n):bi.fromUint8Array(n)}function jh(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Pb(n){const t=n.mapValue.fields.__previous_value__;return jh(t)?Pb(t):t}function Gh(n){const t=Tl(n.mapValue.fields.__local_write_time__.timestampValue);return new Ai(t.seconds,t.nanos)}class jD{constructor(t,e,i,r,o,u,h,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class xa{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new xa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof xa&&t.projectId===this.projectId&&t.database===this.database}}function Pc(n){return null==n}function zh(n){return 0===n&&1/n==-1/0}function Fb(n){return"number"==typeof n&&Number.isInteger(n)&&!zh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class je{constructor(t){this.path=t}static fromPath(t){return new je(hn.fromString(t))}static fromName(t){return new je(hn.fromString(t).popFirst(5))}static empty(){return new je(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===hn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return hn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new je(new hn(t.slice()))}}const Nb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},GD={nullValue:"NULL_VALUE"};function ld(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jh(n)?4:ZD(n)?9:10:ct()}function ka(n,t){if(n===t)return!0;const e=ld(n);if(e!==ld(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Gh(n).isEqual(Gh(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Tl(i.timestampValue),u=Tl(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Il(n.bytesValue).isEqual(Il(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return di(i.geoPointValue.latitude)===di(r.geoPointValue.latitude)&&di(i.geoPointValue.longitude)===di(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return di(i.integerValue)===di(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=di(i.doubleValue),u=di(r.doubleValue);return o===u?zh(o)===zh(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return sd(n.arrayValue.values||[],t.arrayValue.values||[],ka);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(VD(o)!==VD(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!ka(o[h],u[h])))return!1;return!0}(n,t);default:return ct()}var r}function Kp(n,t){return void 0!==(n.values||[]).find(e=>ka(e,t))}function Fc(n,t){if(n===t)return 0;const e=ld(n),i=ld(t);if(e!==i)return Tt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Tt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=di(r.integerValue||r.doubleValue),h=di(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return zD(n.timestampValue,t.timestampValue);case 4:return zD(Gh(n),Gh(t));case 5:return Tt(n.stringValue,t.stringValue);case 6:return function(r,o){const u=Il(r),h=Il(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let _=0;_<u.length&&_<h.length;_++){const b=Tt(u[_],h[_]);if(0!==b)return b}return Tt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Tt(di(r.latitude),di(o.latitude));return 0!==u?u:Tt(di(r.longitude),di(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let _=0;_<u.length&&_<h.length;++_){const b=Fc(u[_],h[_]);if(b)return b}return Tt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){const u=r.fields||{},h=Object.keys(u),_=o.fields||{},b=Object.keys(_);h.sort(),b.sort();for(let T=0;T<h.length&&T<b.length;++T){const M=Tt(h[T],b[T]);if(0!==M)return M;const O=Fc(u[h[T]],_[b[T]]);if(0!==O)return O}return Tt(h.length,b.length)}(n.mapValue,t.mapValue);default:throw ct()}}function zD(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Tt(n,t);const e=Tl(n),i=Tl(t),r=Tt(e.seconds,i.seconds);return 0!==r?r:Tt(e.nanos,i.nanos)}function qh(n){return Lb(n)}function Lb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Tl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Il(n.bytesValue).toBase64():"referenceValue"in n?je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Lb(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Lb(i.fields[h])}`;return o+"}"}(n.mapValue):ct();var t}function cd(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Bb(n){return!!n&&"integerValue"in n}function Qp(n){return!!n&&"arrayValue"in n}function qD(n){return!!n&&"nullValue"in n}function $D(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function V_(n){return!!n&&"mapValue"in n}function Xp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return od(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Xp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Xp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function ZD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function xM(n){return"nullValue"in n?GD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?cd(xa.empty(),je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ct()}function YD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?cd(xa.empty(),je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Nb:ct()}function Vb(n,t){return void 0===n?t:void 0===t||Fc(n,t)>0?n:t}function Ub(n,t){return void 0===n?t:void 0===t||Fc(n,t)<0?n:t}class Ar{constructor(t){this.value=t}static empty(){return new Ar({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!V_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xp(e)}setAll(t){let e=dr.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Xp(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());V_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ka(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];V_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){od(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Ar(Xp(this.value))}}function Hb(n){const t=[];return od(n.fields,(e,i)=>{const r=new dr([e]);if(V_(i)){const o=Hb(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new ad(t)}class Qn{constructor(t,e,i,r,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(t){return new Qn(t,0,St.min(),St.min(),Ar.empty(),0)}static newFoundDocument(t,e,i){return new Qn(t,1,e,St.min(),i,0)}static newNoDocument(t,e){return new Qn(t,2,e,St.min(),Ar.empty(),0)}static newUnknownDocument(t,e){return new Qn(t,3,e,St.min(),Ar.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ar.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Qn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jp{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function U_(n){return n.fields.find(t=>2===t.kind)}function Nc(n){return n.fields.filter(t=>2!==t.kind)}Jp.UNKNOWN_ID=-1;class $h{constructor(t,e){this.fieldPath=t,this.kind=e}}class ud{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new ud(0,Ml.min())}}function Lc(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(1e9===i?new Ai(e+1,0):new Ai(e,i));return new Ml(r,je.empty(),t)}function kM(n){return new Ml(n.readTime,n.key,-1)}class Ml{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ml(St.min(),je.empty(),-1)}static max(){return new Ml(St.max(),je.empty(),-1)}}function Zh(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=je.comparator(n.documentKey,t.documentKey),0!==e?e:Tt(n.largestBatchId,t.largestBatchId))}class Ik{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.P=null}}function H_(n,t=null,e=[],i=[],r=null,o=null,u=null){return new Ik(n,t,e,i,r,o,u)}function Yh(n){const t=$e(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+qh(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Pc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>qh(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>qh(i)).join(",")),t.P=e}return t.P}function Wh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!JD(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!ka(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!zb(n.startAt,t.startAt)&&zb(n.endAt,t.endAt)}function jb(n){return je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function bt(n,t){return n.filters.filter(e=>e instanceof Sr&&e.field.isEqual(t))}function KD(n,t,e){let i,r=!0;for(const o of bt(n,t)){let u,h=!0;switch(o.op){case"<":case"<=":u=xM(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=GD}Vb(i,u)===u&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];Vb(i,u)===u&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function QD(n,t,e){let i,r=!0;for(const o of bt(n,t)){let u,h=!0;switch(o.op){case">=":case">":u=YD(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Nb}Ub(i,u)===u&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];Ub(i,u)===u&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class Sr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new j_(t,e,i):"array-contains"===e?new Ci(t,i):"in"===e?new Mk(t,i):"not-in"===e?new XD(t,i):"array-contains-any"===e?new OM(t,i):new Sr(t,e,i)}static V(t,e,i){return"in"===e?new RM(t,i):new G_(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Fc(e,this.value)):null!==e&&ld(this.value)===ld(e)&&this.v(Fc(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ct()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class j_ extends Sr{constructor(t,e,i){super(t,e,i),this.key=je.fromName(i.referenceValue)}matches(t){const e=je.comparator(t.key,this.key);return this.v(e)}}class RM extends Sr{constructor(t,e){super(t,"in",e),this.keys=em(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class G_ extends Sr{constructor(t,e){super(t,"not-in",e),this.keys=em(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function em(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>je.fromName(i.referenceValue))}class Ci extends Sr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Qp(e)&&Kp(e.arrayValue,this.value)}}class Mk extends Sr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Kp(this.value.arrayValue,e)}}class XD extends Sr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Kp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Kp(this.value.arrayValue,e)}}class OM extends Sr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Qp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Kp(this.value.arrayValue,i))}}class Bc{constructor(t,e){this.position=t,this.inclusive=e}}class dd{constructor(t,e="asc"){this.field=t,this.dir=e}}function JD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function Gb(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?je.comparator(je.fromName(u.referenceValue),e.key):Fc(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function zb(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ka(n.position[e],t.position[e]))return!1;return!0}class Al{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=_,this.D=null,this.C=null}}function eE(n,t,e,i,r,o,u,h){return new Al(n,t,e,i,r,o,u,h)}function Kh(n){return new Al(n)}function Vc(n){return!Pc(n.limit)&&"F"===n.limitType}function z_(n){return!Pc(n.limit)&&"L"===n.limitType}function qb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function $b(n){for(const t of n.filters)if(t.S())return t.field;return null}function Qh(n){return null!==n.collectionGroup}function hd(n){const t=$e(n);if(null===t.D){t.D=[];const e=$b(t),i=qb(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new dd(e)),t.D.push(new dd(dr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.D.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new dd(dr.keyField(),o))}}}return t.D}function Gs(n){const t=$e(n);if(!t.C)if("F"===t.limitType)t.C=H_(t.path,t.collectionGroup,hd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of hd(t))e.push(new dd(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Bc(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new Bc(t.startAt.position,!t.startAt.inclusive):null;t.C=H_(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function Zb(n,t,e){return new Al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function tm(n,t){return Wh(Gs(n),Gs(t))&&n.limitType===t.limitType}function Xh(n){return`${Yh(Gs(n))}|lt:${n.limitType}`}function fd(n){return`Query(target=${function WD(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${qh(i.value)}`;var i}).join(", ")}]`),Pc(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>qh(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>qh(e)).join(",")),`Target(${t})`}(Gs(n))}; limitType=${n.limitType})`}function Yb(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):je.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=Gb(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,hd(e),i)||e.endAt&&!function(r,o,u){const h=Gb(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,hd(e),i)));var e,i}function tE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nE(n){return(t,e)=>{let i=!1;for(const r of hd(n)){const o=iE(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function iE(n,t,e){const i=n.field.isKeyField()?je.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),_=u.data.field(r);return null!==h&&null!==_?Fc(h,_):ct()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ct()}}function Wb(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(t)?"-0":t}}function Kb(n){return{integerValue:""+n}}function rE(n,t){return Fb(t)?Kb(t):Wb(n,t)}class nm{constructor(){this._=void 0}}function PM(n,t,e){return n instanceof im?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Jh?LM(n,t):n instanceof Uc?rm(n,t):function(i,r){const o=NM(i,r),u=sE(o)+sE(i.k);return Bb(o)&&Bb(i.k)?Kb(u):Wb(i.M,u)}(n,t)}function FM(n,t,e){return n instanceof Jh?LM(n,t):n instanceof Uc?rm(n,t):e}function NM(n,t){return n instanceof ef?Bb(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class im extends nm{}class Jh extends nm{constructor(t){super(),this.elements=t}}function LM(n,t){const e=Qb(t);for(const i of n.elements)e.some(r=>ka(r,i))||e.push(i);return{arrayValue:{values:e}}}class Uc extends nm{constructor(t){super(),this.elements=t}}function rm(n,t){let e=Qb(t);for(const i of n.elements)e=e.filter(r=>!ka(r,i));return{arrayValue:{values:e}}}class ef extends nm{constructor(t,e){super(),this.M=t,this.k=e}}function sE(n){return di(n.integerValue||n.doubleValue)}function Qb(n){return Qp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Sl{constructor(t,e){this.field=t,this.transform=e}}class VM{constructor(t,e){this.version=t,this.transformResults=e}}class Ui{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ui}static exists(t){return new Ui(void 0,t)}static updateTime(t){return new Ui(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function q_(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class $_{}function oE(n,t,e){n instanceof tf?function(i,r,o){const u=i.value.clone(),h=lE(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof md?function(i,r,o){if(!q_(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=lE(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(Jb(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Xb(n,t,e){var r;n instanceof tf?function(i,r,o){if(!q_(i.precondition,r))return;const u=i.value.clone(),h=e0(i.fieldTransforms,o,r);u.setAll(h),r.convertToFoundDocument(aE(r),u).setHasLocalMutations()}(n,t,e):n instanceof md?function(i,r,o){if(!q_(i.precondition,r))return;const u=e0(i.fieldTransforms,o,r),h=r.data;h.setAll(Jb(i)),h.setAll(u),r.convertToFoundDocument(aE(r),h).setHasLocalMutations()}(n,t,e):q_(n.precondition,r=t)&&r.convertToNoDocument(St.min())}function UM(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=NM(i.transform,r||null);null!=o&&(null==e&&(e=Ar.empty()),e.set(i.field,o))}return e||null}function pd(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&sd(e,i,(r,o)=>function BM(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Jh&&i instanceof Jh||e instanceof Uc&&i instanceof Uc?sd(e.elements,i.elements,ka):e instanceof ef&&i instanceof ef?ka(e.k,i.k):e instanceof im&&i instanceof im);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function aE(n){return n.isFoundDocument()?n.version:St.min()}class tf extends $_{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class md extends $_{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}}function Jb(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function lE(n,t,e){const i=new Map;Rt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,FM(u,h,e[r]))}return i}function e0(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,PM(o,u,t))}return i}class sm extends $_{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class om extends $_{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class HM{constructor(t){this.count=t}}var Si,un;function cE(n){switch(n){default:return ct();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function uE(n){if(void 0===n)return rn("GRPC error has no .code"),le.UNKNOWN;switch(n){case Si.OK:return le.OK;case Si.CANCELLED:return le.CANCELLED;case Si.UNKNOWN:return le.UNKNOWN;case Si.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Si.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Si.INTERNAL:return le.INTERNAL;case Si.UNAVAILABLE:return le.UNAVAILABLE;case Si.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Si.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Si.NOT_FOUND:return le.NOT_FOUND;case Si.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Si.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Si.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Si.ABORTED:return le.ABORTED;case Si.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Si.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Si.DATA_LOSS:return le.DATA_LOSS;default:return ct()}}(un=Si||(Si={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class Hc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){od(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return B_(this.inner)}size(){return this.innerSize}}class hi{constructor(t,e){this.comparator=t,this.root=e||hr.EMPTY}insert(t,e){return new hi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(t){return new hi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Z_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Z_(this.root,t,this.comparator,!1)}getReverseIterator(){return new Z_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Z_(this.root,t,this.comparator,!0)}}class Z_{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class hr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=null!=i?i:hr.RED,this.left=null!=r?r:hr.EMPTY,this.right=null!=o?o:hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new hr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return hr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const t=this.left.check();if(t!==this.right.check())throw ct();return t+(this.isRed()?0:1)}}hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1,hr.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,t,e,i,r){return this}insert(n,t,e){return new hr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(t){this.comparator=t,this.data=new hi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new dE(this.data.getIterator())}getIteratorFrom(t){return new dE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Jn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Jn(this.comparator);return e.data=t,e}}class dE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nf(n){return n.hasNext()?n.getNext():void 0}const jM=new hi(je.comparator);function wo(){return jM}const GM=new hi(je.comparator);function t0(){return GM}function am(){return new Hc(n=>n.toString(),(n,t)=>n.isEqual(t))}const hE=new hi(je.comparator),fE=new Jn(je.comparator);function kn(...n){let t=fE;for(const e of n)t=t.add(e);return t}const zM=new Jn(Tt);function lm(){return zM}class cm{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,um.createSynthesizedTargetChangeForCurrentChange(t,e)),new cm(St.min(),i,lm(),wo(),kn())}}class um{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new um(bi.EMPTY_BYTE_STRING,e,kn(),kn(),kn())}}class Y_{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class W_{constructor(t,e){this.targetId=t,this.$=e}}class K_{constructor(t,e,i=bi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class n0{constructor(){this.B=0,this.L=mE(),this.U=bi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=kn(),e=kn(),i=kn();return this.L.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ct()}}),new um(this.U,this.q,t,e,i)}J(){this.K=!1,this.L=mE()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class r0{constructor(t){this.nt=t,this.st=new Map,this.it=wo(),this.rt=pE(),this.ot=new Jn(Tt)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ct()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const o=r.target;if(jb(o))if(0===i){const u=new je(o.path);this.ct(e,u,Qn.newNoDocument(u,St.min()))}else Rt(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((o,u)=>{const h=this.wt(u);if(h){if(o.current&&jb(h.target)){const _=new je(h.target.path);null!==this.it.get(_)||this.It(u,_)||this.ct(u,_,Qn.newNoDocument(_,t))}o.j&&(e.set(u,o.H()),o.J())}});let i=kn();this.rt.forEach((o,u)=>{let h=!0;u.forEachWhile(_=>{const b=this.wt(_);return!b||2===b.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.it.forEach((o,u)=>u.setReadTime(t));const r=new cm(t,e,this.ot,this.it,i);return this.it=wo(),this.rt=pE(),this.ot=new Jn(Tt),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new n0,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new Jn(Tt),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Fe("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new n0),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function pE(){return new hi(je.comparator)}function mE(){return new hi(je.comparator)}const s0={asc:"ASCENDING",desc:"DESCENDING"},qM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class gE{constructor(t,e){this.databaseId=t,this.N=e}}function dm(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function o0(n,t){return n.N?t.toBase64():t.toUint8Array()}function $M(n,t){return dm(n,t.toTimestamp())}function Qi(n){return Rt(!!n),St.fromTimestamp(function(t){const e=Tl(t);return new Ai(e.seconds,e.nanos)}(n))}function _E(n,t){return(e=n,new hn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function yE(n){const t=hn.fromString(n);return Rt(wE(t)),t}function jc(n,t){return _E(n.databaseId,t.path)}function Ra(n,t){const e=yE(t);if(e.get(1)!==n.databaseId.projectId)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new je(ZM(e))}function Gc(n,t){return _E(n.databaseId,t)}function rf(n){const t=yE(n);return 4===t.length?hn.emptyPath():ZM(t)}function hm(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZM(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function a0(n,t,e){return{name:jc(n,t),fields:e.value.mapValue.fields}}function vE(n,t,e){const i=Ra(n,t.name),r=Qi(t.updateTime),o=new Ar({mapValue:{fields:t.fields}}),u=Qn.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function fm(n,t){let e;if(t instanceof tf)e={update:a0(n,t.key,t.value)};else if(t instanceof sm)e={delete:jc(n,t.key)};else if(t instanceof md)e={update:a0(n,t.key,t.data),updateMask:JM(t.fieldMask)};else{if(!(t instanceof om))return ct();e={verify:jc(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof im)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Jh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Uc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ef)return{fieldPath:o.field.canonicalString(),increment:u.k};throw ct()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:$M(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ct()),e;var r}function Q_(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ui.updateTime(Qi(r.updateTime)):void 0!==r.exists?Ui.exists(r.exists):Ui.none():Ui.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(Rt("REQUEST_TIME"===u.setToServerValue),h=new im):"appendMissingElements"in u?h=new Jh(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Uc(u.removeAllFromArray.values||[]):"increment"in u?h=new ef(o,u.increment):ct();const _=dr.fromServerFormat(u.fieldPath);return new Sl(_,h)}(n,r)):[];var r;if(t.update){const r=Ra(n,t.update.name),o=new Ar({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new ad((t.updateMask.fieldPaths||[]).map(b=>dr.fromServerFormat(b)));return new md(r,o,u,e,i)}return new tf(r,o,e,i)}if(t.delete){const r=Ra(n,t.delete);return new sm(r,e)}if(t.verify){const r=Ra(n,t.verify);return new om(r,e)}return ct()}function X_(n,t){return{documents:[Gc(n,t.path)]}}function pm(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Gc(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Gc(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(T=>function(M){if("=="===M.op){if($D(M.value))return{unaryFilter:{field:af(M.field),op:"IS_NAN"}};if(qD(M.value))return{unaryFilter:{field:af(M.field),op:"IS_NULL"}}}else if("!="===M.op){if($D(M.value))return{unaryFilter:{field:af(M.field),op:"IS_NOT_NAN"}};if(qD(M.value))return{unaryFilter:{field:af(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:af(M.field),op:QM(M.op),value:M.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(_){if(0!==_.length)return _.map(b=>{return{field:af((T=b).field),direction:CE(T.dir)};var T})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(b=t.limit,n.N||Pc(b)?b:{value:b});var b,h,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function sf(n){let t=rf(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Rt(1===i);const T=e.from[0];T.allDescendants?r=T.collectionId:t=t.child(T.collectionId)}let o=[];e.where&&(o=l0(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(T=>{return new dd(zc((M=T).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let h=null;e.limit&&(h=function(T){let M;return M="object"==typeof T?T.value:T,Pc(M)?null:M}(e.limit));let _=null;var T;e.startAt&&(_=new Bc((T=e.startAt).values||[],!!T.before));let b=null;return e.endAt&&(b=function(T){return new Bc(T.values||[],!T.before)}(e.endAt)),eE(t,r,u,o,h,"F",_,b)}function l0(n){return n?void 0!==n.unaryFilter?[Ak(n)]:void 0!==n.fieldFilter?[XM(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>l0(t)).reduce((t,e)=>t.concat(e)):ct():[]}function CE(n){return s0[n]}function QM(n){return qM[n]}function af(n){return{fieldPath:n.canonicalString()}}function zc(n){return dr.fromServerFormat(n.fieldPath)}function XM(n){return Sr.create(zc(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function Ak(n){switch(n.unaryFilter.op){case"IS_NAN":const t=zc(n.unaryFilter.field);return Sr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=zc(n.unaryFilter.field);return Sr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zc(n.unaryFilter.field);return Sr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=zc(n.unaryFilter.field);return Sr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function JM(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function wE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Hi(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=gd(t)),t=DE(n.get(e),t);return gd(t)}function DE(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function gd(n){return n+"\x01\x01"}function xl(n){const t=n.length;if(Rt(t>=2),2===t)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&ct(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:ct()}o=u+2}return new hn(i)}const c0=["userId","batchId"];function J_(n,t){return[n,Hi(t)]}function eA(n,t,e){return[n,Hi(t),e]}const EE={},Sk=["prefixPath","collectionGroup","readTime","documentId"],TE=["prefixPath","collectionGroup","documentId"],u0=["collectionGroup","readTime","prefixPath","documentId"],IE=["canonicalId","targetId"],ME=["targetId","path"],tA=["path","targetId"],nA=["collectionId","parent"],iA=["indexId","uid"],rA=["uid","sequenceNumber"],sA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oA=["indexId","uid","orderedDocumentKey"],aA=["userId","collectionPath","documentId"],lA=["userId","collectionPath","largestBatchId"],mm=["userId","collectionGroup","largestBatchId"],d0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],AE=[...d0,"documentOverlays"],h0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SE=[...h0,"indexConfiguration","indexState","indexEntries"],f0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class pe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new pe((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof pe?e:pe.resolve(e)}catch(e){return pe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):pe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):pe.reject(e)}static resolve(t){return new pe((e,i)=>{e(t)})}static reject(t){return new pe((e,i)=>{i(t)})}static waitFor(t){return new pe((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},_=>i(_))}),u=!0,o===r&&e()})}static or(t){let e=pe.resolve(!1);for(const i of t)e=e.next(r=>r?pe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}}class gm{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new ur,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new _m(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=Do(i.target.error);this.At.reject(new _m(t,r))}}static open(t,e,i,r){try{return new gm(e,t.transaction(r,i))}catch(o){throw new _m(e,o)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Fe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new ym(e)}}class Wo{constructor(t,e,i){this.name=t,this.version=e,this.bt=i,12.2===Wo.Vt((0,Ut.z$)())&&rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Fe("SimpleDb","Removing database:",t),yd(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,Ut.hl)())return!1;if(Wo.St())return!0;const t=(0,Ut.z$)(),e=Wo.Vt(t),i=0<e&&e<10,r=Wo.Dt(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,Z.Z)(function*(){return e.db||(Fe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new _m(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Se(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Se(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new _m(t,h))},o.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.bt.kt(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Z.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.Nt(t);const _=gm.open(o.db,t,u?"readonly":"readwrite",i),b=r(_).next(T=>(_.Pt(),T)).catch(T=>(_.abort(T),pe.reject(T))).toPromise();return b.catch(()=>{}),yield _.Rt,b}catch(_){const b="FirebaseError"!==_.name&&h<3;if(Fe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),o.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cA{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return yd(this.Ft.delete())}}class _m extends Se{constructor(t,e){super(le.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function _d(n){return"IndexedDbTransactionError"===n.name}class ym{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Fe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),yd(i)}add(t){return Fe("SimpleDb","ADD",this.store.name,t,t),yd(this.store.add(t))}get(t){return yd(this.store.get(t)).next(e=>(void 0===e&&(e=null),Fe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Fe("SimpleDb","DELETE",this.store.name,t),yd(this.store.delete(t))}count(){return Fe("SimpleDb","COUNT",this.store.name),yd(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.Kt(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new pe((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}Gt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new pe((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(t,e){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(o,u,h)=>h.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Kt(r,e)}zt(t){const e=this.cursor({});return new pe((i,r)=>{e.onerror=o=>{const u=Do(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}Kt(t,e){const i=[];return new pe((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new cA(h),b=e(h.primaryKey,h.value,_);if(b instanceof pe){const T=b.catch(M=>(_.done(),pe.reject(M)));i.push(T)}_.isDone?r():null===_.Lt?h.continue():h.continue(_.Lt)}}).next(()=>pe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function yd(n){return new pe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Do(i.target.error);e(r)}})}let ey=!1;function Do(n){const t=Wo.Vt((0,Ut.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ey||(ey=!0,setTimeout(()=>{throw i},0)),i}}return n}class xE extends p0{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function xi(n,t){const e=$e(n);return Wo.xt(e.Ht,t)}class vd{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&oE(o,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Xb(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Xb(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(St.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),kn())}isEqual(t){return this.batchId===t.batchId&&sd(this.mutations,t.mutations,(e,i)=>pd(e,i))&&sd(this.baseMutations,t.baseMutations,(e,i)=>pd(e,i))}}class m0{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Rt(t.mutations.length===i.length);let r=hE;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new m0(t,e,i,r)}}class g0{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qc{constructor(t,e,i,r,o=St.min(),u=St.min(),h=bi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new qc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class vm{constructor(t){this.Jt=t}}function kE(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:ny(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:jc(r=n.Jt,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:dm(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:$c(t.version)};else{if(!t.isUnknownDocument())return ct();i.unknownDocument={path:e.path.toArray(),version:$c(t.version)}}var r,o;return i}function ny(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function $c(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Zc(n){const t=new Ai(n.seconds,n.nanoseconds);return St.fromTimestamp(t)}function Yc(n,t){const e=(t.baseMutations||[]).map(o=>Q_(n.Jt,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>Q_(n.Jt,o)),r=Ai.fromMillis(t.localWriteTimeMs);return new vd(t.batchId,r,e,i)}function lf(n){const t=Zc(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Zc(n.lastLimboFreeSnapshotVersion):St.min();let i;var r;return void 0!==n.query.documents?(Rt(1===(r=n.query).documents.length),i=Gs(Kh(rf(r.documents[0])))):i=Gs(sf(n.query)),new qc(i,n.targetId,0,n.lastListenSequenceNumber,t,e,bi.fromBase64String(n.resumeToken))}function RE(n,t){const e=$c(t.snapshotVersion),i=$c(t.lastLimboFreeSnapshotVersion);let r;r=jb(t.target)?X_(n.Jt,t.target):pm(n.Jt,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Yh(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _0(n){const t=sf({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Zb(t,t.limit,"L"):t}function OE(n,t){return new g0(t.largestBatchId,Q_(n.Jt,t.overlayMutation))}function iy(n,t){const e=t.path.lastSegment();return[n,Hi(t.path.popLast()),e]}class y0{getBundleMetadata(t,e){return v0(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Zc(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return v0(t).put({bundleId:(i=e).id,createTime:$c(Qi(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return ry(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:_0(r.bundledQuery),readTime:Zc(r.readTime)};var r})}saveNamedQuery(t,e){return ry(t).put({name:(i=e).name,readTime:$c(Qi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function v0(n){return xi(n,"bundles")}function ry(n){return xi(n,"namedQueries")}class bm{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new bm(t,e.uid||"")}getOverlay(t,e){return Cm(t).get(iy(this.userId,e)).next(i=>i?OE(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new g0(e,u);r.push(this.Xt(t,h))}),pe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Hi(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(Cm(t).Qt("collectionPathOverlayIndex",h))}),pe.waitFor(o)}getOverlaysForCollection(t,e,i){const r=am(),o=Hi(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Cm(t).qt("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const b=OE(this.M,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=am();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Cm(t).Wt({index:"collectionGroupOverlayIndex",range:h},(_,b,T)=>{const M=OE(this.M,b);o.size()<r||M.largestBatchId===u?(o.set(M.getKey(),M),u=M.largestBatchId):T.done()}).next(()=>o)}Xt(t,e){return Cm(t).put(function(i,r,o){const[u,h,_]=iy(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:fm(i.Jt,o.mutation)}}(this.M,this.userId,e))}}function Cm(n){return xi(n,"documentOverlays")}class bd{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(di(t.integerValue));else if("doubleValue"in t){const i=di(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),zh(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(Il(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?ZD(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ct()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),je.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function uA(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function PE(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=uA(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}bd.fe=new bd;class FE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=PE(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=PE(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.be(0),this.be(255)):255===e?(this.be(255),this.be(0)):this.be(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class b0{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.Pe()}}class NE{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class cf{constructor(){this.De=new FE,this.Ce=new b0(this.De),this.xe=new NE(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class kl{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new kl(this.indexId,this.documentKey,this.arrayValue,i)}}function Wc(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=LE(n.arrayValue,t.arrayValue),0!==e?e:(e=LE(n.directionalValue,t.directionalValue),0!==e?e:je.comparator(n.documentKey,t.documentKey)))}function LE(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class BE{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=U_(t);if(void 0!==e&&!this.Be(e))return!1;const i=Nc(t);let r=0,o=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Me.length||!this.Ue(this.Me[o++],u))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class VE{constructor(){this.qe=new C0}addToCollectionParentIndex(t,e){return this.qe.add(e),pe.resolve()}getCollectionParents(t,e){return pe.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return pe.resolve()}deleteFieldIndex(t,e){return pe.resolve()}getDocumentsMatchingTarget(t,e){return pe.resolve(null)}getFieldIndex(t,e){return pe.resolve(null)}getFieldIndexes(t,e){return pe.resolve([])}getNextCollectionGroupToUpdate(t){return pe.resolve(null)}updateCollectionGroup(t,e,i){return pe.resolve()}updateIndexEntries(t,e){return pe.resolve()}}class C0{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Jn(hn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Jn(hn.comparator)).toArray()}}const Cd=new Uint8Array(0);class dA{constructor(t,e){this.user=t,this.databaseId=e,this.Ke=new C0,this.Ge=new Hc(i=>Yh(i),(i,r)=>Wh(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ke.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ke.add(e)});const o={collectionId:i,parent:Hi(r)};return Gr(t).put(o)}return pe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Ob(e),""],!1,!0);return Gr(t).qt(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(xl(u.parent))}return i})}addFieldIndex(t,e){const i=sy(t),r={indexId:(o=e).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var o;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=sy(t),r=oy(t),o=Oa(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Oa(t);let r=!0;const o=new Map;return pe.forEach(this.Qe(e),u=>this.getFieldIndex(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=kn();const h=[];return pe.forEach(o,(_,b)=>{var T;Fe("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(ot=>`${ot.fieldPath}:${ot.kind}`).join(",")}`} to execute ${Yh(e)}`);const M=function(ot,tt){const Pt=U_(tt);if(void 0===Pt)return null;for(const jt of bt(ot,Pt.fieldPath))switch(jt.op){case"array-contains-any":return jt.value.arrayValue.values||[];case"array-contains":return[jt.value]}return null}(b,_),O=function(ot,tt){const Pt=new Map;for(const jt of Nc(tt))for(const mn of bt(ot,jt.fieldPath))switch(mn.op){case"==":case"in":Pt.set(jt.fieldPath.canonicalString(),mn.value);break;case"not-in":case"!=":return Pt.set(jt.fieldPath.canonicalString(),mn.value),Array.from(Pt.values())}return null}(b,_),L=function(ot,tt){const Pt=[];let jt=!0;for(const mn of Nc(tt)){const Xi=0===mn.kind?KD(ot,mn.fieldPath,ot.startAt):QD(ot,mn.fieldPath,ot.startAt);if(!Xi.value)return null;Pt.push(Xi.value),jt&&(jt=Xi.inclusive)}return new Bc(Pt,jt)}(b,_),U=function(ot,tt){const Pt=[];let jt=!0;for(const mn of Nc(tt)){const Xi=0===mn.kind?QD(ot,mn.fieldPath,ot.endAt):KD(ot,mn.fieldPath,ot.endAt);if(!Xi.value)return null;Pt.push(Xi.value),jt&&(jt=Xi.inclusive)}return new Bc(Pt,jt)}(b,_),te=this.je(_,b,L),Ce=this.je(_,b,U),Ke=this.We(_,b,O),at=this.ze(_.indexId,M,te,!!L&&L.inclusive,Ce,!!U&&U.inclusive,Ke);return pe.forEach(at,ot=>i.Gt(ot,e.limit).next(tt=>{tt.forEach(Pt=>{const jt=je.fromSegments(Pt.documentKey);u.has(jt)||(u=u.add(jt),h.push(jt))})}))}).next(()=>h)}return pe.resolve(null)})}Qe(t){let e=this.Ge.get(t);return e||(e=[t],this.Ge.set(t,e),e)}ze(t,e,i,r,o,u,h){const _=(null!=e?e.length:1)*Math.max(null!=i?i.length:1,null!=o?o.length:1),b=_/(null!=e?e.length:1),T=[];for(let M=0;M<_;++M){const O=e?this.He(e[M/b]):Cd,L=i?this.Je(t,O,i[M%b],r):this.Ye(t),U=o?this.Xe(t,O,o[M%b],u):this.Ye(t+1);T.push(...this.createRange(L,U,h.map(te=>this.Je(t,O,te,!0))))}return T}Je(t,e,i,r){const o=new kl(t,je.empty(),e,i);return r?o:o.ke()}Xe(t,e,i,r){const o=new kl(t,je.empty(),e,i);return r?o.ke():o}Ye(t){return new kl(t,je.empty(),Cd,Cd)}getFieldIndex(t,e){const i=new BE(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{const u=o.filter(h=>i.$e(h));return u.sort((h,_)=>_.fields.length-h.fields.length),u.length>0?u[0]:null})}Ze(t,e){const i=new cf;for(const r of Nc(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.Ne(r.kind);bd.fe.Zt(o,u)}return i.Se()}He(t){const e=new cf;return bd.fe.Zt(t,e.Ne(0)),e.Se()}tn(t,e){const i=new cf;return bd.fe.Zt(cd(this.databaseId,e),i.Ne(function(r){const o=Nc(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Se()}We(t,e,i){if(null===i)return[];let r=[];r.push(new cf);let o=0;for(const u of Nc(t)){const h=i[o++];for(const _ of r)if(this.en(e,u.fieldPath)&&Qp(h))r=this.nn(r,u,h);else{const b=_.Ne(u.kind);bd.fe.Zt(h,b)}}return this.sn(r)}je(t,e,i){return null==i?null:this.We(t,e,i.position)}sn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}nn(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const _=new cf;_.seed(h.Se()),bd.fe.Zt(u,_.Ne(e.kind)),o.push(_)}return o}en(t,e){return!!t.filters.find(i=>i instanceof Sr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=sy(t),r=oy(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(o=>{const u=[];return pe.forEach(o,h=>r.get([h.indexId,this.uid]).next(_=>{u.push(function(b,T){const M=T?new ud(T.sequenceNumber,new Ml(Zc(T.readTime),new je(xl(T.documentKey)),T.largestBatchId)):ud.empty(),O=b.fields.map(([L,U])=>new $h(dr.fromServerFormat(L),U));return new Jp(b.indexId,b.collectionGroup,O,M)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Tt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=sy(t),o=oy(t);return this.rn(t).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>pe.forEach(h,_=>{return o.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:$c((O=i).readTime),documentKey:Hi(O.documentKey.path),largestBatchId:O.largestBatchId});var O})))}updateIndexEntries(t,e){const i=new Map;return pe.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?pe.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),pe.forEach(h,_=>this.on(t,r,_).next(b=>{const T=this.un(o,_);return b.isEqual(T)?pe.resolve():this.an(t,o,_,b,T)}))))})}cn(t,e,i,r){return Oa(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,e.key),documentKey:e.key.path.toArray()})}hn(t,e,i,r){return Oa(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,e.key),e.key.path.toArray()])}on(t,e,i){const r=Oa(t);let o=new Jn(Wc);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,e)])},(u,h)=>{o=o.add(new kl(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}un(t,e){let i=new Jn(Wc);const r=this.Ze(e,t);if(null==r)return i;const o=U_(e);if(null!=o){const u=t.data.field(o.fieldPath);if(Qp(u))for(const h of u.arrayValue.values||[])i=i.add(new kl(e.indexId,t.key,this.He(h),r))}else i=i.add(new kl(e.indexId,t.key,Cd,r));return i}an(t,e,i,r,o){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,_,b,T,M){const O=h.getIterator(),L=_.getIterator();let U=nf(O),te=nf(L);for(;U||te;){let Ce=!1,Ke=!1;if(U&&te){const at=b(U,te);at<0?Ke=!0:at>0&&(Ce=!0)}else null!=U?Ke=!0:Ce=!0;Ce?(T(te),te=nf(L)):Ke?(M(U),U=nf(O)):(U=nf(O),te=nf(L))}}(r,o,Wc,h=>{u.push(this.cn(t,e,i,h))},h=>{u.push(this.hn(t,e,i,h))}),pe.waitFor(u)}rn(t){let e=1;return oy(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>Wc(u,h)).filter((u,h,_)=>!h||0!==Wc(u,_[h-1]));const r=[];r.push(t);for(const u of i){const h=Wc(u,t),_=Wc(u,e);if(0===h)r[0]=t.ke();else if(h>0&&_<0)r.push(u),r.push(u.ke());else if(_>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,Cd,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,Cd,[]]));return o}}function Gr(n){return xi(n,"collectionParents")}function Oa(n){return xi(n,"indexEntries")}function sy(n){return xi(n,"indexConfiguration")}function oy(n){return xi(n,"indexState")}const hA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fr{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new fr(t,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function UE(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const _=i.Wt({range:u},(T,M,O)=>(h++,O.delete()));o.push(_.next(()=>{Rt(1===h)}));const b=[];for(const T of e.mutations){const M=eA(t,T.key.path,e.batchId);o.push(r.delete(M)),b.push(T.key)}return pe.waitFor(o).next(()=>b)}function uf(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ct();t=n.noDocument}return JSON.stringify(t).length}fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(41943040,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);class w0{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(t,e,i,r){Rt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new w0(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kc(t).Wt({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=df(t),u=Kc(t);return u.add({}).next(h=>{Rt("number"==typeof h);const _=new vd(h,e,i,r),b=function(O,L,U){const te=U.baseMutations.map(Ke=>fm(O.Jt,Ke)),Ce=U.mutations.map(Ke=>fm(O.Jt,Ke));return{userId:L,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:te,mutations:Ce}}(this.M,this.userId,_),T=[];let M=new Jn((O,L)=>Tt(O.canonicalString(),L.canonicalString()));for(const O of r){const L=eA(this.userId,O.key.path,h);M=M.add(O.key.path.popLast()),T.push(u.put(b)),T.push(o.put(L,EE))}return M.forEach(O=>{T.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.ln[h]=_.keys()}),pe.waitFor(T).next(()=>_)})}lookupMutationBatch(t,e){return Kc(t).get(e).next(i=>i?(Rt(i.userId===this.userId),Yc(this.M,i)):null)}fn(t,e){return this.ln[e]?pe.resolve(this.ln[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.ln[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Kc(t).Wt({index:"userMutationsIndex",range:r},(u,h,_)=>{h.userId===this.userId&&(Rt(h.batchId>=i),o=Yc(this.M,h)),_.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Kc(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kc(t).qt("userMutationsIndex",e).next(i=>i.map(r=>Yc(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=J_(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return df(t).Wt({range:r},(u,h,_)=>{const[b,T,M]=u,O=xl(T);if(b===this.userId&&e.path.isEqual(O))return Kc(t).get(M).next(L=>{if(!L)throw ct();Rt(L.userId===this.userId),o.push(Yc(this.M,L))});_.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Jn(Tt);const r=[];return e.forEach(o=>{const u=J_(this.userId,o.path),h=IDBKeyRange.lowerBound(u),_=df(t).Wt({range:h},(b,T,M)=>{const[O,L,U]=b,te=xl(L);O===this.userId&&o.path.isEqual(te)?i=i.add(U):M.done()});r.push(_)}),pe.waitFor(r).next(()=>this.dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=J_(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new Jn(Tt);return df(t).Wt({range:u},(_,b,T)=>{const[M,O,L]=_,U=xl(O);M===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(L)):T.done()}).next(()=>this.dn(t,h))}dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Kc(t).get(o).next(u=>{if(null===u)throw ct();Rt(u.userId===this.userId),i.push(Yc(this.M,u))}))}),pe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return UE(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this._n(e.batchId)}),pe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}_n(t){delete this.ln[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return pe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return df(t).Wt({range:i},(o,u,h)=>{if(o[0]===this.userId){const _=xl(o[1]);r.push(_)}else h.done()}).next(()=>{Rt(0===r.length)})})}containsKey(t,e){return D0(t,this.userId,e)}wn(t){return ay(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function D0(n,t,e){const i=J_(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return df(n).Wt({range:o,jt:!0},(h,_,b)=>{const[T,M,O]=h;T===t&&M===r&&(u=!0),b.done()}).next(()=>u)}function Kc(n){return xi(n,"mutations")}function df(n){return xi(n,"documentMutations")}function ay(n){return xi(n,"mutationQueues")}class Qc{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new Qc(0)}static yn(){return new Qc(-1)}}class HE{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.pn(t).next(e=>{const i=new Qc(e.highestTargetId);return e.highestTargetId=i.next(),this.In(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.pn(t).next(e=>St.fromTimestamp(new Ai(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.pn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.In(t,r)))}addTargetData(t,e){return this.Tn(t,e).next(()=>this.pn(t).next(i=>(i.targetCount+=1,this.En(e,i),this.In(t,i))))}updateTargetData(t,e){return this.Tn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Rl(t).delete(e.targetId)).next(()=>this.pn(t)).next(i=>(Rt(i.targetCount>0),i.targetCount-=1,this.In(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Rl(t).Wt((u,h)=>{const _=lf(h);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,o.push(this.removeTargetData(t,_)))}).next(()=>pe.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Rl(t).Wt((i,r)=>{const o=lf(r);e(o)})}pn(t){return ly(t).get("targetGlobalKey").next(e=>(Rt(null!==e),e))}In(t,e){return ly(t).put("targetGlobalKey",e)}Tn(t,e){return Rl(t).put(RE(this.M,e))}En(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.pn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Yh(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Rl(t).Wt({range:r,index:"queryTargetsIndex"},(u,h,_)=>{const b=lf(h);Wh(e,b.target)&&(o=b,_.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=wd(t);return e.forEach(u=>{const h=Hi(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),pe.waitFor(r)}removeMatchingKeys(t,e,i){const r=wd(t);return pe.forEach(e,o=>{const u=Hi(o.path);return pe.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=wd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=wd(t);let o=kn();return r.Wt({range:i,jt:!0},(u,h,_)=>{const b=xl(u[1]),T=new je(b);o=o.add(T)}).next(()=>o)}containsKey(t,e){const i=Hi(e.path),r=IDBKeyRange.bound([i],[Ob(i)],!1,!0);let o=0;return wd(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,h],_,b)=>{0!==u&&(o++,b.done())}).next(()=>o>0)}Et(t,e){return Rl(t).get(e).next(i=>i?lf(i):null)}}function Rl(n){return xi(n,"targets")}function ly(n){return xi(n,"targetGlobal")}function wd(n){return xi(n,"targetDocuments")}function Xc(n){return E0.apply(this,arguments)}function E0(){return E0=(0,Z.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==f0)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),E0.apply(this,arguments)}function T0([n,t],[e,i]){const r=Tt(n,e);return 0===r?Tt(t,i):r}class cy{constructor(t){this.An=t,this.buffer=new Jn(T0),this.Rn=0}Pn(){return++this.Rn}bn(t){const e=[t,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();T0(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class jE{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Vn=!1,this.vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(t)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(t){var e=this;const i=this.Vn?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Z.Z)(function*(){e.vn=null,e.Vn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){_d(r)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Xc(r)}yield e.Sn(t)}))}}class fA{constructor(t,e){this.Dn=t,this.params=e}calculateTargetCount(t,e){return this.Dn.Cn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return pe.resolve(js.A);const i=new cy(e);return this.Dn.forEachTarget(t,r=>i.bn(r.sequenceNumber)).next(()=>this.Dn.xn(t,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Dn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Dn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(hA)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hA):this.Nn(t,e))}getCacheSize(t){return this.Dn.getCacheSize(t)}Nn(t,e){let i,r,o,u,h,_,b;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(t,r))).next(M=>(i=M,h=Date.now(),this.removeTargets(t,i,e))).next(M=>(o=M,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(M=>(b=Date.now(),xb()<=Er.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(_-h)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-T}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:M})))}}class I0{constructor(t,e){this.db=t,this.garbageCollector=new fA(this,e)}Cn(t){const e=this.kn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}kn(t){let e=0;return this.xn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}xn(t,e){return this.Mn(t,(i,r)=>e(r))}addReference(t,e,i){return hf(t,i)}removeReference(t,e,i){return hf(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return hf(t,e)}On(t,e){return function(i,r){let o=!1;return ay(i).zt(u=>D0(i,u,r).next(h=>(h&&(o=!0),pe.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Mn(t,(u,h)=>{if(h<=e){const _=this.On(t,u).next(b=>{if(!b)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,St.min()),wd(t).delete([0,Hi(u.path)])))});r.push(_)}}).next(()=>pe.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return hf(t,e)}Mn(t,e){const i=wd(t);let r,o=js.A;return i.Wt({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:b})=>{0===u?(o!==js.A&&e(new je(xl(r)),o),o=b,r=_):o=js.A}).next(()=>{o!==js.A&&e(new je(xl(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function hf(n,t){return wd(n).put((i=n.currentSequenceNumber,{targetId:0,path:Hi(t.path),sequenceNumber:i}));var i}class pA{constructor(){this.changes=new Hc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Qn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?pe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class mA{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Jc(t).put(i)}removeEntry(t,e,i){return Jc(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],ny(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Fn(t,i)))}getEntry(t,e){let i=Qn.newInvalidDocument(e);return Jc(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(wm(e))},(r,o)=>{i=this.$n(e,o)}).next(()=>i)}Bn(t,e){let i={size:0,document:Qn.newInvalidDocument(e)};return Jc(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(wm(e))},(r,o)=>{i={document:this.$n(e,o),size:uf(o)}}).next(()=>i)}getEntries(t,e){let i=wo();return this.Ln(t,e,(r,o)=>{const u=this.$n(r,o);i=i.insert(r,u)}).next(()=>i)}Un(t,e){let i=wo(),r=new hi(je.comparator);return this.Ln(t,e,(o,u)=>{const h=this.$n(o,u);i=i.insert(o,h),r=r.insert(o,uf(u))}).next(()=>({documents:i,qn:r}))}Ln(t,e,i){if(e.isEmpty())return pe.resolve();let r=new Jn(S0);e.forEach(_=>r=r.add(_));const o=IDBKeyRange.bound(wm(r.first()),wm(r.last())),u=r.getIterator();let h=u.getNext();return Jc(t).Wt({index:"documentKeyIndex",range:o},(_,b,T)=>{const M=je.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&S0(h,M)<0;)i(h,null),h=u.getNext();h&&h.isEqual(M)&&(i(h,b),h=u.hasNext()?u.getNext():null),h?T.Ut(wm(h)):T.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),ny(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jc(t).qt(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=wo();for(const _ of u){const b=this.$n(je.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);h=h.insert(b.key,b)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=wo();const u=A0(e,i),h=A0(e,Ml.max());return Jc(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,b,T)=>{const M=this.$n(je.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);o=o.insert(M.key,M),o.size===r&&T.done()}).next(()=>o)}newChangeBuffer(t){return new gA(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return M0(t).get("remoteDocumentGlobalKey").next(e=>(Rt(!!e),e))}Fn(t,e){return M0(t).put("remoteDocumentGlobalKey",e)}$n(t,e){if(e){const i=function ty(n,t){let e;if(t.document)e=vE(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=je.fromSegments(t.noDocument.path),r=Zc(t.noDocument.readTime);e=Qn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ct();{const i=je.fromSegments(t.unknownDocument.path),r=Zc(t.unknownDocument.version);e=Qn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ai(i[0],i[1]);return St.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(St.min()))return i}return Qn.newInvalidDocument(t)}}class gA extends pA{constructor(t,e){super(),this.Kn=t,this.trackRemovals=e,this.Gn=new Hc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Jn((o,u)=>Tt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Gn.get(o);if(e.push(this.Kn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const _=kE(this.Kn.M,u);r=r.add(o.path.popLast()),i+=uf(_)-h.size,e.push(this.Kn.addEntry(t,o,_))}else if(i-=h.size,this.trackRemovals){const _=kE(this.Kn.M,u.convertToNoDocument(St.min()));e.push(this.Kn.addEntry(t,o,_))}}),r.forEach(o=>{e.push(this.Kn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Kn.updateMetadata(t,i)),pe.waitFor(e)}getFromCache(t,e){return this.Kn.Bn(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Kn.Un(t,e).next(({documents:i,qn:r})=>(r.forEach((o,u)=>{this.Gn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function M0(n){return xi(n,"remoteDocumentGlobal")}function Jc(n){return xi(n,"remoteDocumentsV14")}function wm(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function A0(n,t){const e=t.documentKey.path.toArray();return[n,ny(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function S0(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Tt(e[o],i[o]),r)return r;return r=Tt(e.length,i.length),r||(r=Tt(e[e.length-2],i[i.length-2]),r||Tt(e[e.length-1],i[i.length-1]))}class _A{constructor(t){this.M=t}kt(t,e,i,r){const o=new gm("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",c0,{unique:!0}),h.createObjectStore("documentMutations"),GE(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=pe.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),GE(t)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store("mutations").qt().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",c0,{unique:!0});const T=_.store("mutations"),M=b.map(O=>T.put(O));return pe.waitFor(M)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Qn(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.jn(o)))),i<7&&r>=7&&(u=u.next(()=>this.Wn(o))),i<8&&r>=8&&(u=u.next(()=>this.zn(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Hn(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:aA});_.createIndex("collectionPathOverlayIndex",lA,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",mm,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:Sk});_.createIndex("documentKeyIndex",TE),_.createIndex("collectionGroupIndex",u0)}(t)).next(()=>this.Jn(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:iA}).createIndex("sequenceNumberIndex",rA,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:sA}).createIndex("documentKeyIndex",oA,{unique:!1})}(t)})),u}jn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=uf(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>pe.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(h=>pe.forEach(h,_=>{Rt(_.userId===o.userId);const b=Yc(this.M,_);return UE(t,o.userId,b).next(()=>{})}))}))}Wn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Wt((u,h)=>{const _=new hn(u),b=[0,Hi(_)];o.push(e.get(b).next(T=>T?pe.resolve():e.put({targetId:0,path:Hi(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>pe.waitFor(o))})}zn(t,e){t.createObjectStore("collectionParents",{keyPath:nA});const i=e.store("collectionParents"),r=new C0,o=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:Hi(_)})}};return e.store("remoteDocuments").Wt({jt:!0},(u,h)=>{const _=new hn(u);return o(_.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([u,h,_],b)=>{const T=xl(h);return o(T.popLast())}))}Hn(t){const e=t.store("targets");return e.Wt((i,r)=>{const o=lf(r),u=RE(this.M,o);return e.put(u)})}Jn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((o,u)=>{const h=e.store("remoteDocumentsV14"),_=(b=u,b.document?new je(hn.fromString(b.document.name).popFirst(5)):b.noDocument?je.fromSegments(b.noDocument.path):b.unknownDocument?je.fromSegments(b.unknownDocument.path):ct()).path.toArray();var b;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(T))}).next(()=>pe.waitFor(r))}}function GE(n){n.createObjectStore("targetDocuments",{keyPath:ME}).createIndex("documentTargetsIndex",tA,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",IE,{unique:!0}),n.createObjectStore("targetGlobal")}const uy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class x0{constructor(t,e,i,r,o,u,h,_,b,T,M=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Yn=o,this.window=u,this.document=h,this.Xn=b,this.Zn=T,this.ts=M,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=O=>Promise.resolve(),!x0.vt())throw new Se(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new I0(this,r),this.hs=e+"main",this.M=new vm(_),this.ls=new Wo(this.hs,this.ts,new _A(this.M)),this.fs=new HE(this.referenceDelegate,this.M),this.ds=new mA(this.M),this._s=new y0,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&rn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(le.FAILED_PRECONDITION,uy);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.fs.getHighestSequenceNumber(t))}).then(t=>{this.es=new js(t,this.Xn)}).then(()=>{this.ns=!0}).catch(t=>(this.ls&&this.ls.close(),Promise.reject(t)))}Ts(t){var e=this;return this.cs=function(){var i=(0,Z.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ls.Ot(function(){var e=(0,Z.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Yn.enqueueAndForget((0,Z.Z)(function*(){e.started&&(yield e.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Dm(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(t).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(t)).next(e=>this.isPrimary&&!e?this.Rs(t).next(()=>!1):!!e&&this.Ps(t).next(()=>!0))).catch(t=>{if(_d(t))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Yn.enqueueRetryable(()=>this.cs(t)),this.isPrimary=t})}Es(t){return ff(t).get("owner").next(e=>pe.resolve(this.bs(e)))}Vs(t){return Dm(t).delete(this.clientId)}vs(){var t=this;return(0,Z.Z)(function*(){if(t.isPrimary&&!t.Ss(t.us,18e5)){t.us=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=xi(i,"clientMetadata");return r.qt().next(o=>{const u=t.Ds(o,18e5),h=o.filter(_=>-1===u.indexOf(_));return pe.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(t.ws)for(const i of e)t.ws.removeItem(t.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(t){return!!t&&t.ownerId===this.clientId}As(t){return this.Zn?pe.resolve(!0):ff(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)){if(this.bs(e)&&this.networkEnabled)return!0;if(!this.bs(e)){if(!e.allowTabSynchronization)throw new Se(le.FAILED_PRECONDITION,uy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dm(t).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Fe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Z.Z)(function*(){t.ns=!1,t.Ns(),t.os&&(t.os.cancel(),t.os=null),t.ks(),t.Ms(),yield t.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new xE(e,js.A);return t.Rs(i).next(()=>t.Vs(i))}),t.ls.close(),t.Os()})()}Ds(t,e){return t.filter(i=>this.Ss(i.updateTimeMs,e)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",t=>Dm(t).qt().next(e=>this.Ds(e,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(t,e){return w0.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(t){return new dA(t,this.M.Jt.databaseId)}getDocumentOverlayCache(t){return bm.Yt(this.M,t)}getBundleCache(){return this._s}runTransaction(t,e,i){Fe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=14===(u=this.ts)?SE:13===u?h0:12===u?AE:11===u?d0:void ct();var u;let h;return this.ls.runTransaction(t,r,o,_=>(h=new xE(_,this.es?this.es.next():js.A),"readwrite-primary"===e?this.Es(h).next(b=>!!b||this.As(h)).next(b=>{if(!b)throw rn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Se(le.FAILED_PRECONDITION,f0);return i(h)}).next(b=>this.Ps(h).next(()=>b)):this.$s(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}$s(t){return ff(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.bs(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Se(le.FAILED_PRECONDITION,uy)})}Ps(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ff(t).put("owner",e)}static vt(){return Wo.vt()}Rs(t){const e=ff(t);return e.get("owner").next(i=>this.bs(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):pe.resolve())}Ss(t,e){const i=Date.now();return!(t<i-e||t>i&&(rn(`Detected an update time that is in the future: ${t} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Ut.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(t){var e;try{const i=null!==(null===(e=this.ws)||void 0===e?void 0:e.getItem(this.Cs(t)));return Fe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return rn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(t){rn("Failed to set zombie client id.",t)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(t){}}Cs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function ff(n){return xi(n,"owner")}function Dm(n){return xi(n,"clientMetadata")}function dy(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class zE{constructor(t,e,i){this.ds=t,this.Bs=e,this.indexManager=i}Ls(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Us(t,e,i))}Us(t,e,i){return this.ds.getEntry(t,e).next(r=>{for(const o of i)o.applyToLocalView(r);return r})}qs(t,e){t.forEach((i,r)=>{for(const o of e)o.applyToLocalView(r)})}Ks(t,e){return this.ds.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.qs(e,i))}Qs(t,e,i){return je.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(t,e.path):Qh(e)?this.Ws(t,e,i):this.zs(t,e,i);var r}js(t,e){return this.Ls(t,new je(e)).next(i=>{let r=t0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(t,e,i){const r=e.collectionGroup;let o=t0();return this.indexManager.getCollectionParents(t,r).next(u=>pe.forEach(u,h=>{const _=(b=e,T=h.child(r),new Al(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.zs(t,_,i).next(b=>{b.forEach((T,M)=>{o=o.insert(T,M)})})}).next(()=>o))}zs(t,e,i){let r;return this.ds.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.Bs.getAllMutationBatchesAffectingQuery(t,e))).next(o=>{for(const u of o)for(const h of u.mutations){const _=h.key;let b=r.get(_);null==b&&(b=Qn.newInvalidDocument(_),r=r.insert(_,b)),Xb(h,b,u.localWriteTime),b.isFoundDocument()||(r=r.remove(_))}}).next(()=>(r.forEach((o,u)=>{Yb(e,u)||(r=r.remove(o))}),r))}}class k0{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Hs=i,this.Js=r}static Ys(t,e){let i=kn(),r=kn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new k0(t,e.fromCache,i,r)}}class qE{Xs(t){this.Zs=t}Qs(t,e,i,r){return 0===(o=e).filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())||i.isEqual(St.min())?this.ti(t,e):this.Zs.Ks(t,r).next(o=>{const u=this.ei(e,o);return(Vc(e)||z_(e))&&this.ni(e.limitType,u,r,i)?this.ti(t,e):(xb()<=Er.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fd(e)),this.Zs.Qs(t,e,Lc(i,-1)).next(h=>(u.forEach(_=>{h=h.insert(_.key,_)}),h)))});var o}ei(t,e){let i=new Jn(nE(t));return e.forEach((r,o)=>{Yb(t,o)&&(i=i.add(o))}),i}ni(t,e,i,r){if(i.size!==e.size)return!0;const o="F"===t?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ti(t,e){return xb()<=Er.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",fd(e)),this.Zs.Qs(t,e,Ml.min())}}class xk{constructor(t,e,i,r){this.persistence=t,this.si=e,this.M=r,this.ii=new hi(Tt),this.ri=new Hc(o=>Yh(o),Wh),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(i)}ai(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.ci=new zE(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ii))}}function R0(n,t,e,i){return new xk(n,t,e,i)}function yA(n,t){return $E.apply(this,arguments)}function $E(){return $E=(0,Z.Z)(function*(n,t){const e=$e(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.Bs.getAllMutationBatches(i).next(o=>(r=o,e.ai(t),e.Bs.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let _=kn();for(const b of r){u.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}for(const b of o){h.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}return e.ci.Ks(i,_).next(b=>({hi:b,removedBatchIds:u,addedBatchIds:h}))})})}),$E.apply(this,arguments)}function kk(n,t){const e=$e(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.ui.newChangeBuffer({trackRemovals:!0});return function(u,h,_,b){const T=_.batch,M=T.keys();let O=pe.resolve();return M.forEach(L=>{O=O.next(()=>b.getEntry(h,L)).next(U=>{const te=_.docVersions.get(L);Rt(null!==te),U.version.compareTo(te)<0&&(T.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),b.addEntry(U)))})}),O.next(()=>u.Bs.removeMutationBatch(h,T))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.Bs.performConsistencyCheck(i)).next(()=>e.ci.Ks(i,r))})}function vA(n){const t=$e(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function Rk(n,t){const e=$e(n),i=t.snapshotVersion;let r=e.ii;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.ui.newChangeBuffer({trackRemovals:!0});r=e.ii;const h=[];t.targetChanges.forEach((b,T)=>{const M=r.get(T);if(!M)return;h.push(e.fs.removeMatchingKeys(o,b.removedDocuments,T).next(()=>e.fs.addMatchingKeys(o,b.addedDocuments,T)));let O=M.withSequenceNumber(o.currentSequenceNumber);var L,U,te;t.targetMismatches.has(T)?O=O.withResumeToken(bi.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,i)),r=r.insert(T,O),U=O,te=b,(0===(L=M).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&h.push(e.fs.updateTargetData(o,O))});let _=wo();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,b))}),h.push(bA(o,u,t.documentUpdates).next(b=>{_=b})),!i.isEqual(St.min())){const b=e.fs.getLastRemoteSnapshotVersion(o).next(T=>e.fs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(b)}return pe.waitFor(h).next(()=>u.apply(o)).next(()=>e.ci.Gs(o,_)).next(()=>_)}).then(o=>(e.ii=r,o))}function bA(n,t,e){let i=kn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let o=wo();return e.forEach((u,h)=>{const _=r.get(u);h.isNoDocument()&&h.version.isEqual(St.min())?(t.removeEntry(u,h.readTime),o=o.insert(u,h)):!_.isValidDocument()||h.version.compareTo(_.version)>0||0===h.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(h),o=o.insert(u,h)):Fe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",h.version)}),o})}function Ok(n,t){const e=$e(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.Bs.getNextMutationBatchAfterBatchId(i,t)))}function Em(n,t){const e=$e(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.fs.getTargetData(i,t).next(o=>o?(r=o,pe.resolve(r)):e.fs.allocateTargetId(i).next(u=>(r=new qc(t,u,0,i.currentSequenceNumber),e.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ii.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ii=e.ii.insert(i.targetId,i),e.ri.set(t,i.targetId)),i})}function Ol(n,t,e){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,Z.Z)(function*(n,t,e){const i=$e(n),r=i.ii.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!_d(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.ii=i.ii.remove(t),i.ri.delete(r.target)}),ZE.apply(this,arguments)}function Tm(n,t,e){const i=$e(n);let r=St.min(),o=kn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,b){const T=$e(h),M=T.ri.get(b);return void 0!==M?pe.resolve(T.ii.get(M)):T.fs.getTargetData(_,b)}(i,u,Gs(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(u,h.targetId).next(_=>{o=_})}).next(()=>i.si.Qs(u,t,e?r:St.min(),e?o:kn())).next(h=>(P0(i,tE(t),h),{documents:h,li:o})))}function hy(n,t){const e=$e(n),i=$e(e.fs),r=e.ii.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,t).next(u=>u?u.target:null))}function O0(n,t){const e=$e(n),i=e.oi.get(t)||St.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ui.getAllFromCollectionGroup(r,t,Lc(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(P0(e,t,r),r))}function P0(n,t,e){let i=St.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.oi.set(t,i)}function Im(){return Im=(0,Z.Z)(function*(n,t,e,i){const r=$e(n);let o=kn(),u=wo();for(const b of e){const T=t.fi(b.metadata.name);b.document&&(o=o.add(T));const M=t.di(b);M.setReadTime(t._i(b.metadata.readTime)),u=u.insert(T,M)}const h=r.ui.newChangeBuffer({trackRemovals:!0}),_=yield Em(r,(b=i,Gs(Kh(hn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>bA(b,h,u).next(T=>(h.apply(b),T)).next(T=>r.fs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.fs.addMatchingKeys(b,o,_.targetId)).next(()=>r.ci.Gs(b,T)).next(()=>T)))}),Im.apply(this,arguments)}function YE(n,t){return F0.apply(this,arguments)}function F0(){return F0=(0,Z.Z)(function*(n,t,e=kn()){const i=yield Em(n,Gs(_0(t.bundledQuery))),r=$e(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Qi(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r._s.saveNamedQuery(o,t);const h=i.withResumeToken(bi.EMPTY_BYTE_STRING,u);return r.ii=r.ii.insert(h.targetId,h),r.fs.updateTargetData(o,h).next(()=>r.fs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.fs.addMatchingKeys(o,e,i.targetId)).next(()=>r._s.saveNamedQuery(o,t))})}),F0.apply(this,arguments)}class WE{constructor(t){this.M=t,this.wi=new Map,this.mi=new Map}getBundleMetadata(t,e){return pe.resolve(this.wi.get(e))}saveBundleMetadata(t,e){var i;return this.wi.set(e.id,{id:(i=e).id,version:i.version,createTime:Qi(i.createTime)}),pe.resolve()}getNamedQuery(t,e){return pe.resolve(this.mi.get(e))}saveNamedQuery(t,e){return this.mi.set(e.name,{name:(i=e).name,query:_0(i.bundledQuery),readTime:Qi(i.readTime)}),pe.resolve();var i}}class Fk{constructor(){this.overlays=new hi(je.comparator),this.gi=new Map}getOverlay(t,e){return pe.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.Xt(t,e,o)}),pe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.gi.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.gi.delete(i)),pe.resolve()}getOverlaysForCollection(t,e,i){const r=am(),o=e.length+1,u=new je(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,b=_.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===o&&_.largestBatchId>i&&r.set(_.getKey(),_)}return pe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new hi((b,T)=>b-T);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>i){let T=o.get(b.largestBatchId);null===T&&(T=am(),o=o.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const h=am(),_=o.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,T)=>h.set(b,T)),!(h.size()>=r)););return pe.resolve(h)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.gi.get(r.largestBatchId).delete(i.key);this.gi.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new g0(e,i));let o=this.gi.get(e);void 0===o&&(o=kn(),this.gi.set(e,o)),this.gi.set(e,o.add(i.key))}}class N0{constructor(){this.yi=new Jn(pr.pi),this.Ii=new Jn(pr.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(t,e){const i=new pr(t,e);this.yi=this.yi.add(i),this.Ii=this.Ii.add(i)}Ei(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ai(new pr(t,e))}Ri(t,e){t.forEach(i=>this.removeReference(i,e))}Pi(t){const e=new je(new hn([])),i=new pr(e,t),r=new pr(e,t+1),o=[];return this.Ii.forEachInRange([i,r],u=>{this.Ai(u),o.push(u.key)}),o}bi(){this.yi.forEach(t=>this.Ai(t))}Ai(t){this.yi=this.yi.delete(t),this.Ii=this.Ii.delete(t)}Vi(t){const e=new je(new hn([])),i=new pr(e,t),r=new pr(e,t+1);let o=kn();return this.Ii.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new pr(t,0),i=this.yi.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class pr{constructor(t,e){this.key=t,this.vi=e}static pi(t,e){return je.comparator(t.key,e.key)||Tt(t.vi,e.vi)}static Ti(t,e){return Tt(t.vi,e.vi)||je.comparator(t.key,e.key)}}class L0{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Bs=[],this.Si=1,this.Di=new Jn(pr.pi)}checkEmpty(t){return pe.resolve(0===this.Bs.length)}addMutationBatch(t,e,i,r){const o=this.Si;this.Si++;const u=new vd(o,e,i,r);this.Bs.push(u);for(const h of r)this.Di=this.Di.add(new pr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(t,e){return pe.resolve(this.Ci(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.xi(e+1),o=r<0?0:r;return pe.resolve(this.Bs.length>o?this.Bs[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(t){return pe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new pr(e,0),r=new pr(e,Number.POSITIVE_INFINITY),o=[];return this.Di.forEachInRange([i,r],u=>{const h=this.Ci(u.vi);o.push(h)}),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Jn(Tt);return e.forEach(r=>{const o=new pr(r,0),u=new pr(r,Number.POSITIVE_INFINITY);this.Di.forEachInRange([o,u],h=>{i=i.add(h.vi)})}),pe.resolve(this.Ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;je.isDocumentKey(o)||(o=o.child(""));const u=new pr(new je(o),0);let h=new Jn(Tt);return this.Di.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(h=h.add(_.vi)),!0)},u),pe.resolve(this.Ni(h))}Ni(t){const e=[];return t.forEach(i=>{const r=this.Ci(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Rt(0===this.ki(e.batchId,"removed")),this.Bs.shift();let i=this.Di;return pe.forEach(e.mutations,r=>{const o=new pr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Di=i})}_n(t){}containsKey(t,e){const i=new pr(e,0),r=this.Di.firstAfterOrEqual(i);return pe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return pe.resolve()}ki(t,e){return this.xi(t)}xi(t){return 0===this.Bs.length?0:t-this.Bs[0].batchId}Ci(t){const e=this.xi(t);return e<0||e>=this.Bs.length?null:this.Bs[e]}}class CA{constructor(t){this.Mi=t,this.docs=new hi(je.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Mi(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return pe.resolve(i?i.document.mutableCopy():Qn.newInvalidDocument(e))}getEntries(t,e){let i=wo();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Qn.newInvalidDocument(r))}),pe.resolve(i)}getAllFromCollection(t,e,i){let r=wo();const o=new je(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:_}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||Zh(kM(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return pe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ct()}Oi(t,e){return pe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Nk(this)}getSize(t){return pe.resolve(this.size)}}class Nk extends pA{constructor(t){super(),this.Kn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Kn.addEntry(t,r)):this.Kn.removeEntry(i)}),pe.waitFor(e)}getFromCache(t,e){return this.Kn.getEntry(t,e)}getAllFromCache(t,e){return this.Kn.getEntries(t,e)}}class Lk{constructor(t){this.persistence=t,this.Fi=new Hc(e=>Yh(e),Wh),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.$i=0,this.Bi=new N0,this.targetCount=0,this.Li=Qc.gn()}forEachTarget(t,e){return this.Fi.forEach((i,r)=>e(r)),pe.resolve()}getLastRemoteSnapshotVersion(t){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pe.resolve(this.$i)}allocateTargetId(t){return this.highestTargetId=this.Li.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.$i&&(this.$i=e),pe.resolve()}Tn(t){this.Fi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Li=new Qc(e),this.highestTargetId=e),t.sequenceNumber>this.$i&&(this.$i=t.sequenceNumber)}addTargetData(t,e){return this.Tn(e),this.targetCount+=1,pe.resolve()}updateTargetData(t,e){return this.Tn(e),pe.resolve()}removeTargetData(t,e){return this.Fi.delete(e.target),this.Bi.Pi(e.targetId),this.targetCount-=1,pe.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Fi.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Fi.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),pe.waitFor(o).next(()=>r)}getTargetCount(t){return pe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fi.get(e)||null;return pe.resolve(i)}addMatchingKeys(t,e,i){return this.Bi.Ei(e,i),pe.resolve()}removeMatchingKeys(t,e,i){this.Bi.Ri(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),pe.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Bi.Pi(e),pe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Bi.Vi(e);return pe.resolve(i)}containsKey(t,e){return pe.resolve(this.Bi.containsKey(e))}}class Bk{constructor(t,e){this.Ui={},this.overlays={},this.es=new js(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Lk(this),this.indexManager=new VE,this.ds=new CA(i=>this.referenceDelegate.qi(i)),this.M=new vm(e),this._s=new WE(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Fk,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Ui[t.toKey()];return i||(i=new L0(e,this.referenceDelegate),this.Ui[t.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,e,i){Fe("MemoryPersistence","Starting transaction:",t);const r=new wA(this.es.next());return this.referenceDelegate.Ki(),i(r).next(o=>this.referenceDelegate.Gi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Qi(t,e){return pe.or(Object.values(this.Ui).map(i=>()=>i.containsKey(t,e)))}}class wA extends p0{constructor(t){super(),this.currentSequenceNumber=t}}class B0{constructor(t){this.persistence=t,this.ji=new N0,this.Wi=null}static zi(t){return new B0(t)}get Hi(){if(this.Wi)return this.Wi;throw ct()}addReference(t,e,i){return this.ji.addReference(i,e),this.Hi.delete(i.toString()),pe.resolve()}removeReference(t,e,i){return this.ji.removeReference(i,e),this.Hi.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(t,e){return this.Hi.add(e.toString()),pe.resolve()}removeTarget(t,e){this.ji.Pi(e.targetId).forEach(r=>this.Hi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Hi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ki(){this.Wi=new Set}Gi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Hi,i=>{const r=je.fromPath(i);return this.Ji(t,r).next(o=>{o||e.removeEntry(r,St.min())})}).next(()=>(this.Wi=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ji(t,e).next(i=>{i?this.Hi.delete(e.toString()):this.Hi.add(e.toString())})}qi(t){return 0}Ji(t,e){return pe.or([()=>pe.resolve(this.ji.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Qi(t,e)])}}function KE(n,t){return`firestore_clients_${n}_${t}`}function DA(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function V0(n,t){return`firestore_targets_${n}_${t}`}class pf{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Yi(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Se(r.error.code,r.error.message))),u?new pf(t,e,r.state,o):(rn("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Mm{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Yi(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Se(i.error.code,i.error.message))),o?new Mm(t,i.state,r):(rn("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Es{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Yi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=lm();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Fb(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new Es(t,o):(rn("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class U0{constructor(t,e){this.clientId=t,this.onlineState=e}static Yi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new U0(e.clientId,e.onlineState):(rn("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Am{constructor(){this.activeTargetIds=lm()}Zi(t){this.activeTargetIds=this.activeTargetIds.add(t)}tr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class H0{constructor(t,e,i,r,o){this.window=t,this.Yn=e,this.persistenceKey=i,this.er=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new hi(Tt),this.started=!1,this.rr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ur=KE(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Am),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Z.Z)(function*(){const e=yield t.syncEngine.Fs();for(const r of e){if(r===t.er)continue;const o=t.getItem(KE(t.persistenceKey,r));if(o){const u=Es.Yi(r,o);u&&(t.ir=t.ir.insert(u.clientId,u))}}t.wr();const i=t.storage.getItem(t.dr);if(i){const r=t.mr(i);r&&t.gr(r)}for(const r of t.rr)t.sr(r);t.rr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ar,JSON.stringify(t))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(t){let e=!1;return this.ir.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.pr(t,"pending")}updateMutationState(t,e,i){this.pr(t,e,i),this.Ir(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(V0(this.persistenceKey,t));if(i){const r=Mm.Yi(t,i);r&&(e=r.state)}}return this.Tr.Zi(t),this.wr(),e}removeLocalQueryTarget(t){this.Tr.tr(t),this.wr()}isLocalQueryTarget(t){return this.Tr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(V0(this.persistenceKey,t))}updateQueryState(t,e,i){this.Er(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Ir(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Ar(t)}notifyBundleLoaded(t){this.Rr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Fe("SharedClientState","READ",t,e),e}setItem(t,e){Fe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Fe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}sr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ur)return void rn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Z.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Pr(i.key);return e.br(r,null)}{const r=e.Vr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Sr(r)}}else if(e.lr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(i.key===e.dr){if(null!==i.newValue){const r=e.mr(i.newValue);if(r)return e.gr(r)}}else if(i.key===e.ar){const r=function(o){let u=js.A;if(null!=o)try{const h=JSON.parse(o);Rt("number"==typeof h),u=h}catch(h){rn("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==js.A&&e.sequenceNumberHandler(r)}else if(i.key===e._r){const r=e.Nr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.kr(o)))}}else e.rr.push(i)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(t,e,i){const r=new pf(this.currentUser,t,e,i),o=DA(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Xi())}Ir(t){const e=DA(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Ar(t){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:t}))}Er(t,e,i){const r=V0(this.persistenceKey,t),o=new Mm(t,e,i);this.setItem(r,o.Xi())}Rr(t){const e=JSON.stringify(Array.from(t));this.setItem(this._r,e)}Pr(t){const e=this.cr.exec(t);return e?e[1]:null}Vr(t,e){const i=this.Pr(t);return Es.Yi(i,e)}vr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return pf.Yi(new cr(void 0!==i[2]?i[2]:null),r,e)}Dr(t,e){const i=this.lr.exec(t),r=Number(i[1]);return Mm.Yi(r,e)}mr(t){return U0.Yi(t)}Nr(t){return JSON.parse(t)}Sr(t){var e=this;return(0,Z.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Mr(t.batchId,t.state,t.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Cr(t){return this.syncEngine.Or(t.targetId,t.state,t.error)}br(t,e){const i=e?this.ir.insert(t,e):this.ir.remove(t),r=this.yr(this.ir),o=this.yr(i),u=[],h=[];return o.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{o.has(_)||h.push(_)}),this.syncEngine.Fr(u,h).then(()=>{this.ir=i})}gr(t){this.ir.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}yr(t){let e=lm();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class QE{constructor(){this.$r=new Am,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.$r.Zi(t),this.Br[t]||"not-current"}updateQueryState(t,e,i){this.Br[t]=e}removeLocalQueryTarget(t){this.$r.tr(t)}isLocalQueryTarget(t){return this.$r.activeTargetIds.has(t)}clearQueryState(t){delete this.Br[t]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(t){return this.$r.activeTargetIds.has(t)}start(){return this.$r=new Am,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class j0{Lr(t){}shutdown(){}}class G0{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(t){this.Qr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Qr)t(0)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Qr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const XE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class EA{constructor(t){this.Wr=t.Wr,this.zr=t.zr}Hr(t){this.Jr=t}Yr(t){this.Xr=t}onMessage(t){this.Zr=t}close(){this.zr()}send(t){this.Wr(t)}eo(){this.Jr()}no(t){this.Xr(t)}so(t){this.Zr(t)}}class JE extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.io=(t.ssl?"https":"http")+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(t,e,i,r,o){const u=this.uo(t,e);Fe("RestConnection","Sending: ",u,i);const h={};return this.ao(h,r,o),this.co(t,u,h,i).then(_=>(Fe("RestConnection","Received: ",_),_),_=>{throw Hh("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}ho(t,e,i,r,o){return this.oo(t,e,i,r,o)}ao(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Wp,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}uo(t,e){return`${this.io}/v1/${e}:${XE[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((o,u)=>{const h=new PD;h.listenOnce(kD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Zp.NO_ERROR:const b=h.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(b)),o(b);break;case Zp.TIMEOUT:Fe("Connection",'RPC "'+t+'" timed out'),u(new Se(le.DEADLINE_EXCEEDED,"Request time out"));break;case Zp.HTTP_ERROR:const T=h.getStatus();if(Fe("Connection",'RPC "'+t+'" failed with status:',T,"response text:",h.getResponseText()),T>0){const M=h.getResponseJson().error;if(M&&M.status&&M.message){const O=function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(U)>=0?U:le.UNKNOWN}(M.status);u(new Se(O,M.message))}else u(new Se(le.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Se(le.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Fe("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);h.send(e,"POST",_,i,15)})}lo(t,e,i){const r=[this.io,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=SD(),u=xD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new OD({})),this.ao(h.initMessageHeaders,e,i),(0,Ut.uI)()||(0,Ut.b$)()||(0,Ut.d)()||(0,Ut.w1)()||(0,Ut.Mn)()||(0,Ut.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Fe("Connection","Creating WebChannel: "+_,h);const b=o.createWebChannel(_,h);let T=!1,M=!1;const O=new EA({Wr:U=>{M?Fe("Connection","Not sending because WebChannel is closed:",U):(T||(Fe("Connection","Opening WebChannel transport."),b.open(),T=!0),Fe("Connection","WebChannel sending:",U),b.send(U))},zr:()=>b.close()}),L=(U,te,Ce)=>{U.listen(te,Ke=>{try{Ce(Ke)}catch(at){setTimeout(()=>{throw at},0)}})};return L(b,Yp.EventType.OPEN,()=>{M||Fe("Connection","WebChannel transport opened.")}),L(b,Yp.EventType.CLOSE,()=>{M||(M=!0,Fe("Connection","WebChannel transport closed"),O.no())}),L(b,Yp.EventType.ERROR,U=>{M||(M=!0,Hh("Connection","WebChannel transport errored:",U),O.no(new Se(le.UNAVAILABLE,"The operation could not be completed")))}),L(b,Yp.EventType.MESSAGE,U=>{var te;if(!M){const Ce=U.data[0];Rt(!!Ce);const Ke=Ce,at=Ke.error||(null===(te=Ke[0])||void 0===te?void 0:te.error);if(at){Fe("Connection","WebChannel received error:",at);const ot=at.status;let tt=function(jt){const mn=Si[jt];if(void 0!==mn)return uE(mn)}(ot),Pt=at.message;void 0===tt&&(tt=le.INTERNAL,Pt="Unknown error status: "+ot+" with message "+at.message),M=!0,O.no(new Se(tt,Pt)),b.close()}else Fe("Connection","WebChannel received:",Ce),O.so(Ce)}}),L(u,RD.STAT_EVENT,U=>{U.stat===Ab.PROXY?Fe("Connection","Detected buffering proxy"):U.stat===Ab.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.eo()},0),O}}function eT(){return"undefined"!=typeof window?window:null}function fy(){return"undefined"!=typeof document?document:null}function Sm(n){return new gE(n,!0)}class xm{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Yn=t,this.timerId=e,this.fo=i,this._o=r,this.wo=o,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(t){this.cancel();const e=Math.floor(this.mo+this.Eo()),i=Math.max(0,Date.now()-this.po),r=Math.max(0,e-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.po=Date.now(),t())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class eu{constructor(t,e,i,r,o,u,h,_){this.Yn=t,this.Ro=i,this.Po=r,this.bo=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new xm(t,e)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var t=this;return(0,Z.Z)(function*(){t.Co()&&(yield t.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(t){this.$o(),this.stream.send(t)}Oo(){var t=this;return(0,Z.Z)(function*(){if(t.xo())return t.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(t,e){var i=this;return(0,Z.Z)(function*(){i.$o(),i.Bo(),i.Do.cancel(),i.Vo++,4!==t?i.Do.reset():e&&e.code===le.RESOURCE_EXHAUSTED?(rn(e.toString()),rn("Using maximum backoff delay to prevent overloading the backend."),i.Do.Io()):e&&e.code===le.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Lo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Yr(e)})()}Lo(){}auth(){this.state=1;const t=this.Uo(this.Vo),e=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===e&&this.qo(i,r)},i=>{t(()=>{const r=new Se(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ko(r)})})}qo(t,e){const i=this.Uo(this.Vo);this.stream=this.Go(t,e),this.stream.Hr(()=>{i(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(r=>{i(()=>this.Ko(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}No(){var t=this;this.state=5,this.Do.To((0,Z.Z)(function*(){t.state=0,t.start()}))}Ko(t){return Fe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return e=>{this.Yn.enqueueAndForget(()=>this.Vo===t?e():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tT extends eu{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.M=o}Go(t,e){return this.bo.lo("Listen",t,e)}onMessage(t){this.Do.reset();const e=function WM(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ct(),r=t.targetChange.targetIds||[],o=function(_,b){return _.N?(Rt(void 0===b||"string"==typeof b),bi.fromBase64String(b||"")):(Rt(void 0===b||b instanceof Uint8Array),bi.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(_){const b=void 0===_.code?le.UNKNOWN:uE(_.code);return new Se(b,_.message||"")}(u);e=new K_(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Ra(n,i.document.name),o=Qi(i.document.updateTime),u=new Ar({mapValue:{fields:i.document.fields}}),h=Qn.newFoundDocument(r,o,u);e=new Y_(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Ra(n,i.document),o=i.readTime?Qi(i.readTime):St.min(),u=Qn.newNoDocument(r,o);e=new Y_([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Ra(n,i.document);e=new Y_([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ct();{const i=t.filter,o=new HM(i.count||0);e=new W_(i.targetId,o)}}var _;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return St.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?St.min():o.readTime?Qi(o.readTime):St.min()}(t);return this.listener.Qo(e,i)}jo(t){const e={};e.database=hm(this.M),e.addTarget=function(r,o){let u;const h=o.target;return u=jb(h)?{documents:X_(r,h)}:{query:pm(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=o0(r,o.resumeToken):o.snapshotVersion.compareTo(St.min())>0&&(u.readTime=dm(r,o.snapshotVersion.toTimestamp())),u}(this.M,t);const i=function KM(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Fo(e)}Wo(t){const e={};e.database=hm(this.M),e.removeTarget=t,this.Fo(e)}}class nT extends eu{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.M=o,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(t,e){return this.bo.lo("Write",t,e)}onMessage(t){if(Rt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.zo){this.Do.reset();const e=function bE(n,t){return n&&n.length>0?(Rt(void 0!==t),n.map(e=>function(i,r){let o=Qi(i.updateTime?i.updateTime:r);return o.isEqual(St.min())&&(o=Qi(r)),new VM(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Qi(t.commitTime);return this.listener.Yo(i,e)}return Rt(!t.writeResults||0===t.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const t={};t.database=hm(this.M),this.Fo(t)}Jo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>fm(this.M,i))};this.Fo(e)}}class TA extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.M=r,this.tu=!1}eu(){if(this.tu)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.")}oo(t,e,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.oo(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Se(le.UNKNOWN,r.toString())})}ho(t,e,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ho(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Se(le.UNKNOWN,r.toString())})}terminate(){this.tu=!0}}class Vk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(t){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ou("Offline")))}set(t){this.cu(),this.nu=0,"Online"===t&&(this.iu=!1),this.ou(t)}ou(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}uu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(rn(e),this.iu=!1):Fe("OnlineStateTracker",e)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class IA{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=o,this._u.Lr(h=>{i.enqueueAndForget((0,Z.Z)(function*(){var _;Pl(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Z.Z)(function*(b){const T=$e(b);T.fu.add(4),yield Dd(T),T.wu.set("Unknown"),T.fu.delete(4),yield km(T)}),function(b){return _.apply(this,arguments)})(u))}))}),this.wu=new Vk(i,r)}}function km(n){return z0.apply(this,arguments)}function z0(){return z0=(0,Z.Z)(function*(n){if(Pl(n))for(const t of n.du)yield t(!0)}),z0.apply(this,arguments)}function Dd(n){return q0.apply(this,arguments)}function q0(){return q0=(0,Z.Z)(function*(n){for(const t of n.du)yield t(!1)}),q0.apply(this,arguments)}function py(n,t){const e=$e(n);e.lu.has(t.targetId)||(e.lu.set(t.targetId,t),Y0(e)?Z0(e):mf(e).xo()&&Rm(e,t))}function my(n,t){const e=$e(n),i=mf(e);e.lu.delete(t),i.xo()&&$0(e,t),0===e.lu.size&&(i.xo()?i.Mo():Pl(e)&&e.wu.set("Unknown"))}function Rm(n,t){n.mu.Z(t.targetId),mf(n).jo(t)}function $0(n,t){n.mu.Z(t),mf(n).Wo(t)}function Z0(n){n.mu=new r0({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.lu.get(t)||null}),mf(n).start(),n.wu.ru()}function Y0(n){return Pl(n)&&!mf(n).Co()&&n.lu.size>0}function Pl(n){return 0===$e(n).fu.size}function gy(n){n.mu=void 0}function W0(n){return _y.apply(this,arguments)}function _y(){return _y=(0,Z.Z)(function*(n){n.lu.forEach((t,e)=>{Rm(n,t)})}),_y.apply(this,arguments)}function MA(n,t){return yy.apply(this,arguments)}function yy(){return yy=(0,Z.Z)(function*(n,t){gy(n),Y0(n)?(n.wu.au(t),Z0(n)):n.wu.set("Unknown")}),yy.apply(this,arguments)}function iT(n,t,e){return K0.apply(this,arguments)}function K0(){return K0=(0,Z.Z)(function*(n,t,e){if(n.wu.set("Online"),t instanceof K_&&2===t.state&&t.cause)try{yield(i=(0,Z.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.lu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.lu.delete(h),r.mu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Q0(n,i)}else if(t instanceof Y_?n.mu.ut(t):t instanceof W_?n.mu._t(t):n.mu.ht(t),!e.isEqual(St.min()))try{const i=yield vA(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.mu.yt(o);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const b=r.lu.get(_);b&&r.lu.set(_,b.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const _=r.lu.get(h);if(!_)return;r.lu.set(h,_.withResumeToken(bi.EMPTY_BYTE_STRING,_.snapshotVersion)),$0(r,h);const b=new qc(_.target,h,1,_.sequenceNumber);Rm(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield Q0(n,i)}var i}),K0.apply(this,arguments)}function Q0(n,t,e){return rT.apply(this,arguments)}function rT(){return rT=(0,Z.Z)(function*(n,t,e){if(!_d(t))throw t;n.fu.add(1),yield Dd(n),n.wu.set("Offline"),e||(e=()=>vA(n.localStore)),n.asyncQueue.enqueueRetryable((0,Z.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield e(),n.fu.delete(1),yield km(n)}))}),rT.apply(this,arguments)}function AA(n,t){return t().catch(e=>Q0(n,e,t))}function Ed(n){return X0.apply(this,arguments)}function X0(){return X0=(0,Z.Z)(function*(n){const t=$e(n),e=Pa(t);let i=t.hu.length>0?t.hu[t.hu.length-1].batchId:-1;for(;SA(t);)try{const r=yield Ok(t.localStore,i);if(null===r){0===t.hu.length&&e.Mo();break}i=r.batchId,xA(t,r)}catch(r){yield Q0(t,r)}kA(t)&&RA(t)}),X0.apply(this,arguments)}function SA(n){return Pl(n)&&n.hu.length<10}function xA(n,t){n.hu.push(t);const e=Pa(n);e.xo()&&e.Ho&&e.Jo(t.mutations)}function kA(n){return Pl(n)&&!Pa(n).Co()&&n.hu.length>0}function RA(n){Pa(n).start()}function Uk(n){return sT.apply(this,arguments)}function sT(){return sT=(0,Z.Z)(function*(n){Pa(n).Zo()}),sT.apply(this,arguments)}function Hk(n){return J0.apply(this,arguments)}function J0(){return J0=(0,Z.Z)(function*(n){const t=Pa(n);for(const e of n.hu)t.Jo(e.mutations)}),J0.apply(this,arguments)}function vy(n,t,e){return eC.apply(this,arguments)}function eC(){return eC=(0,Z.Z)(function*(n,t,e){const i=n.hu.shift(),r=m0.from(i,t,e);yield AA(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ed(n)}),eC.apply(this,arguments)}function OA(n,t){return by.apply(this,arguments)}function by(){return by=(0,Z.Z)(function*(n,t){var e;t&&Pa(n).Ho&&(yield(e=(0,Z.Z)(function*(i,r){if(cE(o=r.code)&&o!==le.ABORTED){const u=i.hu.shift();Pa(i).ko(),yield AA(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Ed(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),kA(n)&&RA(n)}),by.apply(this,arguments)}function tu(n,t){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,Z.Z)(function*(n,t){const e=$e(n);e.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=Pl(e);e.fu.add(3),yield Dd(e),i&&e.wu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.fu.delete(3),yield km(e)}),Cy.apply(this,arguments)}function Om(n,t){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,Z.Z)(function*(n,t){const e=$e(n);t?(e.fu.delete(2),yield km(e)):t||(e.fu.add(2),yield Dd(e),e.wu.set("Unknown"))}),Pm.apply(this,arguments)}function mf(n){return n.gu||(n.gu=function(t,e,i){const r=$e(t);return r.eu(),new tT(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:W0.bind(null,n),Yr:MA.bind(null,n),Qo:iT.bind(null,n)}),n.du.push(function(){var t=(0,Z.Z)(function*(e){e?(n.gu.ko(),Y0(n)?Z0(n):n.wu.set("Unknown")):(yield n.gu.stop(),gy(n))});return function(e){return t.apply(this,arguments)}}())),n.gu}function Pa(n){return n.yu||(n.yu=function(t,e,i){const r=$e(t);return r.eu(),new nT(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:Uk.bind(null,n),Yr:OA.bind(null,n),Xo:Hk.bind(null,n),Yo:vy.bind(null,n)}),n.du.push(function(){var t=(0,Z.Z)(function*(e){e?(n.yu.ko(),yield Ed(n)):(yield n.yu.stop(),n.hu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(e){return t.apply(this,arguments)}}())),n.yu}class Fm{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new Fm(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(le.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fl(n,t){if(rn("AsyncQueue",`${t}: ${n}`),_d(n))return new Se(le.UNAVAILABLE,`${t}: ${n}`);throw n}class Nm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||je.comparator(e.key,i.key):(e,i)=>je.comparator(e.key,i.key),this.keyedMap=t0(),this.sortedSet=new hi(this.comparator)}static emptySet(t){return new Nm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Nm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Nm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class PA{constructor(){this.pu=new hi(je.comparator)}track(t){const e=t.doc.key,i=this.pu.get(e);i?0!==t.type&&3===i.type?this.pu=this.pu.insert(e,t):3===t.type&&1!==i.type?this.pu=this.pu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.pu=this.pu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.pu=this.pu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.pu=this.pu.remove(e):1===t.type&&2===i.type?this.pu=this.pu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.pu=this.pu.insert(e,{type:2,doc:t.doc}):ct():this.pu=this.pu.insert(e,t)}Iu(){const t=[];return this.pu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Lm{constructor(t,e,i,r,o,u,h,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new Lm(t,e,Nm.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class jk{constructor(){this.Tu=void 0,this.listeners=[]}}class oT{constructor(){this.queries=new Hc(t=>Xh(t),tm),this.onlineState="Unknown",this.Eu=new Set}}function tC(n,t){return nC.apply(this,arguments)}function nC(){return nC=(0,Z.Z)(function*(n,t){const e=$e(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new jk),r)try{o.Tu=yield e.onListen(i)}catch(u){const h=Fl(u,`Initialization of query '${fd(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Au(e.onlineState),o.Tu&&t.Ru(o.Tu)&&wy(e)}),nC.apply(this,arguments)}function iC(n,t){return rC.apply(this,arguments)}function rC(){return rC=(0,Z.Z)(function*(n,t){const e=$e(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),rC.apply(this,arguments)}function aT(n,t){const e=$e(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Ru(r)&&(i=!0);u.Tu=r}}i&&wy(e)}function lT(n,t,e){const i=$e(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function wy(n){n.Eu.forEach(t=>{t.next()})}class sC{constructor(t,e,i){this.query=t,this.Pu=e,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}Ru(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Lm(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Pu.next(t),e=!0):this.Su(t,this.onlineState)&&(this.Du(t),e=!0),this.Vu=t,e}onError(t){this.Pu.error(t)}Au(t){this.onlineState=t;let e=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,t)&&(this.Du(this.Vu),e=!0),e}Su(t,e){return!t.fromCache||!(this.options.Cu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(t){t=Lm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Pu.next(t)}}class FA{constructor(t,e){this.payload=t,this.byteLength=e}xu(){return"metadata"in this.payload}}class oC{constructor(t){this.M=t}fi(t){return Ra(this.M,t)}di(t){return t.metadata.exists?vE(this.M,t.document,!1):Qn.newNoDocument(this.fi(t.metadata.name),this._i(t.metadata.readTime))}_i(t){return Qi(t)}}class aC{constructor(t,e,i){this.Nu=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=NA(t)}ku(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=hn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Mu(t){const e=new Map,i=new oC(this.M);for(const r of t)if(r.metadata.queries){const o=i.fi(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||kn()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,Z.Z)(function*(){const e=yield function Pk(n,t,e,i){return Im.apply(this,arguments)}(t.localStore,new oC(t.M),t.documents,t.Nu.id),i=t.Mu(t.documents);for(const r of t.queries)yield YE(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Ou:t.collectionGroups,Fu:e}})()}}function NA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class lC{constructor(t){this.key=t}}class Dy{constructor(t){this.key=t}}class cT{constructor(t,e){this.query=t,this.$u=e,this.Bu=null,this.current=!1,this.Lu=kn(),this.mutatedKeys=kn(),this.Uu=nE(t),this.qu=new Nm(this.Uu)}get Ku(){return this.$u}Gu(t,e){const i=e?e.Qu:new PA,r=e?e.qu:this.qu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _=Vc(this.query)&&r.size===this.query.limit?r.last():null,b=z_(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((T,M)=>{const O=r.get(T),L=Yb(this.query,M)?M:null,U=!!O&&this.mutatedKeys.has(O.key),te=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let Ce=!1;O&&L?O.data.isEqual(L.data)?U!==te&&(i.track({type:3,doc:L}),Ce=!0):this.ju(O,L)||(i.track({type:2,doc:L}),Ce=!0,(_&&this.Uu(L,_)>0||b&&this.Uu(L,b)<0)&&(h=!0)):!O&&L?(i.track({type:0,doc:L}),Ce=!0):O&&!L&&(i.track({type:1,doc:O}),Ce=!0,(_||b)&&(h=!0)),Ce&&(L?(u=u.add(L),o=te?o.add(T):o.delete(T)):(u=u.delete(T),o=o.delete(T)))}),Vc(this.query)||z_(this.query))for(;u.size>this.query.limit;){const T=Vc(this.query)?u.last():u.first();u=u.delete(T.key),o=o.delete(T.key),i.track({type:1,doc:T})}return{qu:u,Qu:i,ni:h,mutatedKeys:o}}ju(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.qu;this.qu=t.qu,this.mutatedKeys=t.mutatedKeys;const o=t.Qu.Iu();o.sort((b,T)=>function(M,O){const L=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return L(M)-L(O)}(b.type,T.type)||this.Uu(b.doc,T.doc)),this.Wu(i);const u=e?this.zu():[],h=0===this.Lu.size&&this.current?1:0,_=h!==this.Bu;return this.Bu=h,0!==o.length||_?{snapshot:new Lm(this.query,t.qu,r,o,t.mutatedKeys,0===h,_,!1),Hu:u}:{Hu:u}}Au(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new PA,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(t){return!this.$u.has(t)&&!!this.qu.has(t)&&!this.qu.get(t).hasLocalMutations}Wu(t){t&&(t.addedDocuments.forEach(e=>this.$u=this.$u.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.$u=this.$u.delete(e)),this.current=t.current)}zu(){if(!this.current)return[];const t=this.Lu;this.Lu=kn(),this.qu.forEach(i=>{this.Ju(i.key)&&(this.Lu=this.Lu.add(i.key))});const e=[];return t.forEach(i=>{this.Lu.has(i)||e.push(new Dy(i))}),this.Lu.forEach(i=>{t.has(i)||e.push(new lC(i))}),e}Yu(t){this.$u=t.li,this.Lu=kn();const e=this.Gu(t.documents);return this.applyChanges(e,!0)}Xu(){return Lm.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class LA{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Gk{constructor(t){this.key=t,this.Zu=!1}}class zk{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.ta={},this.ea=new Hc(h=>Xh(h),tm),this.na=new Map,this.sa=new Set,this.ia=new hi(je.comparator),this.ra=new Map,this.oa=new N0,this.ua={},this.aa=new Map,this.ca=Qc.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function BA(n,t){return cC.apply(this,arguments)}function cC(){return cC=(0,Z.Z)(function*(n,t){const e=jA(n);let i,r;const o=e.ea.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Xu();else{const u=yield Em(e.localStore,Gs(t));e.isPrimaryClient&&py(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield uT(e,t,i,"current"===h)}return r}),cC.apply(this,arguments)}function uT(n,t,e,i){return dT.apply(this,arguments)}function dT(){return dT=(0,Z.Z)(function*(n,t,e,i){n.la=(T,M,O)=>{return(L=(0,Z.Z)(function*(U,te,Ce,Ke){let at=te.view.Gu(Ce);at.ni&&(at=yield Tm(U.localStore,te.query,!1).then(({documents:Pt})=>te.view.Gu(Pt,at)));const ot=Ke&&Ke.targetChanges.get(te.targetId),tt=te.view.applyChanges(at,U.isPrimaryClient,ot);return N(U,te.targetId,tt.Hu),tt.snapshot}),function(U,te,Ce,Ke){return L.apply(this,arguments)})(n,T,M,O);var L};const r=yield Tm(n.localStore,t,!0),o=new cT(t,r.li),u=o.Gu(r.documents),h=um.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=o.applyChanges(u,n.isPrimaryClient,h);N(n,e,_.Hu);const b=new LA(t,e,o);return n.ea.set(t,b),n.na.has(e)?n.na.get(e).push(t):n.na.set(e,[t]),_.snapshot}),dT.apply(this,arguments)}function qk(n,t){return hT.apply(this,arguments)}function hT(){return hT=(0,Z.Z)(function*(n,t){const e=$e(n),i=e.ea.get(t),r=e.na.get(i.targetId);if(r.length>1)return e.na.set(i.targetId,r.filter(o=>!tm(o,t))),void e.ea.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ol(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),my(e.remoteStore,i.targetId),A(e,i.targetId)}).catch(Xc))):(A(e,i.targetId),yield Ol(e.localStore,i.targetId,!0))}),hT.apply(this,arguments)}function uC(){return uC=(0,Z.Z)(function*(n,t,e){const i=GA(n);try{const r=yield function(o,u){const h=$e(o),_=Ai.now(),b=u.reduce((M,O)=>M.add(O.key),kn());let T;return h.persistence.runTransaction("Locally write mutations","readwrite",M=>h.ci.Ks(M,b).next(O=>{T=O;const L=[];for(const U of u){const te=UM(U,T.get(U.key));null!=te&&L.push(new md(U.key,te,Hb(te.value.mapValue),Ui.exists(!0)))}return h.Bs.addMutationBatch(M,_,L,u)})).then(M=>(M.applyToLocalDocumentSet(T),{batchId:M.batchId,changes:T}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let _=o.ua[o.currentUser.toKey()];_||(_=new hi(Tt)),_=_.insert(u,h),o.ua[o.currentUser.toKey()]=_}(i,r.batchId,e),yield he(i,r.changes),yield Ed(i.remoteStore)}catch(r){const o=Fl(r,"Failed to persist write");e.reject(o)}}),uC.apply(this,arguments)}function VA(n,t){return fT.apply(this,arguments)}function fT(){return fT=(0,Z.Z)(function*(n,t){const e=$e(n);try{const i=yield Rk(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.ra.get(o);u&&(Rt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Zu=!0:r.modifiedDocuments.size>0?Rt(u.Zu):r.removedDocuments.size>0&&(Rt(u.Zu),u.Zu=!1))}),yield he(e,i,t)}catch(i){yield Xc(i)}}),fT.apply(this,arguments)}function UA(n,t,e){const i=$e(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ea.forEach((o,u)=>{const h=u.view.Au(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=$e(o);h.onlineState=u;let _=!1;h.queries.forEach((b,T)=>{for(const M of T.listeners)M.Au(u)&&(_=!0)}),_&&wy(h)}(i.eventManager,t),r.length&&i.ta.Qo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Zk(n,t,e){return a.apply(this,arguments)}function a(){return a=(0,Z.Z)(function*(n,t,e){const i=$e(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ra.get(t),o=r&&r.key;if(o){let u=new hi(je.comparator);u=u.insert(o,Qn.newNoDocument(o,St.min()));const h=kn().add(o),_=new cm(St.min(),new Map,new Jn(Tt),u,h);yield VA(i,_),i.ia=i.ia.remove(o),i.ra.delete(t),W(i)}else yield Ol(i.localStore,t,!1).then(()=>A(i,t,e)).catch(Xc)}),a.apply(this,arguments)}function l(n,t){return c.apply(this,arguments)}function c(){return c=(0,Z.Z)(function*(n,t){const e=$e(n),i=t.batch.batchId;try{const r=yield kk(e.localStore,t);D(e,i,null),w(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield he(e,r)}catch(r){yield Xc(r)}}),c.apply(this,arguments)}function d(n,t,e){return f.apply(this,arguments)}function f(){return f=(0,Z.Z)(function*(n,t,e){const i=$e(n);try{const r=yield function(o,u){const h=$e(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return h.Bs.lookupMutationBatch(_,u).next(T=>(Rt(null!==T),b=T.keys(),h.Bs.removeMutationBatch(_,T))).next(()=>h.Bs.performConsistencyCheck(_)).next(()=>h.ci.Ks(_,b))})}(i.localStore,t);D(i,t,e),w(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield he(i,r)}catch(r){yield Xc(r)}}),f.apply(this,arguments)}function v(){return v=(0,Z.Z)(function*(n,t){const e=$e(n);Pl(e.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=$e(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.Bs.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.aa.get(i)||[];r.push(t),e.aa.set(i,r)}catch(i){const r=Fl(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),v.apply(this,arguments)}function w(n,t){(n.aa.get(t)||[]).forEach(e=>{e.resolve()}),n.aa.delete(t)}function D(n,t,e){const i=$e(n);let r=i.ua[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.ua[i.currentUser.toKey()]=r}}function A(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.na.get(t))n.ea.delete(i),e&&n.ta.fa(i,e);n.na.delete(t),n.isPrimaryClient&&n.oa.Pi(t).forEach(i=>{n.oa.containsKey(i)||x(n,i)})}function x(n,t){n.sa.delete(t.path.canonicalString());const e=n.ia.get(t);null!==e&&(my(n.remoteStore,e),n.ia=n.ia.remove(t),n.ra.delete(e),W(n))}function N(n,t,e){for(const i of e)i instanceof lC?(n.oa.addReference(i.key,t),H(n,i)):i instanceof Dy?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.oa.removeReference(i.key,t),n.oa.containsKey(i.key)||x(n,i.key)):ct()}function H(n,t){const e=t.key,i=e.path.canonicalString();n.ia.get(e)||n.sa.has(i)||(Fe("SyncEngine","New document in limbo: "+e),n.sa.add(i),W(n))}function W(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const t=n.sa.values().next().value;n.sa.delete(t);const e=new je(hn.fromString(t)),i=n.ca.next();n.ra.set(i,new Gk(e)),n.ia=n.ia.insert(e,i),py(n.remoteStore,new qc(Gs(Kh(e.path)),i,2,js.A))}}function he(n,t,e){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,Z.Z)(function*(n,t,e){const i=$e(n),r=[],o=[],u=[];var h;i.ea.isEmpty()||(i.ea.forEach((h,_)=>{u.push(i.la(_,t,e).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const T=k0.Ys(_.targetId,b);o.push(T)}}))}),yield Promise.all(u),i.ta.Qo(r),yield(h=(0,Z.Z)(function*(_,b){const T=$e(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>pe.forEach(b,O=>pe.forEach(O.Hs,L=>T.persistence.referenceDelegate.addReference(M,O.targetId,L)).next(()=>pe.forEach(O.Js,L=>T.persistence.referenceDelegate.removeReference(M,O.targetId,L)))))}catch(M){if(!_d(M))throw M;Fe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const O=M.targetId;if(!M.fromCache){const L=T.ii.get(O),te=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);T.ii=T.ii.insert(O,te)}}}),function(_,b){return h.apply(this,arguments)})(i.localStore,o))}),Pe.apply(this,arguments)}function Ge(n,t){return et.apply(this,arguments)}function et(){return et=(0,Z.Z)(function*(n,t){const e=$e(n);if(!e.currentUser.isEqual(t)){Fe("SyncEngine","User change. New user:",t.toKey());const i=yield yA(e.localStore,t);e.currentUser=t,(r=e).aa.forEach(u=>{u.forEach(h=>{h.reject(new Se(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.aa.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield he(e,i.hi)}var r}),et.apply(this,arguments)}function Ie(n,t){const e=$e(n),i=e.ra.get(t);if(i&&i.Zu)return kn().add(i.key);{let r=kn();const o=e.na.get(t);if(!o)return r;for(const u of o){const h=e.ea.get(u);r=r.unionWith(h.view.Ku)}return r}}function Ct(n,t){return en.apply(this,arguments)}function en(){return en=(0,Z.Z)(function*(n,t){const e=$e(n),i=yield Tm(e.localStore,t.query,!0),r=t.view.Yu(i);return e.isPrimaryClient&&N(e,t.targetId,r.Hu),r}),en.apply(this,arguments)}function Rn(n,t){return as.apply(this,arguments)}function as(){return as=(0,Z.Z)(function*(n,t){const e=$e(n);return O0(e.localStore,t).then(i=>he(e,i))}),as.apply(this,arguments)}function Td(n,t,e,i){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,Z.Z)(function*(n,t,e,i){const r=$e(n),o=yield function(u,h){const _=$e(u),b=$e(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.fn(T,h).next(M=>M?_.ci.Ks(T,M):pe.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield Ed(r.remoteStore):"acknowledged"===e||"rejected"===e?(D(r,t,i||null),w(r,t),h=t,$e($e(r.localStore).Bs)._n(h)):ct(),yield he(r,o)):Fe("SyncEngine","Cannot apply mutation batch with id: "+t)}),Bm.apply(this,arguments)}function Vm(){return Vm=(0,Z.Z)(function*(n,t){const e=$e(n);if(jA(e),GA(e),!0===t&&!0!==e.ha){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield Ey(e,i.toArray());e.ha=!0,yield Om(e.remoteStore,!0);for(const o of r)py(e.remoteStore,o)}else if(!1===t&&!1!==e.ha){const i=[];let r=Promise.resolve();e.na.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(A(e,u),Ol(e.localStore,u,!0))),my(e.remoteStore,u)}),yield r,yield Ey(e,i),function(o){const u=$e(o);u.ra.forEach((h,_)=>{my(u.remoteStore,_)}),u.oa.bi(),u.ra=new Map,u.ia=new hi(je.comparator)}(e),e.ha=!1,yield Om(e.remoteStore,!1)}}),Vm.apply(this,arguments)}function Ey(n,t,e){return Um.apply(this,arguments)}function Um(){return Um=(0,Z.Z)(function*(n,t,e){const i=$e(n),r=[],o=[];for(const u of t){let h;const _=i.na.get(u);if(_&&0!==_.length){h=yield Em(i.localStore,Gs(_[0]));for(const b of _){const T=i.ea.get(b),M=yield Ct(i,T);M.snapshot&&o.push(M.snapshot)}}else{const b=yield hy(i.localStore,u);h=yield Em(i.localStore,b),yield uT(i,Ty(b),u,!1)}r.push(h)}return i.ta.Qo(o),r}),Um.apply(this,arguments)}function Ty(n){return eE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function hC(n){const t=$e(n);return $e($e(t.localStore).persistence).Fs()}function fC(n,t,e,i){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,Z.Z)(function*(n,t,e,i){const r=$e(n);if(r.ha)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const o=r.na.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield O0(r.localStore,tE(o[0])),h=cm.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield he(r,u,h);break}case"rejected":yield Ol(r.localStore,t,!0),A(r,t,i);break;default:ct()}}),Hm.apply(this,arguments)}function FN(n,t,e){return HA.apply(this,arguments)}function HA(){return HA=(0,Z.Z)(function*(n,t,e){const i=jA(n);if(i.ha){for(const r of t){if(i.na.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const o=yield hy(i.localStore,r),u=yield Em(i.localStore,o);yield uT(i,Ty(o),u.targetId,!1),py(i.remoteStore,u)}for(const r of e)i.na.has(r)&&(yield Ol(i.localStore,r,!1).then(()=>{my(i.remoteStore,r),A(i,r)}).catch(Xc))}}),HA.apply(this,arguments)}function jA(n){const t=$e(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=VA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ie.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zk.bind(null,t),t.ta.Qo=aT.bind(null,t.eventManager),t.ta.fa=lT.bind(null,t.eventManager),t}function GA(n){const t=$e(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=d.bind(null,t),t}class Yk{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Z.Z)(function*(){e.M=Sm(t.databaseInfo.databaseId),e.sharedClientState=e._a(t),e.persistence=e.wa(t),yield e.persistence.start(),e.gcScheduler=e.ma(t),e.localStore=e.ga(t)})()}ma(t){return null}ga(t){return R0(this.persistence,new qE,t.initialUser,this.M)}wa(t){return new Bk(B0.zi,this.M)}_a(t){return new QE}terminate(){var t=this;return(0,Z.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Wk extends Yk{constructor(t,e,i){super(),this.ya=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Z.Z)(function*(){yield e().call(i,t),yield i.ya.initialize(i,t),yield GA(i.ya.syncEngine),yield Ed(i.ya.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ga(t){return R0(this.persistence,new qE,t.initialUser,this.M)}ma(t){return new jE(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}wa(t){const e=dy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new x0(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,eT(),fy(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(t){return new QE}}class LN extends Wk{constructor(t,e){super(t,e,!1),this.ya=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Z.Z)(function*(){yield e().call(i,t);const r=i.ya.syncEngine;i.sharedClientState instanceof H0&&(i.sharedClientState.syncEngine={Mr:Td.bind(null,r),Or:fC.bind(null,r),Fr:FN.bind(null,r),Fs:hC.bind(null,r),kr:Rn.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var o=(0,Z.Z)(function*(u){yield function dC(n,t){return Vm.apply(this,arguments)}(i.ya.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}_a(t){const e=eT();if(!H0.vt(e))throw new Se(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=dy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new H0(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class zA{initialize(t,e){var i=this;return(0,Z.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>UA(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Ge.bind(null,i.syncEngine),yield Om(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new oT}createDatastore(t){const e=Sm(t.databaseInfo.databaseId),i=new JE(t.databaseInfo);return new TA(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>UA(this.syncEngine,h,0),u=G0.vt()?new G0:new j0,new IA(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,_,b){const T=new zk(i,r,o,u,h,_);return b&&(T.ha=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Z.Z)(function*(e){const i=$e(e);Fe("RemoteStore","RemoteStore shutting down."),i.fu.add(5),yield Dd(i),i._u.shutdown(),i.wu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function Kk(n,t=10240){let e=0;return{read:()=>(0,Z.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Z.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class pT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.pa(this.observer.next,t)}error(t){this.observer.error?this.pa(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Ia(){this.muted=!0}pa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class BN{constructor(t,e){this.Ta=t,this.M=e,this.metadata=new ur,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(i=>{i&&i.xu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ta.cancel()}getMetadata(){var t=this;return(0,Z.Z)(function*(){return t.metadata.promise})()}da(){var t=this;return(0,Z.Z)(function*(){return yield t.getMetadata(),t.Aa()})()}Aa(){var t=this;return(0,Z.Z)(function*(){const e=yield t.Ra();if(null===e)return null;const i=t.Ea.decode(e),r=Number(i);isNaN(r)&&t.Pa(`length string (${i}) is not valid number`);const o=yield t.ba(r);return new FA(JSON.parse(o),e.length+r)})()}Va(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Ra(){var t=this;return(0,Z.Z)(function*(){for(;t.Va()<0&&!(yield t.va()););if(0===t.buffer.length)return null;const e=t.Va();e<0&&t.Pa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ba(t){var e=this;return(0,Z.Z)(function*(){for(;e.buffer.length<t;)(yield e.va())&&e.Pa("Reached the end of bundle when more is expected.");const i=e.Ea.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pa(t){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${t}`)}va(){var t=this;return(0,Z.Z)(function*(){const e=yield t.Ta.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class VN{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Z.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Se(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Z.Z)(function*(o,u){const h=$e(o),_=hm(h.M)+"/documents",b={documents:u.map(L=>jc(h.M,L))},T=yield h.ho("BatchGetDocuments",_,b),M=new Map;T.forEach(L=>{const U=function YM(n,t){return"found"in t?function(e,i){Rt(!!i.found);const r=Ra(e,i.found.name),o=Qi(i.found.updateTime),u=new Ar({mapValue:{fields:i.found.fields}});return Qn.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){Rt(!!i.missing),Rt(!!i.readTime);const r=Ra(e,i.missing),o=Qi(i.readTime);return Qn.newNoDocument(r,o)}(n,t):ct()}(h.M,L);M.set(U.key.toString(),U)});const O=[];return u.forEach(L=>{const U=M.get(L.toString());Rt(!!U),O.push(U)}),O}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new sm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Z.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=je.fromPath(r);t.mutations.push(new om(o,t.precondition(o)))}),yield(i=(0,Z.Z)(function*(r,o){const u=$e(r),h=hm(u.M)+"/documents",_={writes:o.map(b=>fm(u.M,b))};yield u.oo("Commit",h,_)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ct();e=St.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Se(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ui.updateTime(e):Ui.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(St.min()))throw new Se(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ui.updateTime(e)}return Ui.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class UN{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.Sa=5,this.Do=new xm(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var t=this;this.Do.To((0,Z.Z)(function*(){const e=new VN(t.datastore),i=t.Ca(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.xa(o)}))}).catch(r=>{t.xa(r)})}))}Ca(t){try{const e=this.updateFunction(t);return!Pc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}xa(t){this.Sa>0&&this.Na(t)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(t)}Na(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!cE(e)}return!1}}class HN{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=cr.UNAUTHENTICATED,this.clientId=Co.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Z.Z)(function*(h){Fe("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,Z.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Z.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Fl(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function Qk(n,t){return qA.apply(this,arguments)}function qA(){return qA=(0,Z.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Z.Z)(function*(o){i.isEqual(o)||(yield yA(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),qA.apply(this,arguments)}function Xk(n,t){return $A.apply(this,arguments)}function $A(){return $A=(0,Z.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield ZA(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>tu(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>tu(t.remoteStore,o)),n.onlineComponents=t}),$A.apply(this,arguments)}function ZA(n){return YA.apply(this,arguments)}function YA(){return YA=(0,Z.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield Qk(n,new Yk)),n.offlineComponents}),YA.apply(this,arguments)}function mT(n){return WA.apply(this,arguments)}function WA(){return WA=(0,Z.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield Xk(n,new zA)),n.onlineComponents}),WA.apply(this,arguments)}function Jk(n){return ZA(n).then(t=>t.persistence)}function KA(n){return ZA(n).then(t=>t.localStore)}function eR(n){return mT(n).then(t=>t.remoteStore)}function QA(n){return mT(n).then(t=>t.syncEngine)}function Iy(n){return XA.apply(this,arguments)}function XA(){return XA=(0,Z.Z)(function*(n){const t=yield mT(n),e=t.eventManager;return e.onListen=BA.bind(null,t.syncEngine),e.onUnlisten=qk.bind(null,t.syncEngine),e}),XA.apply(this,arguments)}function tR(n,t,e={}){const i=new ur;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function(r,o,u,h,_){const b=new pT({next:M=>{o.enqueueAndForget(()=>iC(r,T));const O=M.docs.has(u);!O&&M.fromCache?_.reject(new Se(le.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&M.fromCache&&h&&"server"===h.source?_.reject(new Se(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new sC(Kh(u.path),b,{includeMetadataChanges:!0,Cu:!0});return tC(r,T)}(yield Iy(n),n.asyncQueue,t,e,i)})),i.promise}function nR(n,t,e={}){const i=new ur;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function(r,o,u,h,_){const b=new pT({next:M=>{o.enqueueAndForget(()=>iC(r,T)),M.fromCache&&"server"===h.source?_.reject(new Se(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new sC(u,b,{includeMetadataChanges:!0,Cu:!0});return tC(r,T)}(yield Iy(n),n.asyncQueue,t,e,i)})),i.promise}const iR=new Map;function JA(n,t,e){if(!e)throw new Se(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function rR(n,t,e,i){if(!0===t&&!0===i)throw new Se(le.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function sR(n){if(!je.isDocumentKey(n))throw new Se(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oR(n){if(je.isDocumentKey(n))throw new Se(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ct()}function yn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Se(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=gT(n);throw new Se(le.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function aR(n,t){if(t<=0)throw new Se(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class lR{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Se(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Se(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,rR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pC{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lR({}),this._settingsFrozen=!1,t instanceof xa?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Se(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xa(r.options.projectId)}(t))}get app(){if(!this._app)throw new Se(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Se(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lR(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new LD;switch(e.type){case"gapi":const i=e.client;return Rt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new Rb(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Se(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=iR.get(t);e&&(Fe("ComponentProvider","Removing Datastore"),iR.delete(t),e.terminate())}(this),Promise.resolve()}}class fi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fi(this.firestore,t,this._key)}}class Ts{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ts(this.firestore,t,this._query)}}class nu extends Ts{constructor(t,e,i){super(t,e,Kh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fi(this.firestore,null,new je(t))}withConverter(t){return new nu(this.firestore,t,this._path)}}function cR(n,t,...e){if(n=(0,Ut.m9)(n),JA("collection","path",t),n instanceof pC){const i=hn.fromString(t,...e);return oR(i),new nu(n,null,i)}{if(!(n instanceof fi||n instanceof nu))throw new Se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hn.fromString(t,...e));return oR(i),new nu(n.firestore,null,i)}}function _T(n,t,...e){if(n=(0,Ut.m9)(n),1===arguments.length&&(t=Co.R()),JA("doc","path",t),n instanceof pC){const i=hn.fromString(t,...e);return sR(i),new fi(n,null,new je(i))}{if(!(n instanceof fi||n instanceof nu))throw new Se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hn.fromString(t,...e));return sR(i),new fi(n.firestore,n instanceof nu?n.converter:null,new je(i))}}function uR(n,t){return n=(0,Ut.m9)(n),t=(0,Ut.m9)(t),(n instanceof fi||n instanceof nu)&&(t instanceof fi||t instanceof nu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function dR(n,t){return n=(0,Ut.m9)(n),t=(0,Ut.m9)(t),n instanceof Ts&&t instanceof Ts&&n.firestore===t.firestore&&tm(n._query,t._query)&&n.converter===t.converter}class XN{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new xm(this,"async_queue_retry"),this.qa=()=>{const e=fy();e&&Fe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Do.Ao()};const t=fy();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ka(),this.Ga(t)}enterRestrictedMode(t){if(!this.Oa){this.Oa=!0,this.La=t||!1;const e=fy();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.qa)}}enqueue(t){if(this.Ka(),this.Oa)return new Promise(()=>{});const e=new ur;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ma.push(t),this.Qa()))}Qa(){var t=this;return(0,Z.Z)(function*(){if(0!==t.Ma.length){try{yield t.Ma[0](),t.Ma.shift(),t.Do.reset()}catch(e){if(!_d(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}t.Ma.length>0&&t.Do.To(()=>t.Qa())}})()}Ga(t){const e=this.ka.then(()=>(this.Ba=!0,t().catch(i=>{throw this.$a=i,this.Ba=!1,rn("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Ba=!1,i))));return this.ka=e,e}enqueueAfterDelay(t,e,i){this.Ka(),this.Ua.indexOf(t)>-1&&(e=0);const r=Fm.createAndSchedule(this,t,e,i,o=>this.ja(o));return this.Fa.push(r),r}Ka(){this.$a&&ct()}verifyOperationInProgress(){}Wa(){var t=this;return(0,Z.Z)(function*(){let e;do{e=t.ka,yield e}while(e!==t.ka)})()}za(t){for(const e of this.Fa)if(e.timerId===t)return!0;return!1}Ha(t){return this.Wa().then(()=>{this.Fa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Fa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Wa()})}Ja(t){this.Ua.push(t)}ja(t){const e=this.Fa.indexOf(t);this.Fa.splice(e,1)}}function eS(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class JN{constructor(){this._progressObserver={},this._taskCompletionResolver=new ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class wi extends pC{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new XN,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||hR(this),this._firestoreClient.terminate()}}function mr(n){return n._firestoreClient||hR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hR(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new jD(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new HN(n._authCredentials,n._appCheckCredentials,n._queue,i)}function fR(n,t,e){const i=new ur;return n.asyncQueue.enqueue((0,Z.Z)(function*(){try{yield Qk(n,e),yield Xk(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(o=r).name?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var o})).then(()=>i.promise)}function pR(n){if(n._initialized||n._terminated)throw new Se(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Id{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Se(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class iu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new iu(bi.fromBase64String(t))}catch(e){throw new Se(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new iu(bi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class jm{constructor(t){this._methodName=t}}class yT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Se(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Se(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Tt(this._lat,t._lat)||Tt(this._long,t._long)}}const cL=/^__.*__$/;class uL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new md(t,this.data,this.fieldMask,e,this.fieldTransforms):new tf(t,this.data,e,this.fieldTransforms)}}class mR{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new md(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function gR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class vT{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Ya(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(t){return new vT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Za({path:i,ec:!1});return r.nc(t),r}sc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Za({path:i,ec:!1});return r.Ya(),r}ic(t){return this.Za({path:void 0,ec:!0})}rc(t){return wT(t,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Ya(){if(this.path)for(let t=0;t<this.path.length;t++)this.nc(this.path.get(t))}nc(t){if(0===t.length)throw this.rc("Document fields must not be empty");if(gR(this.Xa)&&cL.test(t))throw this.rc('Document fields cannot begin and end with "__"')}}class dL{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||Sm(t)}ac(t,e,i,r=!1){return new vT({Xa:t,methodName:e,uc:i,path:dr.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Gm(n){const t=n._freezeSettings(),e=Sm(n._databaseId);return new dL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function bT(n,t,e,i,r,o={}){const u=n.ac(o.merge||o.mergeFields?2:0,t,e,r);rS("Data must be an object, but it was:",u,i);const h=vR(i,u);let _,b;if(o.merge)_=new ad(u.fieldMask),b=u.fieldTransforms;else if(o.mergeFields){const T=[];for(const M of o.mergeFields){const O=sS(t,M,e);if(!u.contains(O))throw new Se(le.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);CR(T,O)||T.push(O)}_=new ad(T),b=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=u.fieldTransforms;return new uL(new Ar(h),_,b)}class mC extends jm{_toFieldTransform(t){if(2!==t.Xa)throw t.rc(1===t.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof mC}}function _R(n,t,e){return new vT({Xa:3,uc:t.settings.uc,methodName:n._methodName,ec:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class tS extends jm{_toFieldTransform(t){return new Sl(t.path,new im)}isEqual(t){return t instanceof tS}}class hL extends jm{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=_R(this,t,!0),i=this.cc.map(o=>zm(o,e)),r=new Jh(i);return new Sl(t.path,r)}isEqual(t){return this===t}}class fL extends jm{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=_R(this,t,!0),i=this.cc.map(o=>zm(o,e)),r=new Uc(i);return new Sl(t.path,r)}isEqual(t){return this===t}}class pL extends jm{constructor(t,e){super(t),this.hc=e}_toFieldTransform(t){const e=new ef(t.M,rE(t.M,this.hc));return new Sl(t.path,e)}isEqual(t){return this===t}}function nS(n,t,e,i){const r=n.ac(1,t,e);rS("Data must be an object, but it was:",r,i);const o=[],u=Ar.empty();od(i,(_,b)=>{const T=CT(t,_,e);b=(0,Ut.m9)(b);const M=r.sc(T);if(b instanceof mC)o.push(T);else{const O=zm(b,M);null!=O&&(o.push(T),u.set(T,O))}});const h=new ad(o);return new mR(u,h,r.fieldTransforms)}function iS(n,t,e,i,r,o){const u=n.ac(1,t,e),h=[sS(t,i,e)],_=[r];if(o.length%2!=0)throw new Se(le.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<o.length;O+=2)h.push(sS(t,o[O])),_.push(o[O+1]);const b=[],T=Ar.empty();for(let O=h.length-1;O>=0;--O)if(!CR(b,h[O])){const L=h[O];let U=_[O];U=(0,Ut.m9)(U);const te=u.sc(L);if(U instanceof mC)b.push(L);else{const Ce=zm(U,te);null!=Ce&&(b.push(L),T.set(L,Ce))}}const M=new ad(b);return new mR(T,M,u.fieldTransforms)}function yR(n,t,e,i=!1){return zm(e,n.ac(i?4:3,t))}function zm(n,t){if(bR(n=(0,Ut.m9)(n)))return rS("Unsupported field value:",t,n),vR(n,t);if(n instanceof jm)return function(e,i){if(!gR(i.Xa))throw i.rc(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.rc(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=zm(u,i.ic(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Ut.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rE(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ai.fromDate(e);return{timestampValue:dm(i.M,r)}}if(e instanceof Ai){const r=new Ai(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:dm(i.M,r)}}if(e instanceof yT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof iu)return{bytesValue:o0(i.M,e._byteString)};if(e instanceof fi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.rc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:_E(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.rc(`Unsupported field value: ${gT(e)}`)}(n,t)}function vR(n,t){const e={};return B_(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):od(n,(i,r)=>{const o=zm(r,t.tc(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function bR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ai||n instanceof yT||n instanceof iu||n instanceof fi||n instanceof jm)}function rS(n,t,e){if(!bR(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=gT(e);throw t.rc("an object"===i?n+" a custom object":n+" "+i)}var i}function sS(n,t,e){if((t=(0,Ut.m9)(t))instanceof Id)return t._internalPath;if("string"==typeof t)return CT(n,t);throw wT("Field path arguments must be of type string or ",n,!1,void 0,e)}const mL=new RegExp("[~\\*/\\[\\]]");function CT(n,t,e){if(t.search(mL)>=0)throw wT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Id(...t.split("."))._internalPath}catch(i){throw wT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function wT(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(o||u)&&(_+=" (found",o&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Se(le.INVALID_ARGUMENT,h+n+_)}function CR(n,t){return n.some(e=>e.isEqual(t))}class gC{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new gL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(DT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class gL extends gC{data(){return super.data()}}function DT(n,t){return"string"==typeof t?CT(n,t):t instanceof Id?t._internalPath:t._delegate._internalPath}class qm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Md extends gC{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new _C(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(DT("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class _C extends Md{data(t={}){return super.data(t)}}class gf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new qm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new _C(this._firestore,this._userDataWriter,i.key,i,new qm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Se(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new _C(i._firestore,i._userDataWriter,u.doc.key,u.doc,new qm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new _C(i._firestore,i._userDataWriter,u.doc.key,u.doc,new qm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),b=o.indexOf(u.doc.key)),{type:_L(u.type),doc:h,oldIndex:_,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function _L(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function wR(n,t){return n instanceof Md&&t instanceof Md?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof gf&&t instanceof gf&&n._firestore===t._firestore&&dR(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function DR(n){if(z_(n)&&0===n.explicitOrderBy.length)throw new Se(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yC{}function _f(n,...t){for(const e of t)n=e._apply(n);return n}class yL extends yC{constructor(t,e,i){super(),this.lc=t,this.fc=e,this.dc=i,this.type="where"}_apply(t){const e=Gm(t.firestore),i=function(r,o,u,h,_,b,T){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Se(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){SR(T,b);const L=[];for(const U of T)L.push(AR(h,r,U));M={arrayValue:{values:L}}}else M=AR(h,r,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||SR(T,b),M=yR(u,"where",T,"in"===b||"not-in"===b);const O=Sr.create(_,b,M);return function(L,U){if(U.S()){const Ce=$b(L);if(null!==Ce&&!Ce.isEqual(U.field))throw new Se(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ce.toString()}' and '${U.field.toString()}'`);const Ke=qb(L);null!==Ke&&xR(0,U.field,Ke)}const te=function(Ce,Ke){for(const at of Ce.filters)if(Ke.indexOf(at.op)>=0)return at.op;return null}(L,function(Ce){switch(Ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==te)throw new Se(le.INVALID_ARGUMENT,te===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${te.toString()}' filters.`)}(r,O),O}(t._query,0,e,t.firestore._databaseId,this.lc,this.fc,this.dc);return new Ts(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new Al(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class bL extends yC{constructor(t,e){super(),this.lc=t,this._c=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Se(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Se(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new dd(r,o);return function(h,_){if(null===qb(h)){const b=$b(h);null!==b&&xR(0,b,_.field)}}(i,u),u}(t._query,this.lc,this._c);return new Ts(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Al(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class ER extends yC{constructor(t,e,i){super(),this.type=t,this.wc=e,this.mc=i}_apply(t){return new Ts(t.firestore,t.converter,Zb(t._query,this.wc,this.mc))}}class TR extends yC{constructor(t,e,i){super(),this.type=t,this.gc=e,this.yc=i}_apply(t){const e=MR(t,this.type,this.gc,this.yc);return new Ts(t.firestore,t.converter,(r=e,new Al((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class IR extends yC{constructor(t,e,i){super(),this.type=t,this.gc=e,this.yc=i}_apply(t){const e=MR(t,this.type,this.gc,this.yc);return new Ts(t.firestore,t.converter,(r=e,new Al((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function MR(n,t,e,i){if(e[0]=(0,Ut.m9)(e[0]),e[0]instanceof gC)return function(r,o,u,h,_){if(!h)throw new Se(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const T of hd(r))if(T.field.isKeyField())b.push(cd(o,h.key));else{const M=h.data.field(T.field);if(jh(M))throw new Se(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const O=T.field.canonicalString();throw new Se(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(M)}return new Bc(b,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Gm(n.firestore);return function(o,u,h,_,b,T){const M=o.explicitOrderBy;if(b.length>M.length)throw new Se(le.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let L=0;L<b.length;L++){const U=b[L];if(M[L].field.isKeyField()){if("string"!=typeof U)throw new Se(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof U}`);if(!Qh(o)&&-1!==U.indexOf("/"))throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${U}' contains a slash.`);const te=o.path.child(hn.fromString(U));if(!je.isDocumentKey(te))throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const Ce=new je(te);O.push(cd(u,Ce))}else{const te=yR(h,_,U);O.push(te)}}return new Bc(O,T)}(n._query,n.firestore._databaseId,r,t,e,i)}}function AR(n,t,e){if("string"==typeof(e=(0,Ut.m9)(e))){if(""===e)throw new Se(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qh(t)&&-1!==e.indexOf("/"))throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(hn.fromString(e));if(!je.isDocumentKey(i))throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cd(n,new je(i))}if(e instanceof fi)return cd(n,e._key);throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gT(e)}.`)}function SR(n,t){if(!Array.isArray(n)||0===n.length)throw new Se(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Se(le.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function xR(n,t,e){if(!e.isEqual(t))throw new Se(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class oS{convertValue(t,e="none"){switch(ld(t)){case 0:return null;case 1:return t.booleanValue;case 2:return di(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Il(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ct()}}convertObject(t,e){const i={};return od(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new yT(di(t.latitude),di(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Pb(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Gh(t));default:return null}}convertTimestamp(t){const e=Tl(t);return new Ai(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=hn.fromString(t);Rt(wE(i));const r=new xa(i.get(1),i.get(3)),o=new je(i.popFirst(5));return r.isEqual(e)||rn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function ET(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class AL extends oS{constructor(t){super(),this.firestore=t}convertBytes(t){return new iu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}class kR{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Gm(t)}set(t,e,i){this._verifyNotCommitted();const r=yf(t,this._firestore),o=ET(r.converter,e,i),u=bT(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Ui.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=yf(t,this._firestore);let u;return u="string"==typeof(e=(0,Ut.m9)(e))||e instanceof Id?iS(this._dataReader,"WriteBatch.update",o._key,e,i,r):nS(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,Ui.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=yf(t,this._firestore);return this._mutations=this._mutations.concat(new sm(e._key,Ui.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yf(n,t){if((n=(0,Ut.m9)(n)).firestore!==t)throw new Se(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class $m extends oS{constructor(t){super(),this.firestore=t}convertBytes(t){return new iu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}function RR(n,t,e){n=yn(n,fi);const i=yn(n.firestore,wi),r=ET(n.converter,t,e);return My(i,[bT(Gm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ui.none())])}function OR(n,t,e,...i){n=yn(n,fi);const r=yn(n.firestore,wi),o=Gm(r);let u;return u="string"==typeof(t=(0,Ut.m9)(t))||t instanceof Id?iS(o,"updateDoc",n._key,t,e,i):nS(o,"updateDoc",n._key,t),My(r,[u.toMutation(n._key,Ui.exists(!0))])}function PR(n,...t){var e,i,r;n=(0,Ut.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||eS(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(eS(t[u])){const M=t[u];t[u]=null===(e=M.next)||void 0===e?void 0:e.bind(M),t[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),t[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,b,T;if(n instanceof fi)b=yn(n.firestore,wi),T=Kh(n._key.path),_={next:M=>{t[u]&&t[u](aS(b,n,M))},error:t[u+1],complete:t[u+2]};else{const M=yn(n,Ts);b=yn(M.firestore,wi),T=M._query;const O=new $m(b);_={next:L=>{t[u]&&t[u](new gf(b,O,M,L))},error:t[u+1],complete:t[u+2]},DR(n._query)}return function(M,O,L,U){const te=new pT(U),Ce=new sC(O,te,L);return M.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return tC(yield Iy(M),Ce)})),()=>{te.Ia(),M.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return iC(yield Iy(M),Ce)}))}}(mr(b),T,h,_)}function My(n,t){return function(e,i){const r=new ur;return e.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function $k(n,t,e){return uC.apply(this,arguments)}(yield QA(e),i,r)})),r.promise}(mr(n),t)}function aS(n,t,e){const i=e.docs.get(t._key),r=new $m(n);return new Md(n,r,t._key,i,new qm(e.hasPendingWrites,e.fromCache),t.converter)}class BL extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Gm(t)}get(t){const e=yf(t,this._firestore),i=new AL(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ct();const o=r[0];if(o.isFoundDocument())return new gC(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new gC(this._firestore,i,e._key,null,e.converter);throw ct()})}set(t,e,i){const r=yf(t,this._firestore),o=ET(r.converter,e,i),u=bT(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=yf(t,this._firestore);let u;return u="string"==typeof(e=(0,Ut.m9)(e))||e instanceof Id?iS(this._dataReader,"Transaction.update",o._key,e,i,r):nS(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=yf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=yf(t,this._firestore),i=new $m(this._firestore);return super.get(t).then(r=>new Md(this._firestore,i,e._key,r._document,new qm(!1,!1),e.converter))}}function lS(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function NR(){if("undefined"==typeof Uint8Array)throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function LR(){if(!function HD(){return"undefined"!=typeof atob}())throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Wp=Jt.SDK_VERSION,(0,Jt._registerComponent)(new Dr.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new wi(r,new BD(e.getProvider("auth-internal")),new Aa(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,Jt.registerVersion)(Sb,"3.4.8",n),(0,Jt.registerVersion)(Sb,"3.4.8","esm2017")}();class vC{constructor(t){this._delegate=t}static fromBase64String(t){return LR(),new vC(iu.fromBase64String(t))}static fromUint8Array(t){return NR(),new vC(iu.fromUint8Array(t))}toBase64(){return LR(),this._delegate.toBase64()}toUint8Array(){return NR(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cS(n){return function ZL(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class YL{enableIndexedDbPersistence(t,e){return function tL(n,t){pR(n=yn(n,wi));const e=mr(n),i=n._freezeSettings(),r=new zA;return fR(e,r,new Wk(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function nL(n){pR(n=yn(n,wi));const t=mr(n),e=n._freezeSettings(),i=new zA;return fR(t,i,new LN(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function iL(n){if(n._initialized&&!n._terminated)throw new Se(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ur;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Z.Z)(function*(){try{yield(e=(0,Z.Z)(function*(i){if(!Wo.vt())return Promise.resolve();const r=i+"main";yield Wo.delete(r)}),function(i){return e.apply(this,arguments)})(dy(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class BR{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof xa||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Hh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function KN(n,t,e,i={}){var r;const o=(n=yn(n,pC))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Hh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=cr.MOCK_USER;else{u=(0,Ut.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Se(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new cr(_)}n._authCredentials=new AM(new ND(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function sL(n){return function jN(n){return n.asyncQueue.enqueue((0,Z.Z)(function*(){const t=yield Jk(n),e=yield eR(n);return t.setNetworkEnabled(!0),function(i){const r=$e(i);return r.fu.delete(0),km(r)}(e)}))}(mr(n=yn(n,wi)))}(this._delegate)}disableNetwork(){return function oL(n){return function GN(n){return n.asyncQueue.enqueue((0,Z.Z)(function*(){const t=yield Jk(n),e=yield eR(n);return t.setNetworkEnabled(!1),(i=(0,Z.Z)(function*(r){const o=$e(r);o.fu.add(0),yield Dd(o),o.wu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(mr(n=yn(n,wi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,rR("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function rL(n){return function(t){const e=new ur;return t.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function m(n,t){return v.apply(this,arguments)}(yield QA(t),e)})),e.promise}(mr(n=yn(n,wi)))}(this._delegate)}onSnapshotsInSync(t){return function LL(n,t){return function $N(n,t){const e=new pT(t);return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return i=yield Iy(n),r=e,$e(i).Eu.add(r),void r.next();var i,r})),()=>{e.Ia(),n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return i=yield Iy(n),r=e,void $e(i).Eu.delete(r);var i,r}))}}(mr(n=yn(n,wi)),eS(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Ay(this,cR(this._delegate,t))}catch(e){throw zs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Fa(this,_T(this._delegate,t))}catch(e){throw zs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new qs(this,function QN(n,t){if(n=yn(n,pC),JA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Se(le.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ts(n,null,(e=t,new Al(hn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw zs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function VL(n,t){return function ZN(n,t){const e=new ur;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){const i=yield(r=n,mT(r).then(o=>o.datastore));var r;new UN(n.asyncQueue,i,t,e).run()})),e.promise}(mr(n=yn(n,wi)),e=>t(new BL(n,e)))}(this._delegate,e=>t(new VR(this,e)))}batch(){return mr(this._delegate),new UR(new kR(this._delegate,t=>My(this._delegate,t)))}loadBundle(t){return function aL(n,t){const e=mr(n=yn(n,wi)),i=new JN;return function YN(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,_=function(_,b){if(_ instanceof Uint8Array)return Kk(_,b);if(_ instanceof ArrayBuffer)return Kk(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new BN(_,u);var _}(e,Sm(t));n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){!function NN(n,t,e){const i=$e(n);var r;(r=(0,Z.Z)(function*(o,u,h){try{const _=yield u.getMetadata();if(yield function(O,L){const U=$e(O),te=Qi(L.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",Ce=>U._s.getBundleMetadata(Ce,L.id)).then(Ce=>!!Ce&&Ce.createTime.compareTo(te)>=0)}(o.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(O=_).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);h._updateProgress(NA(_));const b=new aC(_,o.localStore,u.M);let T=yield u.da();for(;T;){const O=yield b.ku(T);O&&h._updateProgress(O),T=yield u.da()}const M=yield b.complete();return yield he(o,M.Fu,void 0),yield function(O,L){const U=$e(O);return U.persistence.runTransaction("Save bundle","readwrite",te=>U._s.saveBundleMetadata(te,L))}(o.localStore,_),h._completeWith(M.progress),Promise.resolve(M.Ou)}catch(_){return Hh("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var O}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield QA(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function lL(n,t){return function WN(n,t){return n.asyncQueue.enqueue((0,Z.Z)(function*(){return function(e,i){const r=$e(e);return r.persistence.runTransaction("Get named query","readonly",o=>r._s.getNamedQuery(o,i))}(yield KA(n),t)}))}(mr(n=yn(n,wi)),t).then(e=>e?new Ts(n,null,e.query):null)}(this._delegate,t).then(e=>e?new qs(this,e):null)}}class TT extends oS{constructor(t){super(),this.firestore=t}convertBytes(t){return new vC(new iu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Fa.forKey(e,this.firestore,null)}}class VR{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new TT(t)}get(t){const e=Ym(t);return this._delegate.get(e).then(i=>new bC(this._firestore,new Md(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Ym(t);return i?(lS("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Ym(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Ym(t);return this._delegate.delete(e),this}}class UR{constructor(t){this._delegate=t}set(t,e,i){const r=Ym(t);return i?(lS("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Ym(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Ym(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Zm{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new _C(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new CC(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Zm.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Zm(t,new TT(t),e),r.set(e,o)),o}}Zm.INSTANCES=new WeakMap;class Fa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new TT(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Fa(e,new fi(e._delegate,i,new je(t)))}static forKey(t,e,i){return new Fa(e,new fi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Ay(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Ay(this.firestore,cR(this._delegate,t))}catch(e){throw zs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ut.m9)(t))instanceof fi&&uR(this._delegate,t)}set(t,e){e=lS("DocumentReference.set",e);try{return e?RR(this._delegate,t,e):RR(this._delegate,t)}catch(i){throw zs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?OR(this._delegate,t):OR(this._delegate,t,e,...i)}catch(r){throw zs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function FL(n){return My(yn(n.firestore,wi),[new sm(n._key,Ui.none())])}(this._delegate)}onSnapshot(...t){const e=HR(t),i=jR(t,r=>new bC(this.firestore,new Md(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return PR(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function xL(n){n=yn(n,fi);const t=yn(n.firestore,wi),e=mr(t),i=new $m(t);return function zN(n,t){const e=new ur;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return(i=(0,Z.Z)(function*(r,o,u){try{const h=yield function(_,b){const T=$e(_);return T.persistence.runTransaction("read document","readonly",M=>T.ci.Ls(M,b))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Se(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=Fl(h,`Failed to get document '${o} from cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield KA(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Md(t,i,n._key,r,new qm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function kL(n){n=yn(n,fi);const t=yn(n.firestore,wi);return tR(mr(t),n._key,{source:"server"}).then(e=>aS(t,n,e))}(this._delegate):function SL(n){n=yn(n,fi);const t=yn(n.firestore,wi);return tR(mr(t),n._key).then(e=>aS(t,n,e))}(this._delegate),e.then(i=>new bC(this.firestore,new Md(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Fa(this.firestore,this._delegate.withConverter(t?Zm.getInstance(this.firestore,t):null))}}function zs(n,t,e){return n.message=n.message.replace(t,e),n}function HR(n){for(const t of n)if("object"==typeof t&&!cS(t))return t;return{}}function jR(n,t){var e,i;let r;return r=cS(n[0])?n[0]:cS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class bC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return wR(this._delegate,t._delegate)}}class CC extends bC{data(t){const e=this._delegate.data(t);return function MM(n,t){n||ct()}(void 0!==e),e}}class qs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new TT(t)}where(t,e,i){try{return new qs(this.firestore,_f(this._delegate,function vL(n,t,e){const i=t,r=DT("where",n);return new yL(r,i,e)}(t,e,i)))}catch(r){throw zs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new qs(this.firestore,_f(this._delegate,function CL(n,t="asc"){const e=t,i=DT("orderBy",n);return new bL(i,e)}(t,e)))}catch(i){throw zs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new qs(this.firestore,_f(this._delegate,function wL(n){return aR("limit",n),new ER("limit",n,"F")}(t)))}catch(e){throw zs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new qs(this.firestore,_f(this._delegate,function DL(n){return aR("limitToLast",n),new ER("limitToLast",n,"L")}(t)))}catch(e){throw zs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new qs(this.firestore,_f(this._delegate,function EL(...n){return new TR("startAt",n,!0)}(...t)))}catch(e){throw zs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new qs(this.firestore,_f(this._delegate,function TL(...n){return new TR("startAfter",n,!1)}(...t)))}catch(e){throw zs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new qs(this.firestore,_f(this._delegate,function IL(...n){return new IR("endBefore",n,!1)}(...t)))}catch(e){throw zs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new qs(this.firestore,_f(this._delegate,function ML(...n){return new IR("endAt",n,!0)}(...t)))}catch(e){throw zs(e,"endAt()","Query.endAt()")}}isEqual(t){return dR(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function OL(n){n=yn(n,Ts);const t=yn(n.firestore,wi),e=mr(t),i=new $m(t);return function qN(n,t){const e=new ur;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return(i=(0,Z.Z)(function*(r,o,u){try{const h=yield Tm(r,o,!0),_=new cT(o,h.li),b=_.Gu(h.documents),T=_.applyChanges(b,!1);u.resolve(T.snapshot)}catch(h){const _=Fl(h,`Failed to execute query '${o} against cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield KA(n),t,e);var i})),e.promise}(e,n._query).then(r=>new gf(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function PL(n){n=yn(n,Ts);const t=yn(n.firestore,wi),e=mr(t),i=new $m(t);return nR(e,n._query,{source:"server"}).then(r=>new gf(t,i,n,r))}(this._delegate):function RL(n){n=yn(n,Ts);const t=yn(n.firestore,wi),e=mr(t),i=new $m(t);return DR(n._query),nR(e,n._query).then(r=>new gf(t,i,n,r))}(this._delegate),e.then(i=>new uS(this.firestore,new gf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=HR(t),i=jR(t,r=>new uS(this.firestore,new gf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return PR(this._delegate,e,i)}withConverter(t){return new qs(this.firestore,this._delegate.withConverter(t?Zm.getInstance(this.firestore,t):null))}}class KL{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new CC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uS{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new qs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new CC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new KL(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new CC(this._firestore,i))})}isEqual(t){return wR(this._delegate,t._delegate)}}class Ay extends qs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Fa(this.firestore,t):null}doc(t){try{return new Fa(this.firestore,void 0===t?_T(this._delegate):_T(this._delegate,t))}catch(e){throw zs(e,"doc()","CollectionReference.doc()")}}add(t){return function NL(n,t){const e=yn(n.firestore,wi),i=_T(n),r=ET(n.converter,t);return My(e,[bT(Gm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ui.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Fa(this.firestore,e))}isEqual(t){return uR(this._delegate,t._delegate)}withConverter(t){return new Ay(this.firestore,this._delegate.withConverter(t?Zm.getInstance(this.firestore,t):null))}}function Ym(n){return yn(n,fi)}class dS{constructor(...t){this._delegate=new Id(...t)}static documentId(){return new dS(dr.keyField().canonicalString())}isEqual(t){return(t=(0,Ut.m9)(t))instanceof Id&&this._delegate._internalPath.isEqual(t._internalPath)}}class Wm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function HL(){return new tS("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Wm(t)}static delete(){const t=function UL(){return new mC("deleteField")}();return t._methodName="FieldValue.delete",new Wm(t)}static arrayUnion(...t){const e=function jL(...n){return new hL("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Wm(e)}static arrayRemove(...t){const e=function GL(...n){return new fL("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Wm(e)}static increment(t){const e=function zL(n){return new pL("increment",n)}(t);return e._methodName="FieldValue.increment",new Wm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const QL={Firestore:BR,GeoPoint:yT,Timestamp:Ai,Blob:vC,Transaction:VR,WriteBatch:UR,DocumentReference:Fa,DocumentSnapshot:bC,Query:qs,QueryDocumentSnapshot:CC,QuerySnapshot:uS,CollectionReference:Ay,FieldPath:dS,FieldValue:Wm,setLogLevel:function WL(n){!function FD(n){Oc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function GR(n,t){return function eB(n,t=Ch.z){return new dn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function hS(n,t){return GR(n,t).pipe((0,nt.U)(e=>({payload:e,type:"query"})))}function IT(n,t){return hS(n,t).pipe(Tr(void 0),Gv(),(0,nt.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(T=>T.doc.ref.isEqual(u.ref)),b=null==e?void 0:e.payload.docs.find(T=>T.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function zR(n,t,e){return IT(n,e).pipe(_l((i,r)=>function nB(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function iB(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return fS(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return fS(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return fS(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Ic(),(0,nt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function fS(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function qR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function JL(n){(function XL(n,t){n.INTERNAL.registerComponent(new Dr.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},QL)))})(n,(t,e)=>new BR(t,e,new YL)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(Ep.Z);class $R{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=IT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,nt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Tr(void 0),Gv(),Zn(([i,r])=>r.length>0||!i),(0,nt.U)(([i,r])=>r),vi.iC)}auditTrail(t){return this.stateChanges(t).pipe(_l((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=qR(t);return zR(this.query,e,this.afs.schedulers.outsideAngular).pipe(vi.iC)}valueChanges(t={}){return hS(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),vi.iC)}get(t){return(0,Wn.D)(this.query.get(t)).pipe(vi.iC)}add(t){return this.ref.add(t)}doc(t){return new ZR(this.ref.doc(t),this.afs)}}class ZR{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=KR(i,e);return new $R(r,o,this.afs)}snapshotChanges(){return function tB(n,t){return GR(n,t).pipe(Tr(void 0),Gv(),(0,nt.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(vi.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Wn.D)(this.ref.get(t)).pipe(vi.iC)}}class rB{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?IT(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Zn(e=>e.length>0),vi.iC):IT(this.query,this.afs.schedulers.outsideAngular).pipe(vi.iC)}auditTrail(t){return this.stateChanges(t).pipe(_l((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=qR(t);return zR(this.query,e,this.afs.schedulers.outsideAngular).pipe(vi.iC)}valueChanges(t={}){return hS(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),vi.iC)}get(t){return(0,Wn.D)(this.query.get(t)).pipe(vi.iC)}}const YR=new s.OlP("angularfire2.enableFirestorePersistence"),WR=new s.OlP("angularfire2.firestore.persistenceSettings"),sB=new s.OlP("angularfire2.firestore.settings"),oB=new s.OlP("angularfire2.firestore.use-emulator");function KR(n,t=(e=>e)){return{query:t(n),ref:n}}let Sy=(()=>{class n{constructor(e,i,r,o,u,h,_,b,T,M,O,L,U,te,Ce,Ke,at){this.schedulers=_;const ot=(0,Vs.on)(e,h,i),tt=T;M&&Qg(ot,h,O,U,te,Ce,L,Ke),[this.firestore,this.persistenceEnabled$]=(0,Vs.cc)(`${ot.name}.firestore`,"AngularFirestore",ot.name,()=>{const Pt=h.runOutsideAngular(()=>ot.firestore());if(o&&Pt.settings(o),tt&&Pt.useEmulator(...tt),r&&!Fi(u)){const jt=()=>{try{return(0,Wn.D)(Pt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(mn){return"undefined"!=typeof console&&console.warn(mn),rt(!1)}};return[Pt,h.runOutsideAngular(jt)]}return[Pt,rt(!1)]},[o,tt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=KR(r,i),h=this.schedulers.ngZone.run(()=>o);return new $R(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new rB(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new ZR(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vs.Dh),s.LFG(Vs.xv,8),s.LFG(YR,8),s.LFG(sB,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(vi.HU),s.LFG(WR,8),s.LFG(oB,8),s.LFG(Xg,8),s.LFG(gl,8),s.LFG(Wg,8),s.LFG(Uw,8),s.LFG(Uv,8),s.LFG(Kg,8),s.LFG(Hv,8),s.LFG(Yg,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),aB=(()=>{class n{constructor(){XI.Z.registerVersion("angularfire",vi.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:YR,useValue:!0},{provide:WR,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Sy]}),n})();class ls extends mt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var lB=F(9672);function wC(...n){const t=(0,Xr.yG)(n),e=(0,Xr.jO)(n),{args:i,keys:r}=Ns(n);if(0===i.length)return(0,Wn.D)([],t);const o=new dn.y(function cB(n,t,e=pl.y){return i=>{QR(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)QR(t,()=>{const b=(0,Wn.D)(n[_],t);let T=!1;b.subscribe((0,Fn.x)(i,M=>{o[_]=M,T||(T=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>cc(r,u):pl.y));return e?o.pipe(Xd(e)):o}function QR(n,t,e){n?(0,lB.f)(e,n,t):t()}function DC(n,t){const e=(0,bs.m)(n)?n:()=>n,i=r=>r.error(e());return new dn.y(t?r=>t.schedule(i,0,r):i)}function EC(n){return new dn.y(t=>{(0,wn.Xf)(n()).subscribe(t)})}var ji=F(727);function XR(){return(0,oi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Fn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class uB extends dn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,oi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ji.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Fn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ji.w0.EMPTY)}return t}refCount(){return XR()(this)}}function Ad(n){return(0,oi.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Fn.x)(e,void 0,void 0,u=>{o=(0,wn.Xf)(n(u,Ad(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}var zr=F(5577);function xy(n,t){return(0,bs.m)(t)?(0,zr.z)(n,t,1):(0,zr.z)(n,1)}function pS(n){return n<=0?()=>Zo.E:(0,oi.e)((t,e)=>{let i=[];t.subscribe((0,Fn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}var qr=F(8505);function JR(n){return(0,oi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Sd{constructor(t,e){this.id=t,this.url=e}}class mS extends Sd{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class TC extends Sd{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class e1 extends Sd{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hB extends Sd{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fB extends Sd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pB extends Sd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mB extends Sd{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gB extends Sd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _B extends Sd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t1{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class n1{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yB{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vB{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bB{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CB{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r1{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const an="primary";class wB{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ky(n){return new wB(n)}const s1="ngNavigationCancelingError";function gS(n){const t=Error("NavigationCancelingError: "+n);return t[s1]=!0,t}function EB(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ru(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!o1(n[r],t[r]))return!1;return!0}function o1(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function a1(n){return Array.prototype.concat.apply([],n)}function l1(n){return n.length>0?n[n.length-1]:null}function cs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function su(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Wn.D)(Promise.resolve(n)):rt(n)}const MB={exact:function d1(n,t,e){if(!Qm(n.segments,t.segments)||!MT(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!d1(n.children[i],t.children[i],e))return!1;return!0},subset:h1},c1={exact:function AB(n,t){return ru(n,t)},subset:function SB(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>o1(n[e],t[e]))},ignored:()=>!0};function u1(n,t,e){return MB[e.paths](n.root,t.root,e.matrixParams)&&c1[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function h1(n,t,e){return f1(n,t,t.segments,e)}function f1(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Qm(r,e)||t.hasChildren()||!MT(r,e,i))}if(n.segments.length===e.length){if(!Qm(n.segments,e)||!MT(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!h1(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Qm(n.segments,r)&&MT(n.segments,r,i)&&n.children[an])&&f1(n.children[an],t,o,i)}}function MT(n,t,e){return t.every((i,r)=>c1[e](n[r].parameters,i.parameters))}class Km{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ky(this.queryParams)),this._queryParamMap}toString(){return RB.serialize(this)}}class fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,cs(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return AT(this)}}class IC{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ky(this.parameters)),this._parameterMap}toString(){return y1(this)}}function Qm(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class p1{}class m1{parse(t){const e=new HB(t);return new Km(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${MC(t.root,!0)}`,i=function FB(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ST(e)}=${ST(r)}`).join("&"):`${ST(e)}=${ST(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function OB(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const RB=new m1;function AT(n){return n.segments.map(t=>y1(t)).join("/")}function MC(n,t){if(!n.hasChildren())return AT(n);if(t){const e=n.children[an]?MC(n.children[an],!1):"",i=[];return cs(n.children,(r,o)=>{o!==an&&i.push(`${o}:${MC(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function kB(n,t){let e=[];return cs(n.children,(i,r)=>{r===an&&(e=e.concat(t(i,r)))}),cs(n.children,(i,r)=>{r!==an&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===an?[MC(n.children[an],!1)]:[`${r}:${MC(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[an]?`${AT(n)}/${e[0]}`:`${AT(n)}/(${e.join("//")})`}}function g1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ST(n){return g1(n).replace(/%3B/gi,";")}function _S(n){return g1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xT(n){return decodeURIComponent(n)}function _1(n){return xT(n.replace(/\+/g,"%20"))}function y1(n){return`${_S(n.path)}${function PB(n){return Object.keys(n).map(t=>`;${_S(t)}=${_S(n[t])}`).join("")}(n.parameters)}`}const NB=/^[^\/()?;=#]+/;function kT(n){const t=n.match(NB);return t?t[0]:""}const LB=/^[^=?&#]+/,VB=/^[^&#]+/;class HB{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[an]=new fn(t,e)),i}parseSegment(){const t=kT(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new IC(xT(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=kT(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=kT(this.remaining);r&&(i=r,this.capture(i))}t[xT(e)]=xT(i)}parseQueryParam(t){const e=function BB(n){const t=n.match(LB);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function UB(n){const t=n.match(VB);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=_1(e),o=_1(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=kT(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=an);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[an]:new fn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class v1{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=yS(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=yS(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=vS(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return vS(t,this._root).map(e=>e.value)}}function yS(n,t){if(n===t.value)return t;for(const e of t.children){const i=yS(n,e);if(i)return i}return null}function vS(n,t){if(n===t.value)return[t];for(const e of t.children){const i=vS(n,e);if(i.length)return i.unshift(t),i}return[]}class xd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ry(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class b1 extends v1{constructor(t,e){super(t),this.snapshot=e,bS(this,t)}toString(){return this.snapshot.toString()}}function C1(n,t){const e=function jB(n,t){const u=new RT([],{},{},"",{},an,t,null,n.root,-1,{});return new D1("",new xd(u,[]))}(n,t),i=new ls([new IC("",{})]),r=new ls({}),o=new ls({}),u=new ls({}),h=new ls(""),_=new Oy(i,r,u,h,o,an,t,e.root);return _.snapshot=e.root,new b1(new xd(_,[]),e)}class Oy{constructor(t,e,i,r,o,u,h,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(t=>ky(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(t=>ky(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function w1(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function GB(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class RT{constructor(t,e,i,r,o,u,h,_,b,T,M){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=T,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ky(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ky(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class D1 extends v1{constructor(t,e){super(e),this.url=t,bS(this,e)}toString(){return E1(this._root)}}function bS(n,t){t.value._routerState=n,t.children.forEach(e=>bS(n,e))}function E1(n){const t=n.children.length>0?` { ${n.children.map(E1).join(", ")} } `:"";return`${n.value}${t}`}function CS(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ru(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ru(t.params,e.params)||n.params.next(e.params),function TB(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ru(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ru(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wS(n,t){const e=ru(n.params,t.params)&&function xB(n,t){return Qm(n,t)&&n.every((e,i)=>ru(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||wS(n.parent,t.parent))}function AC(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function qB(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return AC(n,i,r);return AC(n,i)})}(n,t,e);return new xd(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>AC(n,h)),u}}const i=function $B(n){return new Oy(new ls(n.url),new ls(n.params),new ls(n.queryParams),new ls(n.fragment),new ls(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>AC(n,o));return new xd(i,r)}}function OT(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function SC(n){return"object"==typeof n&&null!=n&&n.outlets}function DS(n,t,e,i,r){let o={};if(i&&cs(i,(h,_)=>{o[_]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),n===t)return new Km(e,o,r);const u=T1(n,t,e);return new Km(u,o,r)}function T1(n,t,e){const i={};return cs(n.children,(r,o)=>{i[o]=r===t?e:T1(r,t,e)}),new fn(n.segments,i)}class I1{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&OT(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(SC);if(r&&r!==l1(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ES{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function M1(n,t,e){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return PT(n,t,e);const i=function XB(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(SC(h))break;const _=`${h}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!S1(_,b,u))return o;i+=2}else{if(!S1(_,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new fn(n.segments.slice(0,i.pathIndex),{});return o.children[an]=new fn(n.segments.slice(i.pathIndex),n.children),PT(o,0,r)}return i.match&&0===r.length?new fn(n.segments,{}):i.match&&!n.hasChildren()?TS(n,t,e):i.match?PT(n,0,r):TS(n,t,e)}function PT(n,t,e){if(0===e.length)return new fn(n.segments,{});{const i=function QB(n){return SC(n[0])?n[0].outlets:{[an]:n}}(e),r={};return cs(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=M1(n.children[u],t,o))}),cs(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new fn(n.segments,r)}}function TS(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(SC(o)){const _=JB(o.outlets);return new fn(i,_)}if(0===r&&OT(e[0])){i.push(new IC(n.segments[t].path,A1(e[0]))),r++;continue}const u=SC(o)?o.outlets[an]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&OT(h)?(i.push(new IC(u,A1(h))),r+=2):(i.push(new IC(u,{})),r++)}return new fn(i,{})}function JB(n){const t={};return cs(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=TS(new fn([],{}),0,e))}),t}function A1(n){const t={};return cs(n,(e,i)=>t[i]=`${e}`),t}function S1(n,t,e){return n==e.path&&ru(t,e.parameters)}class t2{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),CS(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ry(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),cs(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ry(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ry(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ry(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new CB(o.value.snapshot))}),t.children.length&&this.forwardEvent(new vB(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(CS(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),CS(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=function n2(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),_=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class IS{constructor(t,e){this.routes=t,this.module=e}}function vf(n){return"function"==typeof n}function Xm(n){return n instanceof Km}const xC=Symbol("INITIAL_VALUE");function kC(){return Un(n=>wC(n.map(t=>t.pipe(xn(1),Tr(xC)))).pipe(_l((t,e)=>{let i=!1;return e.reduce((r,o,u)=>r!==xC?r:(o===xC&&(i=!0),i||!1!==o&&u!==e.length-1&&!Xm(o)?r:o),t)},xC),Zn(t=>t!==xC),(0,nt.U)(t=>Xm(t)?t:!0===t),xn(1)))}class c2{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new RC,this.attachRef=null}}class RC{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new c2,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let MS=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=o||an,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,_=new u2(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(RC),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class u2{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Oy?this.route:t===RC?this.childContexts:this.parent.get(t,e)}}let x1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[MS],encapsulation:2}),n})();function k1(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];d2(i,h2(t,i))}}function d2(n,t){n.children&&k1(n.children,t)}function h2(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function AS(n){const t=n.children&&n.children.map(AS),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==an&&(e.component=x1),e}function Na(n){return n.outlet||an}function R1(n,t){const e=n.filter(i=>Na(i)===t);return e.push(...n.filter(i=>Na(i)!==t)),e}const O1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FT(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},O1):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||EB)(e,n,t);if(!o)return Object.assign({},O1);const u={};cs(o.posParams,(_,b)=>{u[b]=_.path});const h=o.consumed.length>0?Object.assign(Object.assign({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function NT(n,t,e,i,r="corrected"){if(e.length>0&&function m2(n,t,e){return e.some(i=>LT(n,t,i)&&Na(i)!==an)}(n,e,i)){const u=new fn(t,function p2(n,t,e,i){const r={};r[an]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Na(o)!==an){const u=new fn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[Na(o)]=u}return r}(n,t,i,new fn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function g2(n,t,e){return e.some(i=>LT(n,t,i))}(n,e,i)){const u=new fn(n.segments,function f2(n,t,e,i,r,o){const u={};for(const h of i)if(LT(n,e,h)&&!r[Na(h)]){const _=new fn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[Na(h)]=_}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new fn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function LT(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function P1(n,t,e,i){return!!(Na(n)===i||i!==an&&LT(t,e,n))&&("**"===n.path||FT(t,n,e).matched)}function F1(n,t,e){return 0===t.length&&!n.children[e]}class BT{constructor(t){this.segmentGroup=t||null}}class N1{constructor(t){this.urlTree=t}}function OC(n){return DC(new BT(n))}function L1(n){return DC(new N1(n))}function _2(n){return DC(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class b2{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=NT(this.urlTree.root,[],[],this.config).segmentGroup,e=new fn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,an).pipe((0,nt.U)(o=>this.createUrlTree(SS(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ad(o=>{if(o instanceof N1)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof BT?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,an).pipe((0,nt.U)(r=>this.createUrlTree(SS(r),t.queryParams,t.fragment))).pipe(Ad(r=>{throw r instanceof BT?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new fn([],{[an]:t}):t;return new Km(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,nt.U)(o=>new fn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Wn.D)(r).pipe(xy(o=>{const u=i.children[o],h=R1(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,nt.U)(_=>({segment:_,outlet:o})))}),_l((o,u)=>(o[u.outlet]=u.segment,o),{}),function dB(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Zn((r,o)=>n(r,o,i)):pl.y,pS(1),e?Ea(t):fp(()=>new ts))}())}expandSegment(t,e,i,r,o,u){return(0,Wn.D)(i).pipe(xy(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(Ad(b=>{if(b instanceof BT)return rt(null);throw b}))),Yo(h=>!!h),Ad((h,_)=>{if(h instanceof ts||"EmptyError"===h.name)return F1(e,r,o)?rt(new fn([],{})):OC(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return P1(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):OC(e):OC(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?L1(o):this.lineralizeSegments(i,o).pipe((0,zr.z)(u=>{const h=new fn(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:_,remainingSegments:b,positionalParamSegments:T}=FT(e,r,o);if(!h)return OC(e);const M=this.applyRedirectCommands(_,r.redirectTo,T);return r.redirectTo.startsWith("/")?L1(M):this.lineralizeSegments(r,M).pipe((0,zr.z)(O=>this.expandSegment(t,e,i,O.concat(b),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?rt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,nt.U)(M=>(i._loadedConfig=M,new fn(r,{})))):rt(new fn(r,{}));const{matched:u,consumedSegments:h,remainingSegments:_}=FT(e,i,r);return u?this.getChildConfig(t,i,r).pipe((0,zr.z)(T=>{const M=T.module,O=T.routes,{segmentGroup:L,slicedSegments:U}=NT(e,h,_,O),te=new fn(L.segments,L.children);if(0===U.length&&te.hasChildren())return this.expandChildren(M,O,te).pipe((0,nt.U)(ot=>new fn(h,ot)));if(0===O.length&&0===U.length)return rt(new fn(h,{}));const Ce=Na(i)===o;return this.expandSegment(M,te,O,U,Ce?an:o,!0).pipe((0,nt.U)(at=>new fn(h.concat(at.segments),at.children)))})):OC(e)}getChildConfig(t,e,i){return e.children?rt(new IS(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?rt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,zr.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,nt.U)(o=>(e._loadedConfig=o,o))):function y2(n){return DC(gS(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):rt(new IS([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return rt(!0);const o=r.map(u=>{const h=t.get(u);let _;if(function s2(n){return n&&vf(n.canLoad)}(h))_=h.canLoad(e,i);else{if(!vf(h))throw new Error("Invalid CanLoad guard");_=h(e,i)}return su(_)});return rt(o).pipe(kC(),(0,qr.b)(u=>{if(!Xm(u))return;const h=gS(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,nt.U)(u=>!0===u))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return rt(i);if(r.numberOfChildren>1||!r.children[an])return _2(t.redirectTo);r=r.children[an]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Km(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return cs(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return cs(e.children,(h,_)=>{u[_]=this.createSegmentGroup(t,h,i,r)}),new fn(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function SS(n){const t={};for(const i of Object.keys(n.children)){const o=SS(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function C2(n){if(1===n.numberOfChildren&&n.children[an]){const t=n.children[an];return new fn(n.segments.concat(t.segments),t.children)}return n}(new fn(n.segments,t))}class B1{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class VT{constructor(t,e){this.component=t,this.route=e}}function D2(n,t,e){const i=n._root;return PC(i,t?t._root:null,e,[i.value])}function UT(n,t,e){const i=function T2(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function PC(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ry(t);return n.children.forEach(u=>{(function I2(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const _=function M2(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Qm(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Qm(n.url,t.url)||!ru(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wS(n,t)||!ru(n.queryParams,t.queryParams);default:return!wS(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new B1(i)):(o.data=u.data,o._resolvedData=u._resolvedData),PC(n,t,o.component?h?h.children:null:e,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new VT(h.outlet.component,u))}else u&&FC(t,h,r),r.canActivateChecks.push(new B1(i)),PC(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),cs(o,(u,h)=>FC(u,e.getContext(h),r)),r}function FC(n,t,e){const i=Ry(n),r=n.value;cs(i,(o,u)=>{FC(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new VT(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class N2{}function V1(n){return new dn.y(t=>t.error(n))}class B2{constructor(t,e,i,r,o,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const t=NT(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,an);if(null===e)return null;const i=new RT([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},an,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xd(i,e),o=new D1(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=w1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const u=e.children[o],h=R1(t,o),_=this.processSegmentGroup(h,u,o);if(null===_)return null;i.push(..._)}const r=U1(i);return function V2(n){n.sort((t,e)=>t.value.outlet===an?-1:e.value.outlet===an?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const u=this.processSegmentAgainstRoute(o,e,i,r);if(null!==u)return u}return F1(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!P1(t,e,i,r))return null;let o,u=[],h=[];if("**"===t.path){const L=i.length>0?l1(i).parameters:{};o=new RT(i,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,G1(t),Na(t),t.component,t,H1(e),j1(e)+i.length,z1(t))}else{const L=FT(e,t,i);if(!L.matched)return null;u=L.consumedSegments,h=L.remainingSegments,o=new RT(u,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,G1(t),Na(t),t.component,t,H1(e),j1(e)+u.length,z1(t))}const _=function U2(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:b,slicedSegments:T}=NT(e,u,h,_.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const L=this.processChildren(_,b);return null===L?null:[new xd(o,L)]}if(0===_.length&&0===T.length)return[new xd(o,[])];const M=Na(t)===r,O=this.processSegment(_,b,T,M?an:r);return null===O?null:[new xd(o,O)]}}function H2(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function U1(n){const t=[],e=new Set;for(const i of n){if(!H2(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=U1(i.children);t.push(new xd(i.value,r))}return t.filter(i=>!e.has(i))}function H1(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function j1(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function G1(n){return n.data||{}}function z1(n){return n.resolve||{}}function q1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xS(n){return Un(t=>{const e=n(t);return e?(0,Wn.D)(e).pipe((0,nt.U)(()=>t)):rt(t)})}class W2 extends class Y2{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const kS=new s.OlP("ROUTES");class $1{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,nt.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=o.create(t);return new IS(a1(u.injector.get(kS,void 0,s.XFs.Self|s.XFs.Optional)).map(AS),u)}),Ad(o=>{throw e._loader$=void 0,o}));return e._loader$=new uB(r,()=>new mt.x).pipe(XR()),e._loader$}loadModuleFactory(t){return su(t()).pipe((0,zr.z)(e=>e instanceof s.YKP?rt(e):(0,Wn.D)(this.compiler.compileModuleAsync(e))))}}class Q2{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function X2(n){throw n}function J2(n,t,e){return t.parse("/")}function Z1(n,t){return rt(null)}const eV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xr=(()=>{class n{constructor(e,i,r,o,u,h,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new mt.x,this.errorHandler=X2,this.malformedUriErrorHandler=J2,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Z1,afterPreactivation:Z1},this.urlHandlingStrategy=new Q2,this.routeReuseStrategy=new W2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const M=u.get(s.R0b);this.isNgZoneEnabled=M instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function IB(){return new Km(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $1(u,h,O=>this.triggerEvent(new t1(O)),O=>this.triggerEvent(new n1(O))),this.routerState=C1(this.currentUrlTree,this.rootComponentType),this.transitions=new ls({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Zn(r=>0!==r.id),(0,nt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Un(r=>{let o=!1,u=!1;return rt(r).pipe((0,qr.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Un(h=>{const _=this.browserUrlTree.toString(),b=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Y1(h.source)&&(this.browserUrlTree=h.extractedUrl),rt(h).pipe(Un(M=>{const O=this.transitions.getValue();return i.next(new mS(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),O!==this.transitions.getValue()?Zo.E:Promise.resolve(M)}),function w2(n,t,e,i){return Un(r=>function v2(n,t,e,i,r){return new b2(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,nt.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function j2(n,t,e,i,r){return(0,zr.z)(o=>function L2(n,t,e,i,r="emptyOnly",o="legacy"){try{const u=new B2(n,t,e,i,r,o).recognize();return null===u?V1(new N2):rt(u)}catch(u){return V1(u)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe((0,nt.U)(u=>Object.assign(Object.assign({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qr.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(L,M)}this.browserUrlTree=M.urlAfterRedirects}const O=new fB(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);i.next(O)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:L,source:U,restoredState:te,extras:Ce}=h,Ke=new mS(O,this.serializeUrl(L),U,te);i.next(Ke);const at=C1(L,this.rootComponentType).snapshot;return rt(Object.assign(Object.assign({},h),{targetSnapshot:at,urlAfterRedirects:L,extras:Object.assign(Object.assign({},Ce),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Zo.E}),xS(h=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:M,extras:{skipLocationChange:O,replaceUrl:L}}=h;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:M,skipLocationChange:!!O,replaceUrl:!!L})}),(0,qr.b)(h=>{const _=new pB(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,nt.U)(h=>Object.assign(Object.assign({},h),{guards:D2(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function A2(n,t){return(0,zr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?rt(Object.assign(Object.assign({},e),{guardsResult:!0})):function S2(n,t,e,i){return(0,Wn.D)(n).pipe((0,zr.z)(r=>function F2(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?rt(o.map(h=>{const _=UT(h,t,r);let b;if(function l2(n){return n&&vf(n.canDeactivate)}(_))b=su(_.canDeactivate(n,t,e,i));else{if(!vf(_))throw new Error("Invalid CanDeactivate guard");b=su(_(n,t,e,i))}return b.pipe(Yo())})).pipe(kC()):rt(!0)}(r.component,r.route,e,t,i)),Yo(r=>!0!==r,!0))}(u,i,r,n).pipe((0,zr.z)(h=>h&&function r2(n){return"boolean"==typeof n}(h)?function x2(n,t,e,i){return(0,Wn.D)(t).pipe(xy(r=>wp(function R2(n,t){return null!==n&&t&&t(new yB(n)),rt(!0)}(r.route.parent,i),function k2(n,t){return null!==n&&t&&t(new bB(n)),rt(!0)}(r.route,i),function P2(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function E2(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>EC(()=>rt(u.guards.map(_=>{const b=UT(_,u.node,e);let T;if(function a2(n){return n&&vf(n.canActivateChild)}(b))T=su(b.canActivateChild(i,n));else{if(!vf(b))throw new Error("Invalid CanActivateChild guard");T=su(b(i,n))}return T.pipe(Yo())})).pipe(kC())));return rt(o).pipe(kC())}(n,r.path,e),function O2(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return rt(!0);const r=i.map(o=>EC(()=>{const u=UT(o,t,e);let h;if(function o2(n){return n&&vf(n.canActivate)}(u))h=su(u.canActivate(t,n));else{if(!vf(u))throw new Error("Invalid CanActivate guard");h=su(u(t,n))}return h.pipe(Yo())}));return rt(r).pipe(kC())}(n,r.route,e))),Yo(r=>!0!==r,!0))}(i,o,n,t):rt(h)),(0,nt.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,qr.b)(h=>{if(Xm(h.guardsResult)){const b=gS(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw b.url=h.guardsResult,b}const _=new mB(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),Zn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),xS(h=>{if(h.guards.canActivateChecks.length)return rt(h).pipe((0,qr.b)(_=>{const b=new gB(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),Un(_=>{let b=!1;return rt(_).pipe(function G2(n,t){return(0,zr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return rt(e);let o=0;return(0,Wn.D)(r).pipe(xy(u=>function z2(n,t,e,i){return function q2(n,t,e,i){const r=q1(n);if(0===r.length)return rt({});const o={};return(0,Wn.D)(r).pipe((0,zr.z)(u=>function $2(n,t,e,i){const r=UT(n,t,i);return su(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,qr.b)(h=>{o[u]=h}))),pS(1),(0,zr.z)(()=>q1(o).length===r.length?rt(o):Zo.E))}(n._resolve,n,t,i).pipe((0,nt.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),w1(n,e).resolve),null)))}(u.route,i,n,t)),(0,qr.b)(()=>o++),pS(1),(0,zr.z)(u=>o===r.length?rt(e):Zo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,qr.b)(_=>{const b=new _B(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),xS(h=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:M,extras:{skipLocationChange:O,replaceUrl:L}}=h;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:M,skipLocationChange:!!O,replaceUrl:!!L})}),(0,nt.U)(h=>{const _=function zB(n,t,e){const i=AC(n,t._root,e?e._root:void 0);return new b1(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:_})}),(0,qr.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,nt.U)(i=>(new t2(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,qr.b)({next(){o=!0},complete(){o=!0}}),JR(()=>{var h;o||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),Ad(h=>{if(u=!0,function DB(n){return n&&n[s1]}(h)){const _=Xm(h.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const b=new e1(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(b),_?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),M={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Y1(r.source)};this.scheduleNavigation(T,"imperative",null,M,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new hB(r.id,this.serializeUrl(r.extractedUrl),h);i.next(_);try{r.resolve(this.errorHandler(h))}catch(b){r.reject(b)}}return Zo.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(o.state=_)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){k1(e),this.config=e.map(AS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,b=r||this.routerState.root,T=_?this.currentUrlTree.fragment:u;let M=null;switch(h){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=o||null}return null!==M&&(M=this.removeEmptyProps(M)),function ZB(n,t,e,i,r){if(0===e.length)return DS(t.root,t.root,t.root,i,r);const o=function YB(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new I1(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return cs(o.outlets,(_,b)=>{h[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new I1(e,t,i)}(e);if(o.toRoot())return DS(t.root,t.root,new fn([],{}),i,r);const u=function WB(n,t,e){if(n.isAbsolute)return new ES(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new ES(o,o===t.root,0)}const i=OT(n.commands[0])?0:1;return function KB(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new ES(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),h=u.processChildren?PT(u.segmentGroup,u.index,o.commands):M1(u.segmentGroup,u.index,o.commands);return DS(t.root,u.segmentGroup,h,i,r)}(b,this.currentUrlTree,e,M,null!=T?T:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Xm(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function nV(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},eV):!1===i?Object.assign({},tV):i,Xm(e))return u1(this.currentUrlTree,e,r);const o=this.parseUrl(e);return u1(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new TC(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){var h,_;if(this.disposed)return Promise.resolve(!1);let b,T,M;u?(b=u.resolve,T=u.reject,M=u.promise):M=new Promise((U,te)=>{b=U,T=te});const O=++this.navigationId;let L;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),L=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):L=0,this.setTransition({id:O,targetPageId:L,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:b,reject:T,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(U=>Promise.reject(U))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new e1(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Y1(n){return"imperative"!==n}let Py=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.commands=null,this.onChanges=new mt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Fy(this.skipLocationChange),replaceUrl:Fy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fy(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xr),s.Y36(Oy),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function Fy(n){return""===n||!!n}class W1{}class K1{preload(t,e){return rt(null)}}let Q1=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new $1(r,i,_=>e.triggerEvent(new t1(_)),_=>e.triggerEvent(new n1(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zn(e=>e instanceof TC),xy(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return(0,Wn.D)(r).pipe((0,Jg.J)(),(0,nt.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?rt(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,zr.z)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xr),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(W1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),OS=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof TC&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof r1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new r1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Jm=new s.OlP("ROUTER_CONFIGURATION"),X1=new s.OlP("ROUTER_FORROOT_GUARD"),oV=[ye,{provide:p1,useClass:m1},{provide:xr,useFactory:function dV(n,t,e,i,r,o,u={},h,_){const b=new xr(null,n,t,e,i,r,a1(o));return h&&(b.urlHandlingStrategy=h),_&&(b.routeReuseStrategy=_),function hV(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(T=>{var M,O;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(O=console.groupEnd)||void 0===O||O.call(console)}),b},deps:[p1,RC,ye,s.zs3,s.Sil,kS,Jm,[class K2{},new s.FiY],[class Z2{},new s.FiY]]},RC,{provide:Oy,useFactory:function fV(n){return n.routerState.root},deps:[xr]},Q1,K1,class sV{preload(t,e){return e().pipe(Ad(()=>rt(null)))}},{provide:Jm,useValue:{enableTracing:!1}}];function aV(){return new s.PXZ("Router",xr)}let J1=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[oV,eO(e),{provide:X1,useFactory:uV,deps:[[xr,new s.FiY,new s.tp0]]},{provide:Jm,useValue:i||{}},{provide:_e,useFactory:cV,deps:[fe,[new s.tBr(Xe),new s.FiY],Jm]},{provide:OS,useFactory:lV,deps:[xr,$l,Jm]},{provide:W1,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:K1},{provide:s.PXZ,multi:!0,useFactory:aV},[PS,{provide:s.ip1,multi:!0,useFactory:pV,deps:[PS]},{provide:tO,useFactory:mV,deps:[PS]},{provide:s.tb,multi:!0,useExisting:tO}]]}}static forChild(e){return{ngModule:n,providers:[eO(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X1,8),s.LFG(xr,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function lV(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new OS(n,t,e)}function cV(n,t,e={}){return e.useHash?new De(n,t):new Ye(n,t)}function uV(n){return"guarded"}function eO(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:kS,multi:!0,useValue:n}]}let PS=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new mt.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),o=this.injector.get(xr),u=this.injector.get(Jm);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?rt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Jm),r=this.injector.get(Q1),o=this.injector.get(OS),u=this.injector.get(xr),h=this.injector.get(s.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),o.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function pV(n){return n.appInitializer.bind(n)}function mV(n){return n.bootstrapListener.bind(n)}const tO=new s.OlP("Router Initializer");let _V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[MS],encapsulation:2}),n})(),Ny=(()=>{class n{constructor(){this._customerInfoDataSubject=new ls("Initial message")}get customerData(){return this._customerData}set customerData(e){this._customerData=e}fetchCustomerData(){this._customerInfoDataSubject.next(this._customerData)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yV=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function vV(){return(0,s.f3M)(Q)}}),bV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let FS,$s=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function CV(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?bV.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yV,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();try{FS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){FS=!1}let Ly,gr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function tr(n){return n===io}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!FS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function rO(){if(Ly)return Ly;if("object"!=typeof document||!document)return Ly=new Set(iO),Ly;let n=document.createElement("input");return Ly=new Set(iO.filter(t=>(n.setAttribute("type",t),n.type===t))),Ly}let LC,tg,NS;function eg(n){return function wV(){if(null==LC&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>LC=!0}))}finally{LC=LC||!1}return LC}()?n:!!n.capture}function DV(){if(null==tg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tg=!1,tg;if("scrollBehavior"in document.documentElement.style)tg=!0;else{const n=Element.prototype.scrollTo;tg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return tg}function BC(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function bf(n){return n.composedPath?n.composedPath()[0]:n.target}function LS(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Is(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function US(n,t=Ch.z){return(0,oi.e)((e,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const b=o;o=null,i.next(b)}};function _(){const b=u+n,T=t.now();if(T<b)return r=this.schedule(void 0,b-T),void i.add(r);h()}e.subscribe((0,Fn.x)(i,b=>{o=b,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}function oO(n){return Zn((t,e)=>n<=e)}var aO=F(5032);function Ln(n){return(0,oi.e)((t,e)=>{(0,wn.Xf)(n).subscribe((0,Fn.x)(e,()=>e.complete(),aO.Z)),!e.closed&&t.subscribe(e)})}function yt(n){return null!=n&&"false"!=`${n}`}function us(n,t=0){return lO(n)?Number(n):t}function lO(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function jT(n){return Array.isArray(n)?n:[n]}function _r(n){return null==n?"":"string"==typeof n?n:`${n}px`}function kd(n){return n instanceof s.SBq?n.nativeElement:n}let cO=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LV=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=kd(e);return new dn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new mt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cO))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HS=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=yt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=us(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(US(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(LV),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),GC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[cO]}),n})();function GT(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const dO="cdk-describedby-message",zT="cdk-describedby-host";let hO=0,UV=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+hO++,this._document=e}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=jS(i,r);"string"!=typeof i?(fO(i),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){var o;if(!i||!this._isElementNode(e))return;const u=jS(i,r);if(this._isElementDescribedByMessage(e,u)&&this._removeMessageReference(e,u),"string"==typeof i){const h=this._messageRegistry.get(u);h&&0===h.referenceCount&&this._deleteMessageElement(u)}0===(null===(o=this._messagesContainer)||void 0===o?void 0:o.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var e;const i=this._document.querySelectorAll(`[${zT}="${this._id}"]`);for(let r=0;r<i.length;r++)this._removeCdkDescribedByReferenceIds(i[r]),i[r].removeAttribute(zT);null===(e=this._messagesContainer)||void 0===e||e.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");fO(r),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(jS(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){var i,r;null===(r=null===(i=this._messageRegistry.get(e))||void 0===i?void 0:i.messageElement)||void 0===r||r.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=GT(e,"aria-describedby").filter(r=>0!=r.indexOf(dO));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function BV(n,t,e){const i=GT(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(zT,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function VV(n,t,e){const r=GT(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(zT)}_isElementDescribedByMessage(e,i){const r=GT(e,"aria-describedby"),o=this._messageRegistry.get(i),u=o&&o.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q),s.LFG(gr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jS(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function fO(n){n.id||(n.id=`${dO}-${hO++}`)}class pO{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new mt.x,this._typeaheadSubscription=ji.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new mt.x,this.change=new mt.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,qr.b)(e=>this._pressedLetters.push(e)),US(t),Zn(()=>this._pressedLetters.length>0),(0,nt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Is(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class HV extends pO{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class jV extends pO{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let mO=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function zV(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function GV(n){try{return n.frameElement}catch(t){return null}}(function XV(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===_O(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=_O(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function KV(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function QV(n){return!function $V(n){return function YV(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function qV(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function ZV(n){return function WV(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||gO(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gO(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function _O(n){if(!gO(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class JV{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(xn(1)).subscribe(t)}}let yO=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new JV(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(mO),s.LFG(s.R0b),s.LFG(Q))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eU=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=yt(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=yt(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=BC(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(yO),s.Y36(Q))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[s.TTD]}),n})();function vO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function bO(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const tU=new s.OlP("cdk-input-modality-detector-options"),nU={ignoreKeys:[18,17,224,91,16]},By=eg({passive:!0,capture:!0});let iU=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new ls(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,_;(null===(_=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===_?void 0:_.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=bf(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(vO(u)?"keyboard":"mouse"),this._mostRecentTarget=bf(u))},this._onTouchstart=u=>{bO(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bf(u))},this._options=Object.assign(Object.assign({},nU),o),this.modalityDetected=this._modality.pipe(oO(1)),this.modalityChanged=this.modalityDetected.pipe(Ic()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,By),r.addEventListener("mousedown",this._onMousedown,By),r.addEventListener("touchstart",this._onTouchstart,By)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,By),document.removeEventListener("mousedown",this._onMousedown,By),document.removeEventListener("touchstart",this._onTouchstart,By))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gr),s.LFG(s.R0b),s.LFG(Q),s.LFG(tU,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rU=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function sU(){return null}}),oU=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let aU=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[o,u]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(rU,8),s.LFG(s.R0b),s.LFG(Q),s.LFG(oU,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lU=new s.OlP("cdk-focus-monitor-default-options"),qT=eg({passive:!0,capture:!0});let Cf=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new mt.x,this._rootNodeFocusAndBlurListener=h=>{const _=bf(h),b="focus"===h.type?this._onFocus:this._onBlur;for(let T=_;T;T=T.parentElement)b.call(this,h,T)},this._document=o,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=kd(e);if(!this._platform.isBrowser||1!==r.nodeType)return rt(null);const o=function TV(n){if(function EV(){if(null==NS){const n="undefined"!=typeof document?document.head:null;NS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return NS}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new mt.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=kd(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=kd(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=bf(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,qT),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,qT)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ln(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qT),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qT),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(gr),s.LFG(iU),s.LFG(Q,8),s.LFG(lU,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cU=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new s.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Cf))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const wO="cdk-high-contrast-black-on-white",DO="cdk-high-contrast-white-on-black",GS="cdk-high-contrast-active";let EO=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(GS),e.remove(wO),e.remove(DO),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(GS),e.add(wO)):2===i&&(e.add(GS),e.add(DO))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gr),s.LFG(Q))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zS=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(EO))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[GC]]}),n})();class TO{}const Rd="*";function Od(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ms(n,t=null){return{type:4,styles:t,timings:n}}function IO(n,t=null){return{type:3,steps:n,options:t}}function MO(n,t=null){return{type:2,steps:n,options:t}}function En(n){return{type:6,styles:n,offset:null}}function Zs(n,t,e){return{type:0,name:n,styles:t,options:e}}function qS(n){return{type:5,steps:n}}function ds(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function $S(n=null){return{type:9,options:n}}function ZS(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function AO(n){Promise.resolve(null).then(n)}class zC{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){AO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class SO{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?AO(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const pn=!1;function xO(n){return new s.vHH(3e3,pn)}function zU(){return"undefined"!=typeof window&&void 0!==window.document}function WS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wf(n){switch(n.length){case 0:return new zC;case 1:return n[0];default:return new SO(n)}}function kO(n,t,e,i,r={},o={}){const u=[],h=[];let _=-1,b=null;if(i.forEach(T=>{const M=T.offset,O=M==_,L=O&&b||{};Object.keys(T).forEach(U=>{let te=U,Ce=T[U];if("offset"!==U)switch(te=t.normalizePropertyName(te,u),Ce){case"!":Ce=r[U];break;case Rd:Ce=o[U];break;default:Ce=t.normalizeStyleValue(U,te,Ce,u)}L[te]=Ce}),O||h.push(L),b=L,_=M}),u.length)throw function OU(n){return new s.vHH(3502,pn)}();return h}function KS(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&QS(e,"start",n)));break;case"done":n.onDone(()=>i(e&&QS(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&QS(e,"destroy",n)))}}function QS(n,t,e){const i=e.totalTime,o=XS(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function XS(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Ko(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function RO(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let JS=(n,t)=>!1,OO=(n,t,e)=>[],PO=null;function ex(n){const t=n.parentNode||n.host;return t===PO?null:t}(WS()||"undefined"!=typeof Element)&&(zU()?(PO=(()=>document.documentElement)(),JS=(n,t)=>{for(;t;){if(t===n)return!0;t=ex(t)}return!1}):JS=(n,t)=>n.contains(t),OO=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let sg=null,FO=!1;function NO(n){sg||(sg=function $U(){return"undefined"!=typeof document?document.body:null}()||{},FO=!!sg.style&&"WebkitAppearance"in sg.style);let t=!0;return sg.style&&!function qU(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in sg.style,!t&&FO&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in sg.style)),t}const LO=JS,BO=OO;let VO=(()=>{class n{validateStyleProperty(e){return NO(e)}matchesElement(e,i){return!1}containsElement(e,i){return LO(e,i)}getParentElement(e){return ex(e)}query(e,i,r){return BO(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],_){return new zC(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),tx=(()=>{class n{}return n.NOOP=new VO,n})();const nx="ng-enter",ZT="ng-leave",YT="ng-trigger",WT=".ng-trigger",HO="ng-animating",ix=".ng-animating";function og(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:rx(parseFloat(t[1]),t[2])}function rx(n,t){return"s"===t?1e3*n:n}function KT(n,t,e){return n.hasOwnProperty("duration")?n:function WU(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(xO()),{duration:0,delay:0,easing:""};r=rx(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(o=rx(parseFloat(_),h[4]));const b=h[5];b&&(u=b)}else r=n;if(!e){let h=!1,_=t.length;r<0&&(t.push(function dU(){return new s.vHH(3100,pn)}()),h=!0),o<0&&(t.push(function hU(){return new s.vHH(3101,pn)}()),h=!0),h&&t.splice(_,0,xO())}return{duration:r,delay:o,easing:u}}(n,t,e)}function Vy(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Df(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Vy(n,e);return e}function GO(n,t,e){return e?t+":"+e+";":""}function zO(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=GO(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=GO(0,XU(e),n.style[e]));n.setAttribute("style",t)}function lu(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=ox(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),WS()&&zO(n))}function ag(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=ox(e);n.style[i]=""}),WS()&&zO(n))}function qC(n){return Array.isArray(n)?1==n.length?n[0]:MO(n):n}const sx=new RegExp("{{\\s*(.+?)\\s*}}","g");function qO(n){let t=[];if("string"==typeof n){let e;for(;e=sx.exec(n);)t.push(e[1]);sx.lastIndex=0}return t}function QT(n,t,e){const i=n.toString(),r=i.replace(sx,(o,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(function pU(n){return new s.vHH(3003,pn)}()),h=""),h.toString()});return r==i?n:r}function XT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const QU=/-+([a-z0-9])/g;function ox(n){return n.replace(QU,(...t)=>t[1].toUpperCase())}function XU(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function mU(n){return new s.vHH(3004,pn)}()}}function $O(n,t){return window.getComputedStyle(n)[t]}function rH(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function sH(n,t,e){if(":"==n[0]){const _=function oH(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function SU(n){return new s.vHH(3016,pn)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function AU(n){return new s.vHH(3015,pn)}()),t;const r=i[1],o=i[2],u=i[3];t.push(ZO(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(ZO(u,r))}(i,e,t)):e.push(n),e}const nI=new Set(["true","1"]),iI=new Set(["false","0"]);function ZO(n,t){const e=nI.has(n)||iI.has(n),i=nI.has(t)||iI.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?nI.has(n):iI.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?nI.has(t):iI.has(t)),u&&h}}const aH=new RegExp("s*:selfs*,?","g");function ax(n,t,e,i){return new lH(n).build(t,e,i)}class lH{constructor(t){this._driver=t}build(t,e,i){const r=new dH(e);this._resetContextStyleTimingState(r);const o=Qo(this,qC(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function _U(){return new s.vHH(3006,pn)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const _=h,b=_.name;b.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,o.push(this.visitState(_,e))}),_.name=b}else if(1==h.type){const _=this.visitTransition(h,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function yU(){return new s.vHH(3007,pn)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{if(rI(h)){const _=h;Object.keys(_).forEach(b=>{qO(_[b]).forEach(T=>{u.hasOwnProperty(T)||o.add(T)})})}}),o.size&&(XT(o.values()),e.errors.push(function vU(n,t){return new s.vHH(3008,pn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Qo(this,qC(t.animation),e);return{type:1,matchers:rH(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:lg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Qo(this,i,e)),options:lg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=Qo(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:lg(t.options)}}visitAnimate(t,e){const i=function fH(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return lx(KT(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=lx(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=KT(e,t);return lx(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:En({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const b={};i.easing&&(b.easing=i.easing),u=En(b)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=h,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Rd?i.push(u):e.errors.push(function bU(n){return new s.vHH(3002,pn)}()):i.push(u)}):i.push(t.styles);let r=!1,o=null;return i.forEach(u=>{if(rI(u)){const h=u,_=h.easing;if(_&&(o=_,delete h.easing),!r)for(let b in h)if(h[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void e.unsupportedCSSPropertiesFound.add(h);const _=e.collectedStyles[e.currentQuerySelector],b=_[h];let T=!0;b&&(o!=r&&o>=b.startTime&&r<=b.endTime&&(e.errors.push(function CU(n,t,e,i,r){return new s.vHH(3010,pn)}()),T=!1),o=b.startTime),T&&(_[h]={startTime:o,endTime:r}),e.options&&function KU(n,t,e){const i=t.params||{},r=qO(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function fU(n){return new s.vHH(3001,pn)}())})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function wU(){return new s.vHH(3011,pn)}()),i;let o=0;const u=[];let h=!1,_=!1,b=0;const T=t.steps.map(Ke=>{const at=this._makeStyleAst(Ke,e);let ot=null!=at.offset?at.offset:function hH(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(rI(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(rI(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(at.styles),tt=0;return null!=ot&&(o++,tt=at.offset=ot),_=_||tt<0||tt>1,h=h||tt<b,b=tt,u.push(tt),at});_&&e.errors.push(function DU(){return new s.vHH(3012,pn)}()),h&&e.errors.push(function EU(){return new s.vHH(3200,pn)}());const M=t.steps.length;let O=0;o>0&&o<M?e.errors.push(function TU(){return new s.vHH(3202,pn)}()):0==o&&(O=1/(M-1));const L=M-1,U=e.currentTime,te=e.currentAnimateTimings,Ce=te.duration;return T.forEach((Ke,at)=>{const ot=O>0?at==L?1:O*at:u[at],tt=ot*Ce;e.currentTime=U+te.delay+tt,te.duration=tt,this._validateStyleAst(Ke,e),Ke.offset=ot,i.styles.push(Ke)}),i}visitReference(t,e){return{type:8,animation:Qo(this,qC(t.animation),e),options:lg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:lg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:lg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function cH(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(aH,"")),n=n.replace(/@\*/g,WT).replace(/@\w+/g,e=>WT+"-"+e.substr(1)).replace(/:animating/g,ix),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ko(e.collectedStyles,e.currentQuerySelector,{});const h=Qo(this,qC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:lg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function IU(){return new s.vHH(3013,pn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:KT(t.timings,e.errors,!0);return{type:12,animation:Qo(this,qC(t.animation),e),timings:i,options:null}}}class dH{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rI(n){return!Array.isArray(n)&&"object"==typeof n}function lg(n){return n?(n=Vy(n)).params&&(n.params=function uH(n){return n?Vy(n):null}(n.params)):n={},n}function lx(n,t,e){return{duration:n,delay:t,easing:e}}function cx(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class sI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gH=new RegExp(":enter","g"),yH=new RegExp(":leave","g");function ux(n,t,e,i,r,o={},u={},h,_,b=[]){return(new vH).buildKeyframes(n,t,e,i,r,o,u,h,_,b)}class vH{buildKeyframes(t,e,i,r,o,u,h,_,b,T=[]){b=b||new sI;const M=new dx(t,e,b,r,o,T,[]);M.options=_,M.currentTimeline.setStyles([u],null,M.errors,_),Qo(this,i,M);const O=M.timelines.filter(L=>L.containsAnimation());if(Object.keys(h).length){let L;for(let U=O.length-1;U>=0;U--){const te=O[U];if(te.element===e){L=te;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([h],null,M.errors,_)}return O.length?O.map(L=>L.buildKeyframes()):[cx(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?og(i.duration):null,h=null!=i.delay?og(i.delay):null;return 0!==u&&t.forEach(_=>{const b=e.appendInstructionToTimeline(_,u,h);o=Math.max(o,b.duration+b.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Qo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=oI);const u=og(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Qo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?og(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Qo(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return KT(e.params?QT(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(_=>{h.forwardTime((_.offset||0)*o),h.setStyles(_.styles,_.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?og(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=oI);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let _=null;h.forEach((b,T)=>{e.currentQueryIndex=T;const M=e.createSubContext(t.options,b);o&&M.delayNextStep(o),b===e.element&&(_=M.currentTimeline),Qo(this,t.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const T=e.currentTimeline;_&&T.delayNextStep(_);const M=T.currentTime;Qo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const oI={};class dx{constructor(t,e,i,r,o,u,h,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new aI(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=og(i.duration)),null!=i.delay&&(r.delay=og(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=QT(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new dx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=oI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new bH(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(gH,"."+this._enterClassName)).replace(yH,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),h.push(...b)}return!o&&0==h.length&&u.push(function MU(n){return new s.vHH(3014,pn)}()),h}}class aI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new aI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Rd,this._currentKeyframe[e]=Rd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},u=function CH(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Rd})):Df(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const _=QT(u[h],o,i);this._pendingStyles[h]=_,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Rd),this._updateStyle(h,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const b=Df(h,!0);Object.keys(b).forEach(T=>{const M=b[T];"!"==M?t.add(T):M==Rd&&e.add(T)}),i||(b.offset=_/this.duration),r.push(b)});const o=t.size?XT(t.values()):[],u=e.size?XT(e.values()):[];if(i){const h=r[0],_=Vy(h);h.offset=0,_.offset=1,r=[h,_]}return cx(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class bH extends aI{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,_=Df(t[0],!1);_.offset=0,o.push(_);const b=Df(t[0],!1);b.offset=KO(h),o.push(b);const T=t.length-1;for(let M=1;M<=T;M++){let O=Df(t[M],!1);O.offset=KO((e+O.offset*i)/u),o.push(O)}i=u,e=0,r="",t=o}return cx(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function KO(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class hx{}class wH extends hx{normalizePropertyName(t,e){return ox(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(DH[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function gU(n,t){return new s.vHH(3005,pn)}())}return u+o}}const DH=(()=>function EH(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function QO(n,t,e,i,r,o,u,h,_,b,T,M,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:b,postStyleProps:T,totalTime:M,errors:O}}const fx={};class XO{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function TH(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):u}build(t,e,i,r,o,u,h,_,b,T){const M=[],O=this.ast.options&&this.ast.options.params||fx,U=this.buildStyles(i,h&&h.params||fx,M),te=_&&_.params||fx,Ce=this.buildStyles(r,te,M),Ke=new Set,at=new Map,ot=new Map,tt="void"===r,Pt={params:Object.assign(Object.assign({},O),te)},jt=T?[]:ux(t,e,this.ast.animation,o,u,U,Ce,Pt,b,M);let mn=0;if(jt.forEach(Yn=>{mn=Math.max(Yn.duration+Yn.delay,mn)}),M.length)return QO(e,this._triggerName,i,r,tt,U,Ce,[],[],at,ot,mn,M);jt.forEach(Yn=>{const Jo=Yn.element,tv=Ko(at,Jo,{});Yn.preStyleProps.forEach(pg=>tv[pg]=!0);const fg=Ko(ot,Jo,{});Yn.postStyleProps.forEach(pg=>fg[pg]=!0),Jo!==e&&Ke.add(Jo)});const Xi=XT(Ke.values());return QO(e,this._triggerName,i,r,tt,U,Ce,jt,Xi,at,ot,mn)}}class IH{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Vy(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!=u&&(r[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(h=>{let _=u[h];_.length>1&&(_=QT(_,r,e));const b=this.normalizer.normalizePropertyName(h,e);_=this.normalizer.normalizeStyleValue(h,b,_,e),i[b]=_})}}),i}}class AH{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new IH(r.style,r.options&&r.options.params||{},i)}),JO(this.states,"true","1"),JO(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new XO(t,r,this.states))}),this.fallbackTransition=function SH(n,t,e){return new XO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function JO(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const xH=new sI;class kH{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=ax(this._driver,e,i,[]);if(i.length)throw function PU(n){return new s.vHH(3503,pn)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=kO(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let u;const h=new Map;if(o?(u=ux(this._driver,e,o,nx,ZT,{},{},i,xH,r),u.forEach(T=>{const M=Ko(h,T.element,{});T.postStyleProps.forEach(O=>M[O]=null)})):(r.push(function FU(){return new s.vHH(3300,pn)}()),u=[]),r.length)throw function NU(n){return new s.vHH(3504,pn)}();h.forEach((T,M)=>{Object.keys(T).forEach(O=>{T[O]=this._driver.computeStyle(M,O,Rd)})});const b=wf(u.map(T=>{const M=h.get(T.element);return this._buildPlayer(T,{},M)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function LU(n){return new s.vHH(3301,pn)}();return e}listen(t,e,i,r){const o=XS(e,"","","");return KS(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const eP="ng-animate-queued",px="ng-animate-disabled",NH=[],tP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},LH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ba="__ng_removed";class mx{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function HH(n){return null!=n?n:null}(i?t.value:t),i){const o=Vy(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const $C="void",gx=new mx($C);class BH{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Va(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function BU(n,t){return new s.vHH(3302,pn)}();if(null==i||0==i.length)throw function VU(n){return new s.vHH(3303,pn)}();if(!function jH(n){return"start"==n||"done"==n}(i))throw function UU(n,t){return new s.vHH(3400,pn)}();const o=Ko(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=Ko(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(Va(t,YT),Va(t,YT+"-"+e),h[e]=gx),()=>{this._engine.afterFlush(()=>{const _=o.indexOf(u);_>=0&&o.splice(_,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function HU(n){return new s.vHH(3401,pn)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new _x(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Va(t,YT),Va(t,YT+"-"+e),this._engine.statesByElement.set(t,h={}));let _=h[e];const b=new mx(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),h[e]=b,_||(_=gx),b.value!==$C&&_.value===b.value){if(!function qH(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(_.params,b.params)){const te=[],Ce=o.matchStyles(_.value,_.params,te),Ke=o.matchStyles(b.value,b.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{ag(t,Ce),lu(t,Ke)})}return}const O=Ko(this._engine.playersByElement,t,[]);O.forEach(te=>{te.namespaceId==this.id&&te.triggerName==e&&te.queued&&te.destroy()});let L=o.matchTransition(_.value,b.value,t,b.params),U=!1;if(!L){if(!r)return;L=o.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:L,fromState:_,toState:b,player:u,isFallbackTransition:U}),U||(Va(t,eP),u.onStart(()=>{Uy(t,eP)})),u.onDone(()=>{let te=this.players.indexOf(u);te>=0&&this.players.splice(te,1);const Ce=this._engine.playersByElement.get(t);if(Ce){let Ke=Ce.indexOf(u);Ke>=0&&Ce.splice(Ke,1)}}),this.players.push(u),O.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,WT,!0);i.forEach(r=>{if(r[Ba])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(Object.keys(o).forEach(_=>{if(u.set(_,o[_].value),this._triggers[_]){const b=this.trigger(t,_,$C,r);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&wf(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,b=i[u]||gx,T=new mx($C),M=new _x(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:b,toState:T,player:M,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ba];(!o||o===tP)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Va(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=XS(o,i.triggerName,i.fromState.value,i.toState.value);_._data=t,KS(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class VH{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new BH(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(e);for(;h;){const _=r.get(h);if(_){const b=i.indexOf(_);i.splice(b+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=o;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,e)){i.splice(h+1,0,t),u=!0;break}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const u=i[r[o]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(lI(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!lI(e))return;const o=e[Ba];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Va(t,px)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Uy(t,px))}removeNode(t,e,i,r){if(lI(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Ba]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return lI(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,WT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ix,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return wf(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Ba];if(i&&i.setForRemoval){if(t[Ba]=tP,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(px))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Va(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?wf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function jU(n){return new s.vHH(3402,pn)}()}_flushAnimations(t,e){const i=new sI,r=[],o=new Map,u=[],h=new Map,_=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(pt=>{T.add(pt);const Mt=this.driver.query(pt,".ng-animate-queued",!0);for(let Nt=0;Nt<Mt.length;Nt++)T.add(Mt[Nt])});const M=this.bodyNode,O=Array.from(this.statesByElement.keys()),L=rP(O,this.collectedEnterElements),U=new Map;let te=0;L.forEach((pt,Mt)=>{const Nt=nx+te++;U.set(Mt,Nt),pt.forEach(Tn=>Va(Tn,Nt))});const Ce=[],Ke=new Set,at=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const Mt=this.collectedLeaveElements[pt],Nt=Mt[Ba];Nt&&Nt.setForRemoval&&(Ce.push(Mt),Ke.add(Mt),Nt.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(Tn=>Ke.add(Tn)):at.add(Mt))}const ot=new Map,tt=rP(O,Array.from(Ke));tt.forEach((pt,Mt)=>{const Nt=ZT+te++;ot.set(Mt,Nt),pt.forEach(Tn=>Va(Tn,Nt))}),t.push(()=>{L.forEach((pt,Mt)=>{const Nt=U.get(Mt);pt.forEach(Tn=>Uy(Tn,Nt))}),tt.forEach((pt,Mt)=>{const Nt=ot.get(Mt);pt.forEach(Tn=>Uy(Tn,Nt))}),Ce.forEach(pt=>{this.processLeaveNode(pt)})});const Pt=[],jt=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(e).forEach(Nt=>{const Tn=Nt.player,$r=Nt.element;if(Pt.push(Tn),this.collectedEnterElements.length){const Ws=$r[Ba];if(Ws&&Ws.setForMove){if(Ws.previousTriggersValues&&Ws.previousTriggersValues.has(Nt.triggerName)){const mg=Ws.previousTriggersValues.get(Nt.triggerName),kf=this.statesByElement.get(Nt.element);kf&&kf[Nt.triggerName]&&(kf[Nt.triggerName].value=mg)}return void Tn.destroy()}}const cu=!M||!this.driver.containsElement(M,$r),ea=ot.get($r),xf=U.get($r),ki=this._buildInstruction(Nt,i,xf,ea,cu);if(ki.errors&&ki.errors.length)return void jt.push(ki);if(cu)return Tn.onStart(()=>ag($r,ki.fromStyles)),Tn.onDestroy(()=>lu($r,ki.toStyles)),void r.push(Tn);if(Nt.isFallbackTransition)return Tn.onStart(()=>ag($r,ki.fromStyles)),Tn.onDestroy(()=>lu($r,ki.toStyles)),void r.push(Tn);const EN=[];ki.timelines.forEach(Ws=>{Ws.stretchStartingKeyframe=!0,this.disabledNodes.has(Ws.element)||EN.push(Ws)}),ki.timelines=EN,i.append($r,ki.timelines),u.push({instruction:ki,player:Tn,element:$r}),ki.queriedElements.forEach(Ws=>Ko(h,Ws,[]).push(Tn)),ki.preStyleProps.forEach((Ws,mg)=>{const kf=Object.keys(Ws);if(kf.length){let gg=_.get(mg);gg||_.set(mg,gg=new Set),kf.forEach(lk=>gg.add(lk))}}),ki.postStyleProps.forEach((Ws,mg)=>{const kf=Object.keys(Ws);let gg=b.get(mg);gg||b.set(mg,gg=new Set),kf.forEach(lk=>gg.add(lk))})});if(jt.length){const pt=[];jt.forEach(Mt=>{pt.push(function GU(n,t){return new s.vHH(3505,pn)}())}),Pt.forEach(Mt=>Mt.destroy()),this.reportError(pt)}const mn=new Map,Xi=new Map;u.forEach(pt=>{const Mt=pt.element;i.has(Mt)&&(Xi.set(Mt,Mt),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,mn))}),r.forEach(pt=>{const Mt=pt.element;this._getPreviousPlayers(Mt,!1,pt.namespaceId,pt.triggerName,null).forEach(Tn=>{Ko(mn,Mt,[]).push(Tn),Tn.destroy()})});const Yn=Ce.filter(pt=>oP(pt,_,b)),Jo=new Map;iP(Jo,this.driver,at,b,Rd).forEach(pt=>{oP(pt,_,b)&&Yn.push(pt)});const fg=new Map;L.forEach((pt,Mt)=>{iP(fg,this.driver,new Set(pt),_,"!")}),Yn.forEach(pt=>{const Mt=Jo.get(pt),Nt=fg.get(pt);Jo.set(pt,Object.assign(Object.assign({},Mt),Nt))});const pg=[],wN=[],DN={};u.forEach(pt=>{const{element:Mt,player:Nt,instruction:Tn}=pt;if(i.has(Mt)){if(T.has(Mt))return Nt.onDestroy(()=>lu(Mt,Tn.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(Tn.totalTime),void r.push(Nt);let $r=DN;if(Xi.size>1){let ea=Mt;const xf=[];for(;ea=ea.parentNode;){const ki=Xi.get(ea);if(ki){$r=ki;break}xf.push(ea)}xf.forEach(ki=>Xi.set(ki,$r))}const cu=this._buildAnimation(Nt.namespaceId,Tn,mn,o,fg,Jo);if(Nt.setRealPlayer(cu),$r===DN)pg.push(Nt);else{const ea=this.playersByElement.get($r);ea&&ea.length&&(Nt.parentPlayer=wf(ea)),r.push(Nt)}}else ag(Mt,Tn.fromStyles),Nt.onDestroy(()=>lu(Mt,Tn.toStyles)),wN.push(Nt),T.has(Mt)&&r.push(Nt)}),wN.forEach(pt=>{const Mt=o.get(pt.element);if(Mt&&Mt.length){const Nt=wf(Mt);pt.setRealPlayer(Nt)}}),r.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<Ce.length;pt++){const Mt=Ce[pt],Nt=Mt[Ba];if(Uy(Mt,ZT),Nt&&Nt.hasAnimation)continue;let Tn=[];if(h.size){let cu=h.get(Mt);cu&&cu.length&&Tn.push(...cu);let ea=this.driver.query(Mt,ix,!0);for(let xf=0;xf<ea.length;xf++){let ki=h.get(ea[xf]);ki&&ki.length&&Tn.push(...ki)}}const $r=Tn.filter(cu=>!cu.destroyed);$r.length?GH(this,Mt,$r):this.processLeaveNode(Mt)}return Ce.length=0,pg.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const Mt=this.players.indexOf(pt);this.players.splice(Mt,1)}),pt.play()}),pg}elementContainsData(t,e){let i=!1;const r=e[Ba];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const _=!o||o==$C;h.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const b=_.element,T=b!==o,M=Ko(i,b,[]);this._getPreviousPlayers(b,T,u,h,e.toState).forEach(L=>{const U=L.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),L.destroy(),M.push(L)})}ag(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,_=e.element,b=[],T=new Set,M=new Set,O=e.timelines.map(U=>{const te=U.element;T.add(te);const Ce=te[Ba];if(Ce&&Ce.removedBeforeQueried)return new zC(U.duration,U.delay);const Ke=te!==_,at=function zH(n){const t=[];return sP(n,t),t}((i.get(te)||NH).map(mn=>mn.getRealPlayer())).filter(mn=>!!mn.element&&mn.element===te),ot=o.get(te),tt=u.get(te),Pt=kO(0,this._normalizer,0,U.keyframes,ot,tt),jt=this._buildPlayer(U,Pt,at);if(U.subTimeline&&r&&M.add(te),Ke){const mn=new _x(t,h,te);mn.setRealPlayer(jt),b.push(mn)}return jt});b.forEach(U=>{Ko(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function UH(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,U.element,U))}),T.forEach(U=>Va(U,HO));const L=wf(O);return L.onDestroy(()=>{T.forEach(U=>Uy(U,HO)),lu(_,e.toStyles)}),M.forEach(U=>{Ko(r,U,[]).push(L)}),L}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new zC(t.duration,t.delay)}}class _x{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new zC,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>KS(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ko(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function lI(n){return n&&1===n.nodeType}function nP(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function iP(n,t,e,i,r){const o=[];e.forEach(_=>o.push(nP(_)));const u=[];i.forEach((_,b)=>{const T={};_.forEach(M=>{const O=T[M]=t.computeStyle(b,M,r);(!O||0==O.length)&&(b[Ba]=LH,u.push(b))}),n.set(b,T)});let h=0;return e.forEach(_=>nP(_,o[h++])),u}function rP(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let _=o.get(h);if(_)return _;const b=h.parentNode;return _=e.has(b)?b:r.has(b)?1:u(b),o.set(h,_),_}return t.forEach(h=>{const _=u(h);1!==_&&e.get(_).push(h)}),e}function Va(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Uy(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function GH(n,t,e){wf(e).onDone(()=>n.processLeaveNode(t))}function sP(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof SO?sP(i.players,t):t.push(i)}}function oP(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class cI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new VH(t,e,i),this._timelineEngine=new kH(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],T=ax(this._driver,o,_,[]);if(_.length)throw function RU(n,t){return new s.vHH(3404,pn)}();h=function MH(n,t,e){return new AH(n,t,e)}(r,T,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=RO(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=RO(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ZH=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&lu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lu(this._element,this._initialStyles),this._endStyles&&(lu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ag(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ag(this._element,this._endStyles),this._endStyles=null),lu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function yx(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];YH(r)&&(t=t||{},t[r]=n[r])}return t}function YH(n){return"display"===n||"position"===n}class aP{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:$O(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class WH{validateStyleProperty(t){return NO(t)}matchesElement(t,e){return!1}containsElement(t,e){return LO(t,e)}getParentElement(t){return ex(t)}query(t,e,i){return BO(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(_.easing=o);const b={},T=u.filter(O=>O instanceof aP);(function JU(n,t){return 0===n||0===t})(i,r)&&T.forEach(O=>{let L=O.currentSnapshot;Object.keys(L).forEach(U=>b[U]=L[U])}),e=function eH(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],u=[];if(i.forEach(h=>{o.hasOwnProperty(h)||u.push(h),o[h]=e[h]}),u.length)for(var r=1;r<t.length;r++){let h=t[r];u.forEach(function(_){h[_]=$O(n,_)})}}return t}(t,e=e.map(O=>Df(O,!1)),b);const M=function $H(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=yx(t[0]),t.length>1&&(i=yx(t[t.length-1]))):t&&(e=yx(t)),e||i?new ZH(n,e,i):null}(t,e);return new aP(t,e,_,M)}}let KH=(()=>{class n extends TO{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?MO(e):e;return lP(this._renderer,null,i,"register",[r]),new QH(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(Q))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class QH extends class uU{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new XH(this._id,t,e||{},this._renderer)}}class XH{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return lP(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function lP(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const cP="@.disabled";let JH=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=null==u?void 0:u.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(o);return T||(T=new uP("",o,this.engine),this._rendererCache.set(o,T)),T}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(u,h,e,T.name,T)};return i.data.animation.forEach(_),new ej(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(cI),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class uP{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==cP?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ej extends uP{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==cP?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function tj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function nj(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let ij=(()=>{class n extends cI{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q),s.LFG(tx),s.LFG(hx))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ys=new s.OlP("AnimationModuleType"),dP=[{provide:TO,useClass:KH},{provide:hx,useFactory:function rj(){return new wH}},{provide:cI,useClass:ij},{provide:s.FYo,useFactory:function sj(n,t,e){return new JH(n,t,e)},deps:[Oo,cI,s.R0b]}],hP=[{provide:tx,useFactory:()=>new WH},{provide:Ys,useValue:"BrowserAnimations"},...dP],oj=[{provide:tx,useClass:VO},{provide:Ys,useValue:"NoopAnimations"},...dP];let aj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?oj:hP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:hP,imports:[oa]}),n})();function lj(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function cj(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const uj=["*"],hj=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function dj(){return!0}});let ln=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!LS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(EO),s.LFG(hj,8),s.LFG(Q))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[NC],NC]}),n})();function Hy(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=yt(t)}}}function Ef(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function jy(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=yt(t)}}}function Gy(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?us(e):this.defaultTabIndex}}}function vx(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new mt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}function fj(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new dn.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const pj=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function mj(){return(0,s.f3M)(s.soG)}});class hs{constructor(){this._localeChanges=new mt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const cg=new s.OlP("mat-date-formats"),gj=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function bx(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let _j=(()=>{class n extends hs{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return bx(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return bx(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return bx(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(gj.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pj,8),s.LFG(gr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const yj={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let vj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:hs,useClass:_j}]}),n})(),pP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:cg,useValue:yj}],imports:[[vj]]}),n})(),ZC=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bj{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mP={enterDuration:225,exitDuration:150},Cx=eg({passive:!0}),gP=["mousedown","touchstart"],_P=["mouseup","mouseleave","touchend","touchcancel"];class yP{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=kd(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},mP),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function Dj(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,_=e-r.top,b=o.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=h-u+"px",T.style.top=_-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(T),function wj(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const M=new bj(this,T,i);return M.state=0,this._activeRipples.add(M),i.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const O=M===this._mostRecentTransientRipple;M.state=1,!i.persistent&&(!O||!this._isPointerDown)&&M.fadeOut()},b),M}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},mP),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=kd(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(gP))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(_P),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=vO(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!bO(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Cx)})})}_removeTriggerEvents(){this._triggerElement&&(gP.forEach(t=>{this._triggerElement.removeEventListener(t,this,Cx)}),this._pointerUpEventsRegistered&&_P.forEach(t=>{this._triggerElement.removeEventListener(t,this,Cx)}))}}const vP=new s.OlP("mat-ripple-global-options");let ug=(()=>{class n{constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new yP(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(gr),s.Y36(vP,8),s.Y36(Ys,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),zy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ln],ln]}),n})(),Ej=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ys,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),Tj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ln]]}),n})();const bP=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),CP=new s.OlP("MatOptgroup");let Ij=0;class wP{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Mj=(()=>{class n{constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ij++,this.onSelectionChange=new s.vpe,this._stateChanges=new mt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=yt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Is(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new wP(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),wx=(()=>{class n extends Mj{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(bP,8),s.Y36(CP,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),s.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:uj,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,lj,1,2,"mat-pseudo-checkbox",0),s.TgZ(1,"span",1),s.Hsn(2),s.qZA(),s.YNc(3,cj,2,1,"span",2),s._UZ(4,"div",3)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(3),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[Ej,gi,ug],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function Dx(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[o]&&o++;return o}return 0}let dI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zy,Ti,ln,Tj]]}),n})();class Aj{}class Tf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Tf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Tf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Tf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Sj{encodeKey(t){return EP(t)}encodeValue(t){return EP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const kj=/%(\d[a-f0-9])/gi,Rj={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function EP(n){return encodeURIComponent(n).replace(kj,(t,e)=>{var i;return null!==(i=Rj[e])&&void 0!==i?i:t})}function TP(n){return`${n}`}class If{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Sj,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xj(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],_=e.get(u)||[];_.push(h),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new If({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(TP(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(TP(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Oj{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function IP(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function MP(n){return"undefined"!=typeof Blob&&n instanceof Blob}function AP(n){return"undefined"!=typeof FormData&&n instanceof FormData}class WC{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Pj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Tf),this.context||(this.context=new Oj),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new If,this.urlWithParams=e}serializeBody(){return null===this.body?null:IP(this.body)||MP(this.body)||AP(this.body)||function Fj(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof If?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AP(this.body)?null:MP(this.body)?this.body.type||null:IP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof If?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,_=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,T=t.params||this.params;const M=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((O,L)=>O.set(L,t.setHeaders[L]),b)),t.setParams&&(T=Object.keys(t.setParams).reduce((O,L)=>O.set(L,t.setParams[L]),T)),new WC(i,r,u,{params:T,headers:b,context:M,reportProgress:_,responseType:o,withCredentials:h})}}var fs=(()=>((fs=fs||{})[fs.Sent=0]="Sent",fs[fs.UploadProgress=1]="UploadProgress",fs[fs.ResponseHeader=2]="ResponseHeader",fs[fs.DownloadProgress=3]="DownloadProgress",fs[fs.Response=4]="Response",fs[fs.User=5]="User",fs))();class Ex extends class Nj{constructor(t,e=200,i="OK"){this.headers=t.headers||new Tf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=fs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ex({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Tx(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let xP=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof WC)o=e;else{let _,b;_=r.headers instanceof Tf?r.headers:new Tf(r.headers),r.params&&(b=r.params instanceof If?r.params:new If({fromObject:r.params})),o=new WC(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=rt(o).pipe(xy(_=>this.handler.handle(_)));if(e instanceof WC||"events"===r.observe)return u;const h=u.pipe(Zn(_=>_ instanceof Ex));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,nt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,nt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,nt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,nt.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new If).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Tx(r,i))}post(e,i,r={}){return this.request("POST",e,Tx(r,i))}put(e,i,r={}){return this.request("PUT",e,Tx(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Aj))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Bj=["*"];let hI;function KC(n){var t;return(null===(t=function Vj(){if(void 0===hI&&(hI=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(hI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return hI}())||void 0===t?void 0:t.createHTML(n))||n}function kP(n){return Error(`Unable to find icon with the name "${n}"`)}function RP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function OP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class dg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let fI=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new dg(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const u=this._sanitizer.sanitize(s.q3G.HTML,r);if(!u)throw OP(r);const h=KC(u);return this._addSvgIconConfig(e,i,new dg("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new dg(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw OP(i);const u=KC(o);return this._addSvgIconSetConfig(e,new dg("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw RP(e);const r=this._cachedIconsByUrl.get(i);return r?rt(pI(r)):this._loadSvgIconFromConfig(new dg(e,null)).pipe((0,qr.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,nt.U)(o=>pI(o)))}getNamedSvgIcon(e,i=""){const r=PP(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):DC(kP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?rt(pI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,nt.U)(i=>pI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?rt(r):Iu(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Ad(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),rt(null)})))).pipe((0,nt.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw kP(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,qr.b)(i=>e.svgText=i),(0,nt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?rt(null):this._fetchIcon(e).pipe((0,qr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(KC("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(KC("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,u=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Uj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,r);if(!h)throw RP(r);const _=this._inProgressUrlFetches.get(h);if(_)return _;const b=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe((0,nt.U)(T=>KC(T)),JR(()=>this._inProgressUrlFetches.delete(h)),(0,_v.B)());return this._inProgressUrlFetches.set(h,b),b}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(PP(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return jj(o)?new dg(o.url,null,o.options):new dg(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xP,8),s.LFG(ca),s.LFG(Q,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pI(n){return n.cloneNode(!0)}function PP(n,t){return n+":"+t}function jj(n){return!(!n.url||!n.options)}const Gj=Ef(class{constructor(n){this._elementRef=n}}),zj=new s.OlP("mat-icon-location",{providedIn:"root",factory:function qj(){const n=(0,s.f3M)(Q),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),FP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$j=FP.map(n=>`[${n}]`).join(", "),Zj=/^url\(['"]?#(.*?)['"]?\)$/;let QC=(()=>{class n extends Gj{constructor(e,i,r,o,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._currentIconFetch=ji.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=yt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll($j),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)FP.forEach(u=>{const h=i[o],_=h.getAttribute(u),b=_?_.match(Zj):null;if(b){let T=r.get(h);T||(T=[],r.set(h,T)),T.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(xn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(fI),s.$8M("aria-hidden"),s.Y36(zj),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:Bj,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),NP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ln],ln]}),n})();var Yj=F(1144);const Wj=["addListener","removeListener"],Kj=["addEventListener","removeEventListener"],Qj=["on","off"];function Mf(n,t,e,i){if((0,bs.m)(e)&&(i=e,e=void 0),i)return Mf(n,t,e).pipe(Xd(i));const[r,o]=function e3(n){return(0,bs.m)(n.addEventListener)&&(0,bs.m)(n.removeEventListener)}(n)?Kj.map(u=>h=>n[u](t,h,e)):function Xj(n){return(0,bs.m)(n.addListener)&&(0,bs.m)(n.removeListener)}(n)?Wj.map(LP(n,t)):function Jj(n){return(0,bs.m)(n.on)&&(0,bs.m)(n.off)}(n)?Qj.map(LP(n,t)):[];if(!r&&(0,Yj.z)(n))return(0,zr.z)(u=>Mf(u,t,e))((0,wn.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new dn.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>o(h)})}function LP(n,t){return e=>i=>n[e](t,i)}const t3=["connectionContainer"],n3=["inputContainer"],r3=["label"];function s3(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function o3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function a3(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function l3(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function c3(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function u3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.YNc(2,a3,4,1,"ng-container",12),s.YNc(3,l3,1,0,"ng-content",12),s.YNc(4,c3,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function d3(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function h3(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function f3(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function p3(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function m3(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,p3,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const g3=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],_3=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],y3=new s.OlP("MatError"),v3={transitionMessages:Od("transitionMessages",[Zs("enter",En({opacity:1,transform:"translateY(0%)"})),ds("void => enter",[En({opacity:0,transform:"translateY(-5px)"}),Ms("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let XC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const b3=new s.OlP("MatHint");let qy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),C3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const w3=new s.OlP("MatPrefix"),BP=new s.OlP("MatSuffix");let VP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:BP,useExisting:n}])]}),n})(),UP=0;const E3=Ef(class{constructor(n){this._elementRef=n}},"primary"),T3=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),JC=new s.OlP("MatFormField");let ew=(()=>{class n extends E3{constructor(e,i,r,o,u,h,_){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new mt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+UP++,this._labelId="mat-form-field-label-"+UP++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=yt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Tr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ln(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ln(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,cn.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Tr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Tr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ln(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Mf(this._label.nativeElement,"transitionend").pipe(xn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const T=i.querySelectorAll(`${r}, ${o}`);for(let M=0;M<T.length;M++)T[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const _=i.querySelectorAll(r),b=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const T=i.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(T),O=e.children,L=this._getStartEnd(O[0].getBoundingClientRect());let U=0;for(let te=0;te<O.length;te++)U+=O[te].offsetWidth;u=Math.abs(L-M)-5,h=U>0?.75*U+10:0}for(let T=0;T<_.length;T++)_[T].style.width=`${u}px`;for(let T=0;T<b.length;T++)b[T].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36($s,8),s.Y36(T3,8),s.Y36(gr),s.Y36(s.R0b),s.Y36(Ys,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,XC,5),s.Suo(r,XC,7),s.Suo(r,qy,5),s.Suo(r,qy,7),s.Suo(r,C3,5),s.Suo(r,y3,5),s.Suo(r,b3,5),s.Suo(r,w3,5),s.Suo(r,BP,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(t3,7),s.Gf(n3,5),s.Gf(r3,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:JC,useExisting:n}]),s.qOj],ngContentSelectors:_3,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(g3),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,s3,9,0,"ng-container",3),s.YNc(4,o3,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,u3,5,16,"label",8),s.qZA()(),s.YNc(10,d3,2,0,"div",9),s.qZA(),s.YNc(11,h3,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,f3,2,1,"div",12),s.YNc(14,m3,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[gi,HS,er,$i],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[v3.transitionMessages]},changeDetection:0}),n})(),tw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ti,ln,GC],ln]}),n})();var jP=F(4408);const nw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=nw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new ji.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=nw;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=nw;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var GP=F(7565);new class M3 extends GP.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class I3 extends jP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=nw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(nw.cancelAnimationFrame(e),t._scheduled=void 0)}});let Ix,S3=1;const mI={};function zP(n){return n in mI&&(delete mI[n],!0)}const x3={setImmediate(n){const t=S3++;return mI[t]=!0,Ix||(Ix=Promise.resolve()),Ix.then(()=>zP(t)&&n()),t},clearImmediate(n){zP(n)}},{setImmediate:k3,clearImmediate:R3}=x3,gI={setImmediate(...n){const{delegate:t}=gI;return((null==t?void 0:t.setImmediate)||k3)(...n)},clearImmediate(n){const{delegate:t}=gI;return((null==t?void 0:t.clearImmediate)||R3)(n)},delegate:void 0};new class P3 extends GP.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class O3 extends jP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=gI.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(gI.clearImmediate(e),t._scheduled=void 0)}});var L3=F(3532);function Mx(n,t=Ch.z){return function N3(n){return(0,oi.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const b=r;r=null,e.next(b)}u&&e.complete()},_=()=>{o=null,u&&e.complete()};t.subscribe((0,Fn.x)(e,b=>{i=!0,r=b,o||(0,wn.Xf)(n(b)).subscribe(o=(0,Fn.x)(e,h,_))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function qP(n=0,t,e=Ch.P){let i=-1;return null!=t&&((0,L3.K)(t)?e=t:i=t),new dn.y(r=>{let o=function B3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}let $P=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new mt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new dn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Mx(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):rt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Zn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=kd(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(gr),s.LFG(Q,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iw=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new mt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Mx(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gr),s.LFG(s.R0b),s.LFG(Q,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Ax=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[NC,$y],NC,$y]}),n})();class Sx{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Zy extends Sx{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class _I extends Sx{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class H3 extends Sx{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class xx{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Zy?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof _I?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof H3?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class j3 extends xx{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let yI=(()=>{class n extends xx{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(Q))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),rw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const ZP=DV();class z3{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_r(-this._previousScrollPosition.left),t.style.top=_r(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ZP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ZP&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class q3{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class YP{enable(){}disable(){}attach(){}}function kx(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function WP(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class $3{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();kx(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Z3=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new YP,this.close=u=>new q3(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new z3(this._viewportRuler,this._document),this.reposition=u=>new $3(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($P),s.LFG(iw),s.LFG(s.R0b),s.LFG(Q))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sw{constructor(t){if(this.scrollStrategy=new YP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Y3{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class W3{constructor(t,e,i,r,o,u,h,_,b){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new mt.x,this._attachments=new mt.x,this._detachments=new mt.x,this._locationChanges=ji.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new mt.x,this._outsidePointerEvents=new mt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(xn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=_r(this._config.width),t.height=_r(this._config.height),t.minWidth=_r(this._config.minWidth),t.minHeight=_r(this._config.minHeight),t.maxWidth=_r(this._config.maxWidth),t.maxHeight=_r(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=jT(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ln((0,cn.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Rx=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||LS()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),LS()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q),s.LFG(gr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KP="cdk-overlay-connected-position-bounding-box",K3=/([A-Za-z%]+)$/;class QP{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new mt.x,this._resizeSubscription=ji.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(KP),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(t,r,h),b=this._getOverlayPoint(_,e,h),T=this._getOverlayFit(b,e,i,h);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(T,b,i)?o.push({position:h,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:b,originPoint:_,position:h,overlayRect:e})}if(o.length){let h=null,_=-1;for(const b of o){const T=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);T>_&&(_=T,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&hg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(KP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=JP(e);let{x:u,y:h}=t,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(h+=b);let O=0-h,L=h+o.height-i.height,U=this._subtractOverflows(o.width,0-u,u+o.width-i.width),te=this._subtractOverflows(o.height,O,L),Ce=U*te;return{visibleArea:Ce,isCompletelyWithinViewport:o.width*o.height===Ce,fitsInViewportVertically:te===o.height,fitsInViewportHorizontally:U==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=XP(this._overlayRef.getConfig().minHeight),h=XP(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=r)&&b}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=JP(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),_=Math.max(o.top-i.top-t.y,0),b=Math.max(o.left-i.left-t.x,0);let T=0,M=0;return T=r.width<=o.width?b||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,M=r.height<=o.height?_||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:T,y:M},{x:t.x+T,y:t.y+M}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Y3(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,h,T,M,O;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const L=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;o=2*L,u=t.y-L,o>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,T=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)M=t.x,T=i.right-t.x;else{const L=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;T=2*L,M=t.x-L,T>U&&!this._isInitialRender&&!this._growAfterOpen&&(M=t.x-U/2)}return{top:u,left:M,bottom:h,right:O,width:T,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=_r(i.height),r.top=_r(i.top),r.bottom=_r(i.bottom),r.width=_r(i.width),r.left=_r(i.left),r.right=_r(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=_r(o)),u&&(r.maxWidth=_r(u))}this._lastBoundingBoxSize=i,hg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){hg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){hg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();hg(i,this._getExactOverlayY(e,t,T)),hg(i,this._getExactOverlayX(e,t,T))}else i.position="static";let h="",_=this._getOffset(e,"x"),b=this._getOffset(e,"y");_&&(h+=`translateX(${_}px) `),b&&(h+=`translateY(${b}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=_r(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=_r(u.maxWidth):o&&(i.maxWidth="")),hg(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=_r(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=_r(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:WP(t,i),isOriginOutsideView:kx(t,i),isOverlayClipped:WP(e,i),isOverlayOutsideView:kx(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&jT(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function hg(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function XP(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(K3);return e&&"px"!==e?null:parseFloat(t)}return n||null}function JP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const eF="cdk-global-overlay-wrapper";class Q3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(eF),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h);t.position=this._cssPosition,t.marginLeft=_?"0":this._leftOffset,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,_?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(eF),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let X3=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Q3}flexibleConnectedTo(e){return new QP(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(iw),s.LFG(Q),s.LFG(gr),s.LFG(Rx))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tF=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J3=(()=>{class n extends tF{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e6=(()=>{class n extends tF{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=bf(o)},this._clickListener=o=>{const u=bf(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const T=_[b];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(u)||T.overlayElement.contains(h))break;const M=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(o)):M.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q),s.LFG(gr),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t6=0,Ua=(()=>{class n{constructor(e,i,r,o,u,h,_,b,T,M,O){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=b,this._directionality=T,this._location=M,this._outsideClickDispatcher=O}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new sw(e);return u.direction=u.direction||this._directionality.value,new W3(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+t6++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new j3(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z3),s.LFG(Rx),s.LFG(s._Vd),s.LFG(X3),s.LFG(J3),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(Q),s.LFG($s),s.LFG(ye),s.LFG(e6))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const n6=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],nF=new s.OlP("cdk-connected-overlay-scroll-strategy");let iF=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),rF=(()=>{class n{constructor(e,i,r,o,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ji.w0.EMPTY,this._attachSubscription=ji.w0.EMPTY,this._detachSubscription=ji.w0.EMPTY,this._positionSubscription=ji.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new _I(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=yt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=yt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=yt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=yt(e)}get push(){return this._push}set push(e){this._push=yt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=n6);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Is(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new sw({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof iF?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function G3(n,t=!1){return(0,oi.e)((e,i)=>{let r=0;e.subscribe((0,Fn.x)(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ua),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(nF),s.Y36($s,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),n})();const r6={provide:nF,deps:[Ua],useFactory:function i6(n){return()=>n.scrollStrategies.reposition()}};let Yy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ua,r6],imports:[[NC,rw,Ax],Ax]}),n})();function Ox(n){return n&&"function"==typeof n.connect}class sF{applyChanges(t,e,i,r,o){t.forEachOperation((u,h,_)=>{let b,T;if(null==u.previousIndex){const M=i(u,h,_);b=e.createEmbeddedView(M.templateRef,M.context,M.index),T=1}else null==_?(e.remove(h),T=3):(b=e.get(h),e.move(b,_),T=2);o&&o({context:null==b?void 0:b.context,operation:T,record:u})})}detach(){}}class aF{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new mt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const ow=new s.OlP("_ViewRepeater"),a6=["trigger"],l6=["panel"];function c6(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function u6(n,t){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function d6(n,t){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function h6(n,t){if(1&n&&(s.TgZ(0,"span",9),s.YNc(1,u6,2,1,"span",10),s.YNc(2,d6,1,0,"ng-content",11),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function f6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"div",14,15),s.NdJ("@transformPanel.done",function(r){return s.CHM(e),s.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return s.CHM(e),s.oxw()._handleKeydown(r)}),s.Hsn(3,1),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",e._getPanelTheme(),""),s.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),s.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const p6=[[["mat-select-trigger"]],"*"],m6=["mat-select-trigger","*"],lF={transformPanelWrap:Od("transformPanelWrap",[ds("* => void",ZS("@transformPanel",[$S()],{optional:!0}))]),transformPanel:Od("transformPanel",[Zs("void",En({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Zs("showing",En({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Zs("showing-multiple",En({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),ds("void => *",Ms("120ms cubic-bezier(0, 0, 0.2, 1)")),ds("* => void",Ms("100ms 25ms linear",En({opacity:0})))])};let cF=0;const dF=new s.OlP("mat-select-scroll-strategy"),v6=new s.OlP("MAT_SELECT_CONFIG"),b6={provide:dF,deps:[Ua],useFactory:function y6(n){return()=>n.scrollStrategies.reposition()}};class C6{constructor(t,e){this.source=t,this.value=e}}const w6=jy(Gy(Hy(vx(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),D6=new s.OlP("MatSelectTrigger");let E6=(()=>{class n extends w6{constructor(e,i,r,o,u,h,_,b,T,M,O,L,U,te){var Ce,Ke,at;super(u,o,_,b,M),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=T,this._liveAnnouncer=U,this._defaultOptions=te,this._panelOpen=!1,this._compareWith=(ot,tt)=>ot===tt,this._uid="mat-select-"+cF++,this._triggerAriaLabelledBy=null,this._destroy=new mt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+cF++,this._panelDoneAnimatingStream=new mt.x,this._overlayPanelClass=(null===(Ce=this._defaultOptions)||void 0===Ce?void 0:Ce.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(at=null===(Ke=this._defaultOptions)||void 0===Ke?void 0:Ke.disableOptionCentering)&&void 0!==at&&at,this.ariaLabel="",this.optionSelectionChanges=EC(()=>{const ot=this.options;return ot?ot.changes.pipe(Tr(ot),Un(()=>(0,cn.T)(...ot.map(tt=>tt.onSelectionChange)))):this._ngZone.onStable.pipe(xn(1),Un(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(Zn(ot=>ot),(0,nt.U)(()=>{})),this._closedStream=this.openedChange.pipe(Zn(ot=>!ot),(0,nt.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==te?void 0:te.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=te.typeaheadDebounceInterval),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,o;return null!==(o=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(_n.required))&&void 0!==o&&o}set required(e){this._required=yt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=yt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=yt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=us(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new aF(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ic(),Ln(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ln(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Tr(null),Ln(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&o&&!Is(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(e);const _=this.selected;_&&h!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,u=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||Is(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(h?_.select():_.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(xn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(o){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new HV(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Ln(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Ln(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,cn.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ln(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,cn.T)(...this.options.map(i=>i._stateChanges)).pipe(Ln(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(iw),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(ZC),s.Y36(s.SBq),s.Y36($s,8),s.Y36(vc,8),s.Y36(Ca,8),s.Y36(JC,8),s.Y36(nr,10),s.$8M("tabindex"),s.Y36(dF),s.Y36(aU),s.Y36(v6,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(a6,5),s.Gf(l6,5),s.Gf(rF,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.trigger=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first),s.iGM(r=s.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n})(),hF=(()=>{class n extends E6{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Ln(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(xn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=Dx(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function DP(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new C6(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let b=this._selectionModel.selected[0]||this.options.first;u=b&&b.group?32:16}r||(u*=-1);const h=0-(e.left+u-(r?o:0)),_=e.right+u-i.width+(r?0:o);h>0?u+=h+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const o=this._getItemHeight(),u=(o-this._triggerRect.height)/2,h=Math.floor(256/o);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?e*o:this._scrollTop===r?(e-(this._getItemCount()-h))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;b>u?this._adjustPanelUp(b,u):h>o?this._adjustPanelDown(h,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=Dx(h,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(h,_,u),this._offsetY=this._calculateOverlayOffsetY(h,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,D6,5),s.Suo(r,wx,5),s.Suo(r,CP,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.customTrigger=o.first),s.iGM(o=s.CRH())&&(i.options=o),s.iGM(o=s.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(s.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),s.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:XC,useExisting:n},{provide:bP,useExisting:n}]),s.qOj],ngContentSelectors:m6,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(s.F$t(p6),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return i.toggle()}),s.TgZ(3,"div",2),s.YNc(4,c6,2,1,"span",3),s.YNc(5,h6,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA()(),s.YNc(8,f6,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=s.MAs(1);s.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",i.empty),s.uIk("id",i._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[iF,er,$i,uu,rF,Ji],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[lF.transformPanelWrap,lF.transformPanel]},changeDetection:0}),n})(),Px=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[b6],imports:[[Ti,Yy,dI,ln],$y,tw,dI,ln]}),n})();const fF=eg({passive:!0});let T6=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Zo.E;const i=kd(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new mt.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,fF),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,fF)}}),o}stopMonitoring(e){const i=kd(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gr),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I6=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._platform=i,this._ngZone=r,this._destroyed=new mt.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=u=>{this._hasFocus="focus"===u.type},this._document=o,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(e){this._minRows=us(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=us(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=yt(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{Mf(this._getWindow(),"resize").pipe(Mx(16),Ln(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const e=this._textareaElement,i=e.style.marginBottom||"",r=this._platform.FIREFOX,o=r&&this._hasFocus,u=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";o&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(u);const h=e.scrollHeight-4;return e.classList.remove(u),o&&(e.style.marginBottom=i),h}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,r=i.value;if(!e&&this._minRows===this._previousMinRows&&r===this._previousValue)return;const o=this._measureScrollHeight(),u=Math.max(o,this._cachedPlaceholderHeight||0);i.style.height=`${u}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:i,selectionEnd:r}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(gr),s.Y36(s.R0b),s.Y36(Q,8))},n.\u0275dir=s.lG2({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(e,i){1&e&&s.NdJ("input",function(){return i._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),pF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const mF=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),M6=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let A6=0;const S6=vx(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let Fx=(()=>{class n extends S6{constructor(e,i,r,o,u,h,_,b,T,M){super(h,o,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=M,this._uid="mat-input-"+A6++,this.focused=!1,this.stateChanges=new mt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>rO().has(U)),this._iOSKeyupListener=U=>{const te=U.target;!te.value&&0===te.selectionStart&&0===te.selectionEnd&&(te.setSelectionRange(1,1),te.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,L=O.nodeName.toLowerCase();this._inputValueAccessor=_||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&T.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=yt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,o;return null!==(o=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(_n.required))&&void 0!==o&&o}set required(e){this._required=yt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&rO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=yt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=r,r?o.setAttribute("placeholder",r):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){M6.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(gr),s.Y36(nr,10),s.Y36(vc,8),s.Y36(Ca,8),s.Y36(ZC),s.Y36(mF,10),s.Y36(T6),s.Y36(s.R0b),s.Y36(JC,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:XC,useExisting:n}]),s.qOj,s.TTD]}),n})(),gF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ZC],imports:[[pF,tw,ln],pF,tw]}),n})();const x6=["mat-button",""],k6=["*"],O6=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],P6=Ef(Hy(jy(class{constructor(n){this._elementRef=n}})));let Af=(()=>{class n extends P6{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of O6)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Cf),s.Y36(Ys,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(ug,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:x6,ngContentSelectors:k6,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[ug],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),lw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zy,ln],ln]}),n})();const F6=["mat-calendar-body",""];function N6(n,t){if(1&n&&(s.TgZ(0,"tr",2)(1,"td",3),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e.numCols),s.xp6(1),s.hij(" ",e.label," ")}}function L6(n,t){if(1&n&&(s.TgZ(0,"td",3),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e._firstRowOffset),s.xp6(1),s.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function B6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",7)(1,"button",8),s.NdJ("click",function(r){const u=s.CHM(e).$implicit;return s.oxw(2)._cellClicked(u,r)}),s.TgZ(2,"div",9),s._uU(3),s.qZA(),s._UZ(4,"div",10),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw().index,o=s.oxw();s.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.uIk("data-mat-row",r)("data-mat-col",i),s.xp6(1),s.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),s.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),s.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null),s.xp6(1),s.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),s.xp6(1),s.hij(" ",e.displayValue," ")}}function V6(n,t){if(1&n&&(s.TgZ(0,"tr",4),s.YNc(1,L6,2,6,"td",5),s.YNc(2,B6,5,47,"td",6),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngIf",0===i&&r._firstRowOffset),s.xp6(1),s.Q6J("ngForOf",e)}}function U6(n,t){if(1&n&&(s.TgZ(0,"th",5)(1,"span",6),s._uU(2),s.qZA(),s.TgZ(3,"span",7),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.long),s.xp6(2),s.Oqu(e.narrow)}}const H6=["*"];function j6(n,t){}function G6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-month-view",5),s.NdJ("activeDateChange",function(r){return s.CHM(e),s.oxw().activeDate=r})("_userSelection",function(r){return s.CHM(e),s.oxw()._dateSelected(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function z6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-year-view",6),s.NdJ("activeDateChange",function(r){return s.CHM(e),s.oxw().activeDate=r})("monthSelected",function(r){return s.CHM(e),s.oxw()._monthSelectedInYearView(r)})("selectedChange",function(r){return s.CHM(e),s.oxw()._goToDateInView(r,"month")}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function q6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-multi-year-view",7),s.NdJ("activeDateChange",function(r){return s.CHM(e),s.oxw().activeDate=r})("yearSelected",function(r){return s.CHM(e),s.oxw()._yearSelectedInMultiYearView(r)})("selectedChange",function(r){return s.CHM(e),s.oxw()._goToDateInView(r,"year")}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function $6(n,t){}const Z6=["button"];function Y6(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"path",4),s.qZA())}const W6=[[["","matDatepickerToggleIcon",""]]],K6=["[matDatepickerToggleIcon]"];class Nx{constructor(t,e,i,r,o={},u=t,h){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=u,this.rawValue=h}}let Ky=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new s.vpe,this.previewChange=new s.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(xn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_isRangeStart(e){return Lx(e,this.startValue,this.endValue)}_isRangeEnd(e){return Bx(e,this.startValue,this.endValue)}_isInRange(e){return Vx(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Lx(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const u=this.rows[i-1];o=u&&u[u.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const u=this.rows[i+1];o=u&&u[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return Bx(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Vx(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Lx(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Bx(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Vx(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(_F(e)?i=e:_F(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[s.TTD],attrs:F6,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(s.YNc(0,N6,3,6,"tr",0),s.YNc(1,V6,3,2,"tr",1)),2&e&&(s.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),s.xp6(1),s.Q6J("ngForOf",i.rows))},directives:[gi,Gn,Ji],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),n})();function _F(n){return"TD"===n.nodeName}function Lx(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function Bx(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function Vx(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Eo{constructor(t,e){this.start=t,this.end=e}}let Sf=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new mt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Q6=(()=>{class n extends Sf{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const yF={provide:Sf,deps:[[new s.FiY,new s.tp0,Sf],hs],useFactory:function J6(n,t){return n||new Q6(t)}},bI=new s.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let vF=(()=>{class n{constructor(e,i,r,o,u){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=u,this._rerenderSubscription=ji.w0.EMPTY,this.selectedChange=new s.vpe,this._userSelection=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Tr(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._dateAdapter.getYear(this.activeDate),o=this._dateAdapter.getMonth(this.activeDate),u=this._dateAdapter.createDate(r,o,i);let h,_;this._selected instanceof Eo?(h=this._getDateInCurrentMonth(this._selected.start),_=this._getDateInCurrentMonth(this._selected.end)):h=_=this._getDateInCurrentMonth(this._selected),(h!==i||_!==i)&&this.selectedChange.emit(u),this._userSelection.emit({value:u,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Is(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((u,h)=>({long:u,narrow:i[h]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),h=this._shouldEnableDate(u),_=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),b=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new Nx(r+1,i[r],_,h,b,this._getCellCompareValue(u),u))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Eo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(cg,8),s.Y36(hs,8),s.Y36($s,8),s.Y36(bI,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ky,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[s.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s.YNc(3,U6,5,2,"th",2),s.qZA(),s.TgZ(4,"tr"),s._UZ(5,"th",3),s.qZA()(),s.TgZ(6,"tbody",4),s.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("previewChange",function(o){return i._previewChanged(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i._weekdays),s.xp6(3),s.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},directives:[Ky,Gn],encapsulation:2,changeDetection:0}),n})(),bF=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=ji.w0.EMPTY,this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),CF(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Tr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-cw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<24;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(u=>this._createCellForYear(u))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let r=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,r,1));this.selectedChange.emit(this._dateAdapter.createDate(i,r,Math.min(this._dateAdapter.getDate(this.activeDate),o)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-cw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-cw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return cw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Nx(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Eo){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(hs,8),s.Y36($s,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ky,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},directives:[Ky],encapsulation:2,changeDetection:0}),n})();function CF(n,t,e,i,r){const o=n.getYear(t),u=n.getYear(e),h=wF(n,i,r);return Math.floor((o-h)/24)===Math.floor((u-h)/24)}function cw(n,t,e,i){return function iG(n,t){return(n%t+t)%t}(n.getYear(t)-wF(n,e,i),24)}function wF(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let DF=(()=>{class n{constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=ji.w0.EMPTY,this.selectedChange=new s.vpe,this.monthSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Tr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._dateAdapter.getNumDaysInMonth(r);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),o)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new Nx(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),u)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Eo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(cg,8),s.Y36(hs,8),s.Y36($s,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ky,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},directives:[Ky],encapsulation:2,changeDetection:0}),n})(),uw=(()=>{class n{constructor(){this.changes=new mt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rG=0,sG=(()=>{class n{constructor(e,i,r,o,u){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._buttonDescriptionId="mat-calendar-button-"+rG++,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-cw(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(o,u)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):CF(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uw),s.Y36((0,s.Gpc)(()=>jx)),s.Y36(hs,8),s.Y36(cg,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:H6,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return i.currentPeriodClicked()}),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.O4$(),s.TgZ(5,"svg",3),s._UZ(6,"polygon",4),s.qZA()(),s.kcU(),s._UZ(7,"div",5),s.Hsn(8),s.TgZ(9,"button",6),s.NdJ("click",function(){return i.previousClicked()}),s.qZA(),s.TgZ(10,"button",7),s.NdJ("click",function(){return i.nextClicked()}),s.qZA()()()),2&e&&(s.xp6(2),s.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),s.xp6(1),s.uIk("id",i._buttonDescriptionId),s.xp6(1),s.Oqu(i.periodButtonText),s.xp6(1),s.ekj("mat-calendar-invert","month"!==i.calendar.currentView),s.xp6(4),s.Q6J("disabled",!i.previousEnabled()),s.uIk("aria-label",i.prevButtonLabel),s.xp6(1),s.Q6J("disabled",!i.nextEnabled()),s.uIk("aria-label",i.nextButtonLabel))},directives:[Af],encapsulation:2,changeDetection:0}),n})(),jx=(()=>{class n{constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this._userSelection=new s.vpe,this.stateChanges=new mt.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new Zy(this.headerComponent||sG),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){const u=this._getCurrentViewComponent();u&&(this._changeDetectorRef.detectChanges(),u._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Eo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uw),s.Y36(hs,8),s.Y36(cg,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(s.Gf(vF,5),s.Gf(DF,5),s.Gf(bF,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.monthView=r.first),s.iGM(r=s.CRH())&&(i.yearView=r.first),s.iGM(r=s.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[s._Bn([yF]),s.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(s.YNc(0,j6,0,0,"ng-template",0),s.TgZ(1,"div",1),s.YNc(2,G6,1,8,"mat-month-view",2),s.YNc(3,z6,1,6,"mat-year-view",3),s.YNc(4,q6,1,6,"mat-multi-year-view",4),s.qZA()),2&e&&(s.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),s.xp6(1),s.Q6J("ngSwitch",i.currentView),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngSwitchCase","multi-year"))},directives:[vF,DF,bF,yI,cU,er,$i],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),n})();const EF={transformPanel:Od("transformPanel",[ds("void => enter-dropdown",Ms("120ms cubic-bezier(0, 0, 0.2, 1)",qS([En({opacity:0,transform:"scale(1, 0.8)"}),En({opacity:1,transform:"scale(1, 1)"})]))),ds("void => enter-dialog",Ms("150ms cubic-bezier(0, 0, 0.2, 1)",qS([En({opacity:0,transform:"scale(0.7)"}),En({transform:"none",opacity:1})]))),ds("* => void",Ms("100ms linear",En({opacity:0})))]),fadeInCalendar:Od("fadeInCalendar",[Zs("void",En({opacity:0})),Zs("enter",En({opacity:1})),ds("void => *",Ms("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let oG=0;const TF=new s.OlP("mat-datepicker-scroll-strategy"),lG={provide:TF,deps:[Ua],useFactory:function aG(n){return()=>n.scrollStrategies.reposition()}},cG=Ef(class{constructor(n){this._elementRef=n}});let uG=(()=>{class n extends cG{constructor(e,i,r,o,u,h){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=u,this._subscriptions=new ji.w0,this._animationDone=new mt.x,this._actionsPortal=null,this._closeButtonText=h.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,o=i instanceof Eo;if(o&&this._rangeSelectionStrategy){const u=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(u,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Sf),s.Y36(hs),s.Y36(bI,8),s.Y36(uw))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&s.Gf(jx,5),2&e){let r;s.iGM(r=s.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&s.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(s.d8E("@transformPanel",i._animationState),s.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[s.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"mat-calendar",1),s.NdJ("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)}),s.qZA(),s.YNc(2,$6,0,0,"ng-template",2),s.TgZ(3,"button",3),s.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),s._uU(4),s.qZA()()),2&e){let r;s.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),s.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),s.xp6(1),s.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),s.xp6(1),s.Q6J("cdkPortalOutlet",i._actionsPortal),s.xp6(1),s.ekj("cdk-visually-hidden",!i._closeButtonFocused),s.Q6J("color",i.color||"primary"),s.xp6(1),s.Oqu(i._closeButtonText)}},directives:[jx,Af,eU,Ji,yI],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[EF.transformPanel,EF.fadeInCalendar]},changeDetection:0}),n})(),IF=(()=>{class n{constructor(e,i,r,o,u,h,_){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=u,this._dir=h,this._model=_,this._inputStateChanges=ji.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this.openedStream=new s.vpe,this.closedStream=new s.vpe,this._opened=!1,this.id="mat-datepicker-"+oG++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new mt.x,this._scrollStrategy=o}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=yt(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=yt(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=yt(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function NV(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const o=`${r}`.trim();o&&e.push(o)}}return e}(e)}get opened(){return this._opened}set opened(e){yt(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof QP&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=BC(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(xn(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){var e,i;null===(i=null===(e=this._componentRef)||void 0===e?void 0:e.instance)||void 0===i||i._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal,e._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new Zy(uG,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new sw({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{const u=o.keyCode;(38===u||40===u||37===u||39===u||33===u||34===u)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(xn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",u="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:u,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:u},{originX:r,originY:u,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:u}])}_getCloseStream(e){return(0,cn.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Zn(i=>27===i.keyCode&&!Is(i)||this.datepickerInput&&Is(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ua),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(TF),s.Y36(hs,8),s.Y36($s,8),s.Y36(Sf))},n.\u0275dir=s.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[s.TTD]}),n})(),dG=(()=>{class n extends IF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[s._Bn([yF,{provide:IF,useExisting:n}]),s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class CI{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let hG=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new s.vpe,this.dateInput=new s.vpe,this.stateChanges=new mt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=ji.w0.EMPTY,this._localeSubscription=ji.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!u||this._matchesFilter(u)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),h=this._getMinDate();return!h||!u||this._dateAdapter.compareDate(h,u)<=0?null:{matDatepickerMin:{min:h,actual:u}}},this._maxValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),h=this._getMaxDate();return!h||!u||this._dateAdapter.compareDate(h,u)>=0?null:{matDatepickerMax:{max:h,actual:u}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=yt(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new CI(this,this._elementRef.nativeElement)),this.dateChange.emit(new CI(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function fG(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:o}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(o))return!0;if(!t.sameDate(r,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new CI(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new CI(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(hs,8),s.Y36(cg,8))},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s.TTD]}),n})();const pG={provide:An,useExisting:(0,s.Gpc)(()=>Gx),multi:!0},mG={provide:Kn,useExisting:(0,s.Gpc)(()=>Gx),multi:!0};let Gx=(()=>{class n extends hG{constructor(e,i,r,o){super(e,i,r),this._formField=o,this._closedSubscription=ji.w0.EMPTY,this._validator=_n.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(hs,8),s.Y36(cg,8),s.Y36(JC,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(o){return i._onKeydown(o)}),2&e&&(s.Ikx("disabled",i.disabled),s.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[s._Bn([pG,mG,{provide:mF,useExisting:n}]),s.qOj]}),n})(),gG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),_G=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=ji.w0.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=yt(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:rt(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:rt(),r=this.datepicker?(0,cn.T)(this.datepicker.openedStream,this.datepicker.closedStream):rt();this._stateChanges.unsubscribe(),this._stateChanges=(0,cn.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(uw),s.Y36(s.sBO),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,gG,5),2&e){let o;s.iGM(o=s.CRH())&&(i._customIcon=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(Z6,5),2&e){let r;s.iGM(r=s.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._open(o)}),2&e&&(s.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),s.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[s.TTD],ngContentSelectors:K6,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(s.F$t(W6),s.TgZ(0,"button",0,1),s.YNc(2,Y6,2,0,"svg",2),s.Hsn(3),s.qZA()),2&e&&(s.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),s.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),s.xp6(2),s.Q6J("ngIf",!i._customIcon))},directives:[Af,gi],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),MF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[uw,lG],imports:[[Ti,lw,Yy,zS,rw,ln],$y]}),n})();function yG(n,t){if(1&n&&(s.TgZ(0,"mat-option",33),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function vG(n,t){if(1&n&&(s.TgZ(0,"mat-option",33),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function bG(n,t){if(1&n&&(s.TgZ(0,"mat-option",33),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function CG(n,t){if(1&n&&(s.TgZ(0,"div",34)(1,"div",9)(2,"div",10)(3,"mat-form-field",11)(4,"mat-label"),s._uU(5,"Technician Name"),s.qZA(),s._UZ(6,"input",35),s.qZA()()(),s.TgZ(7,"div",9)(8,"div",10)(9,"mat-form-field",11)(10,"mat-label"),s._uU(11,"Remarks"),s.qZA(),s._UZ(12,"input",36),s.qZA()()(),s.TgZ(13,"div",9)(14,"div",10)(15,"mat-form-field",11)(16,"mat-label"),s._uU(17,"Bill No"),s.qZA(),s._UZ(18,"input",37),s.qZA()()(),s.TgZ(19,"div",9)(20,"div",10)(21,"mat-form-field",11)(22,"mat-label"),s._uU(23,"Amount"),s.qZA(),s._UZ(24,"input",38),s.qZA()()(),s.TgZ(25,"div",9)(26,"div",10)(27,"mat-form-field",11)(28,"mat-label"),s._uU(29,"Visit Date"),s.qZA(),s._UZ(30,"input",39)(31,"mat-datepicker-toggle",24)(32,"mat-datepicker",null,40),s.qZA()()()()),2&n){const e=t.index,i=s.MAs(33);s.Q6J("formGroupName",e),s.xp6(30),s.Q6J("matDatepicker",i),s.xp6(1),s.Q6J("for",i)}}const wG=function(n){return{"form-invalid":n}};let DG=(()=>{class n{constructor(e,i,r,o){this.fireStore=e,this.commonService=i,this.router=r,this.formBuilder=o,this.productList=[],this.callTypeList=[],this.serviceTypeList=[],this.customerDetail=this.formBuilder.group({serviceType:new Vn(null,[_n.required]),fullName:new Vn(null,[_n.required]),contactNo:new Vn(null,[_n.required]),complaintNo:new Vn(null,[_n.required]),address:new Vn(null),area:new Vn(null),productType:new Vn(null,[_n.required]),modelNo:new Vn(null,[_n.required]),serialNo:new Vn(null),purchaseDate:new Vn(null,[_n.required]),callType:new Vn(null),technicalDetails:new $f([])}),this.serviceTypeList=["customer Services"],this.commonService._customerInfoDataSubject.asObservable().pipe(xn(1)).subscribe(u=>{this.fireStore.collection("editproduct").get().subscribe(h=>{var _,b,T,M,O;let L=null==h?void 0:h.docs.map(U=>U.data());L.docId=null===(_=null==h?void 0:h.docs.map(U=>U.id))||void 0===_?void 0:_.toString(),this.productList=null===(T=null===(b=L[0])||void 0===b?void 0:b.spareItem)||void 0===T?void 0:T.map(U=>null==U?void 0:U.name),this.callTypeList=null===(O=null===(M=L[0])||void 0===M?void 0:M.callTypeItem)||void 0===O?void 0:O.map(U=>null==U?void 0:U.name),console.log(L)}),setTimeout(()=>{var h,_,b,T,M,O,L,U,te,Ce,Ke,at,ot,tt,Pt,jt,mn,Xi;if(console.log(this.commonService.customerData,"customer data",u),this.commonService.customerData){if(null===(b=null===(_=null===(h=this.commonService)||void 0===h?void 0:h.customerData)||void 0===_?void 0:_.technicalDetails)||void 0===b?void 0:b.length){if(null===(O=null===(M=null===(T=this.commonService)||void 0===T?void 0:T.customerData)||void 0===M?void 0:M.technicalDetails)||void 0===O||O.forEach((Yn,Jo)=>{let tv=this.commonService.customerData.visitDate.split("/");this.commonService.customerData.technicalDetails[Jo].visitDate=new Date(tv[2]+"-"+tv[1]+"-"+tv[0]),this.customerDetail.get("technicalDetails").push(this.formBuilder.group({technicianName:new Vn(null==Yn?void 0:Yn.technicianName,[_n.required]),technicianRemarks:new Vn(null==Yn?void 0:Yn.technicianRemarks,[_n.required]),billNo:new Vn(null==Yn?void 0:Yn.billNo,[_n.required]),amount:new Vn(null==Yn?void 0:Yn.amount,[_n.required]),visitDate:new Vn(null==Yn?void 0:Yn.visitDate)}))}),null===(L=this.commonService.customerData)||void 0===L?void 0:L.purchaseDate){let Yn=this.commonService.customerData.visitDate.split("/");this.commonService.customerData.purchaseDate=new Date(Yn[2]+"-"+Yn[1]+"-"+Yn[0])}this.customerDetail.patchValue({serviceType:null===(U=this.commonService.customerData)||void 0===U?void 0:U.serviceType,fullName:null===(te=this.commonService.customerData)||void 0===te?void 0:te.fullName,contactNo:null===(Ce=this.commonService.customerData)||void 0===Ce?void 0:Ce.contactNo,complaintNo:null===(Ke=this.commonService.customerData)||void 0===Ke?void 0:Ke.complaintNo,address:null===(at=this.commonService.customerData)||void 0===at?void 0:at.address,area:null===(ot=this.commonService.customerData)||void 0===ot?void 0:ot.area,productType:null===(tt=this.commonService.customerData)||void 0===tt?void 0:tt.productType,modelNo:null===(Pt=this.commonService.customerData)||void 0===Pt?void 0:Pt.modelNo,serialNo:null===(jt=this.commonService.customerData)||void 0===jt?void 0:jt.serialNo,purchaseDate:null===(mn=this.commonService.customerData)||void 0===mn?void 0:mn.purchaseDate,callType:null===(Xi=this.commonService.customerData)||void 0===Xi?void 0:Xi.callType})}this.addTechnicanGroup()}else this.addTechnicanGroup()},1e3)})}ngOnInit(){}ngOnChanges(){this.commonService.fetchCustomerData()}addTechnicanGroup(){this.customerDetail.get("technicalDetails").push(this.createTechnicanGroup())}createTechnicanGroup(){return this.formBuilder.group({technicianName:new Vn(null,[_n.required]),technicianRemarks:new Vn(null,[_n.required]),billNo:new Vn(null,[_n.required]),amount:new Vn(null,[_n.required]),visitDate:new Vn(null)})}saveCustomerDetails(e){var i,r,o,u,h;if((null===(r=null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.technicalDetails)||void 0===r?void 0:r.length)&&(null===(o=null==e?void 0:e.value)||void 0===o||o.technicalDetails.forEach(L=>{var U=L.visitDate,te=U.getDate()&&U.getDate()<10?"0"+U.getDate():U.getDate(),Ce=U.getMonth()&&U.getMonth()+1<10?"0"+(U.getMonth()+1):U.getMonth()+1,Ke=U.getFullYear();L.visitDate=te+"/"+Ce+"/"+Ke})),null===(u=null==e?void 0:e.value)||void 0===u?void 0:u.purchaseDate){var _=null===(h=null==e?void 0:e.value)||void 0===h?void 0:h.purchaseDate,b=_.getDate()&&_.getDate()<10?"0"+_.getDate():_.getDate(),T=_.getMonth()&&_.getMonth()+1<10?"0"+(_.getMonth()+1):_.getMonth()+1,M=_.getFullYear();e.value.purchaseDate=b+"/"+T+"/"+M}e&&e.valid?(console.log(this.fireStore,"fire store"),this.commonService.customerData&&this.commonService.customerData.id?this.fireStore.doc("customerData/"+this.commonService.customerData.id).update(e.value).then(L=>{console.log("sucess"),this.commonService.customerData=null,this.customerDetail.reset(),this.router.navigate(["customerinfo"])}):this.fireStore.collection("customerData").add(e.value).then(L=>{this.customerDetail.reset(),this.customerDetail.markAsUntouched()},L=>{alert("something went wrong contact admin")})):alert("something went wrong")}get technicalDetails(){return this.customerDetail.get("technicalDetails")}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sy),s.Y36(Ny),s.Y36(xr),s.Y36(cp))},n.\u0275cmp=s.Xpm({type:n,selectors:[["customer-detail"]],features:[s.TTD],decls:103,vars:10,consts:[[1,"customer-detail-wrapper"],[1,"container"],[1,"page-title"],[1,"font-muli"],["routerLink","/dashboard"],[1,"customer-detail-form"],[3,"formGroup"],[1,"heading"],[1,"row"],[1,"col-4"],[1,"field-holder"],["appearance","legacy"],["formControlName","serviceType"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","fullName"],["matInput","","type","text","formControlName","contactNo"],["matInput","","type","text","formControlName","complaintNo"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5","formControlName","address"],["autosize","cdkTextareaAutosize"],["matInput","","type","text","formControlName","area"],["formControlName","productType"],["matInput","","type","text","formControlName","modelNo"],["matInput","","type","text","formControlName","serialNo"],["matInput","","formControlName","purchaseDate",1,"visit-date",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerPurchase",""],["formControlName","callType"],["formArrayName","technicalDetails",1,"tech-detail"],[1,"container-fluid"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"clearfix","button-wrapper"],[1,"float-right"],["mat-raised-button","","color","accent","type","button",3,"ngClass","click"],[3,"value"],[1,"row",3,"formGroupName"],["matInput","","type","text","formControlName","technicianName"],["matInput","","type","text","formControlName","technicianRemarks"],["matInput","","type","text","formControlName","billNo"],["matInput","","type","text","formControlName","amount"],["matInput","","formControlName","visitDate",1,"visit-date",3,"matDatepicker"],["picker",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3)(4,"mat-icon"),s._uU(5,"article"),s.qZA(),s.TgZ(6,"span",4),s._uU(7,"Dashboard"),s.qZA(),s._uU(8," / "),s.TgZ(9,"span"),s._uU(10,"Add Customer Detail"),s.qZA()()(),s.TgZ(11,"div",5)(12,"form",6)(13,"section")(14,"h2",7),s._uU(15,"Customer Basic Information"),s.qZA(),s.TgZ(16,"div",8)(17,"div",9)(18,"div",10)(19,"mat-form-field",11)(20,"mat-label"),s._uU(21,"Service Type"),s.qZA(),s.TgZ(22,"mat-select",12),s.YNc(23,yG,2,2,"mat-option",13),s.qZA()()()(),s.TgZ(24,"div",9)(25,"div",10)(26,"mat-form-field",11)(27,"mat-label"),s._uU(28,"Full Name"),s.qZA(),s._UZ(29,"input",14),s.qZA()()(),s.TgZ(30,"div",9)(31,"div",10)(32,"mat-form-field",11)(33,"mat-label"),s._uU(34,"Phone No"),s.qZA(),s._UZ(35,"input",15),s.qZA()()(),s.TgZ(36,"div",9)(37,"div",10)(38,"mat-form-field",11)(39,"mat-label"),s._uU(40,"Case Id"),s.qZA(),s._UZ(41,"input",16),s.qZA()()(),s.TgZ(42,"div",9)(43,"div",10)(44,"mat-form-field",11)(45,"mat-label"),s._uU(46,"Address"),s.qZA(),s._UZ(47,"textarea",17,18),s.qZA()()(),s.TgZ(49,"div",9)(50,"div",10)(51,"mat-form-field",11)(52,"mat-label"),s._uU(53,"Area Address"),s.qZA(),s._UZ(54,"input",19),s.qZA()()()()(),s.TgZ(55,"section")(56,"h2",7),s._uU(57,"Product Details"),s.qZA(),s.TgZ(58,"div",8)(59,"div",9)(60,"div",10)(61,"mat-form-field",11)(62,"mat-label"),s._uU(63,"Spare"),s.qZA(),s.TgZ(64,"mat-select",20),s.YNc(65,vG,2,2,"mat-option",13),s.qZA()()()(),s.TgZ(66,"div",9)(67,"div",10)(68,"mat-form-field",11)(69,"mat-label"),s._uU(70,"Model name"),s.qZA(),s._UZ(71,"input",21),s.qZA()()(),s.TgZ(72,"div",9)(73,"div",10)(74,"mat-form-field",11)(75,"mat-label"),s._uU(76,"Serial No"),s.qZA(),s._UZ(77,"input",22),s.qZA()()(),s.TgZ(78,"div",9)(79,"div",10)(80,"mat-form-field",11)(81,"mat-label"),s._uU(82,"Purchase Date"),s.qZA(),s._UZ(83,"input",23)(84,"mat-datepicker-toggle",24)(85,"mat-datepicker",null,25),s.qZA()()(),s.TgZ(87,"div",9)(88,"div",10)(89,"mat-form-field",11)(90,"mat-label"),s._uU(91,"Call Type"),s.qZA(),s.TgZ(92,"mat-select",26),s.YNc(93,bG,2,2,"mat-option",13),s.qZA()()()()()(),s.TgZ(94,"section",27)(95,"h2",7),s._uU(96,"Technician Details"),s.qZA(),s.TgZ(97,"div",28),s.YNc(98,CG,34,3,"div",29),s.qZA()(),s.TgZ(99,"div",30)(100,"div",31)(101,"button",32),s.NdJ("click",function(){return i.saveCustomerDetails(i.customerDetail)}),s._uU(102,"Save"),s.qZA()()()()()()()),2&e){const r=s.MAs(86);s.xp6(12),s.Q6J("formGroup",i.customerDetail),s.xp6(11),s.Q6J("ngForOf",i.serviceTypeList),s.xp6(42),s.Q6J("ngForOf",i.productList),s.xp6(18),s.Q6J("matDatepicker",r),s.xp6(1),s.Q6J("for",r),s.xp6(9),s.Q6J("ngForOf",i.callTypeList),s.xp6(5),s.Q6J("ngForOf",null==i.technicalDetails?null:i.technicalDetails.controls),s.xp6(3),s.Q6J("ngClass",s.VKq(8,wG,i.customerDetail.invalid))}},directives:[QC,Py,Bi,Go,Ca,ew,qy,hF,Br,zu,Gn,wx,Fx,Vo,I6,Gx,_G,VP,dG,ju,ul,Af,Ji],styles:[".customer-detail-wrapper[_ngcontent-%COMP%]{min-height:100%;padding-top:70px;background-color:#f2edf3}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin:2rem 0 0}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:35px;height:35px;margin-right:15px;border-radius:100%;background-color:#ffe20b;line-height:35px;vertical-align:middle;text-align:center}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;letter-spacing:.5px}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;font-weight:700}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#ffe20b}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{cursor:auto}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child:hover{color:#000}.customer-detail-form[_ngcontent-%COMP%]{margin-top:30px;background-color:#fff}.customer-detail-form[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{overflow:auto}.customer-detail-form[_ngcontent-%COMP%]   .float-left[_ngcontent-%COMP%]{float:left}.customer-detail-form[_ngcontent-%COMP%]   .float-right[_ngcontent-%COMP%]{float:right}.customer-detail-form[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-bottom:20px}.customer-detail-form[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:last-child{border-bottom:none}.customer-detail-form[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{padding:10px;background-color:#ffe20b}.customer-detail-form[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]{padding:10px 25px}.customer-detail-form[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field{width:100%}.customer-detail-form[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field .mat-form-field-label{color:#000}.customer-detail-form[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field .mat-form-field-underline{background-color:#000}.customer-detail-form[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field .mat-select-value{color:#000}.customer-detail-form[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{padding:10px 15px}.customer-detail-form[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   .form-invalid[_ngcontent-%COMP%]{opacity:.5}.visit-date[_ngcontent-%COMP%]{pointer-events:none}  .mat-focus-indicator.mat-icon-button.mat-button-base{color:#000}.tech-detail[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{box-shadow:0 2px 3px #b6b6b6;margin:0 0 15px}"]}),n})();const TG=[[["caption"]],[["colgroup"],["col"]]],IG=["caption","colgroup, col"];function zx(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=yt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Qy=new s.OlP("CDK_TABLE");let Xy=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Jy=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),wI=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class xG{}const kG=zx(xG);let Pd=(()=>{class n extends kG{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=yt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Xy,5),s.Suo(r,Jy,5),s.Suo(r,wI,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class qx{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let $x=(()=>{class n extends qx{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Pd),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),Zx=(()=>{class n extends qx{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const o=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Pd),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class SF{constructor(){this.tasks=[],this.endTasks=[]}}const Yx=new s.OlP("_COALESCED_STYLE_SCHEDULER");let xF=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new mt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new SF,this._getScheduleObservable().pipe(Ln(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new SF;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Wn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(xn(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Wx=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof dw?e.headerCell.template:this instanceof hw?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class RG extends Wx{}const OG=zx(RG);let dw=(()=>{class n extends OG{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Qy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class PG extends Wx{}const FG=zx(PG);let hw=(()=>{class n extends FG{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Qy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),DI=(()=>{class n extends Wx{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Qy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),Fd=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),Kx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},directives:[Fd],encapsulation:2}),n})(),Xx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},directives:[Fd],encapsulation:2}),n})(),EI=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const kF=["top","bottom","left","right"];class NG{constructor(t,e,i,r,o=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(O=>O)&&!i.some(O=>O))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],u=o.children.length,h=this._getCellWidths(o,r),_=this._getStickyStartColumnPositions(h,e),b=this._getStickyEndColumnPositions(h,i),T=e.lastIndexOf(!0),M=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const O="rtl"===this.direction,L=O?"right":"left",U=O?"left":"right";for(const te of t)for(let Ce=0;Ce<u;Ce++){const Ke=te.children[Ce];e[Ce]&&this._addStickyStyle(Ke,L,_[Ce],Ce===T),i[Ce]&&this._addStickyStyle(Ke,U,b[Ce],Ce===M)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===T?[]:h.slice(0,T+1).map((te,Ce)=>e[Ce]?te:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===M?[]:h.slice(M).map((te,Ce)=>i[Ce+M]?te:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,u=[],h=[],_=[];for(let T=0,M=0;T<r.length;T++){if(!o[T])continue;u[T]=M;const O=r[T];_[T]=this._isNativeHtmlTable?Array.from(O.children):[O];const L=O.getBoundingClientRect().height;M+=L,h[T]=L}const b=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var T,M;for(let O=0;O<r.length;O++){if(!o[O])continue;const L=u[O],U=O===b;for(const te of _[O])this._addStickyStyle(te,i,L,U)}"top"===i?null===(T=this._positionListener)||void 0===T||T.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:_}):null===(M=this._positionListener)||void 0===M||M.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:_})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);kF.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of kF)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const Jx=new s.OlP("CDK_SPL");let TI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),II=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),MI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),AI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),SI=(()=>{class n{constructor(e,i,r,o,u,h,_,b,T,M,O,L){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=_,this._viewRepeater=b,this._coalescedStyleScheduler=T,this._viewportRuler=M,this._stickyPositioningListener=O,this._ngZone=L,this._onDestroy=new mt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new ls({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=yt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=yt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Ln(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Ox(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe(xn(1),Ln(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,u)=>{this._addStickyColumnStyles([o],this._headerRowDefs[u])}),this._rowDefs.forEach(o=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===o&&u.push(i[h]);this._addStickyColumnStyles(u,o)}),r.forEach((o,u)=>{this._addStickyColumnStyles([o],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const u=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let h=0;h<u.length;h++){let _=u[h];const b=this._cachedRenderRowsMap.get(_.data);b.has(_.rowDef)?b.get(_.rowDef).push(_):b.set(_.rowDef,[_]),e.push(_)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const _=h.shift();return _.dataIndex=i,_}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),xI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=xI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=xI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=xI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],Ox(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Ox(this.dataSource)?e=this.dataSource.connect(this):function EG(n){return!!n&&(n instanceof dn.y||(0,bs.m)(n.lift)&&(0,bs.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=rt(this.dataSource)),this._renderChangeSubscription=e.pipe(Ln(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),o=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const u=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Fd.mostRecentCellOutlet&&Fd.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const u of r.outlets)o.appendChild(u.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new NG(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:rt()).pipe(Ln(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),u=o.rootNodes[0];1===o.rootNodes.length&&(null==u?void 0:u.nodeType)===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36($s,8),s.Y36(Q),s.Y36(gr),s.Y36(ow),s.Y36(Yx),s.Y36(iw),s.Y36(Jx,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,EI,5),s.Suo(r,Pd,5),s.Suo(r,DI,5),s.Suo(r,dw,5),s.Suo(r,hw,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(TI,7),s.Gf(II,7),s.Gf(MI,7),s.Gf(AI,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:Qy,useExisting:n},{provide:ow,useClass:sF},{provide:Yx,useClass:xF},{provide:Jx,useValue:null}])],ngContentSelectors:IG,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(TG),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},directives:[II,TI,AI,MI],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function xI(n,t){return n.concat(Array.from(t))}let BG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ax]]}),n})();const VG=[[["caption"]],[["colgroup"],["col"]]],UG=["caption","colgroup, col"];let OF=(()=>{class n extends SI{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:ow,useClass:sF},{provide:SI,useExisting:n},{provide:Qy,useExisting:n},{provide:Yx,useClass:xF},{provide:Jx,useValue:null}]),s.qOj],ngContentSelectors:UG,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(VG),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},directives:[II,TI,AI,MI],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),ek=(()=>{class n extends Xy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:Xy,useExisting:n}]),s.qOj]}),n})(),tk=(()=>{class n extends Jy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:Jy,useExisting:n}]),s.qOj]}),n})(),nk=(()=>{class n extends Pd{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:Pd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),ik=(()=>{class n extends $x{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[s.qOj]}),n})(),rk=(()=>{class n extends Zx{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[s.qOj]}),n})(),PF=(()=>{class n extends dw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:dw,useExisting:n}]),s.qOj]}),n})(),FF=(()=>{class n extends DI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:DI,useExisting:n}]),s.qOj]}),n})(),NF=(()=>{class n extends Kx{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:Kx,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},directives:[Fd],encapsulation:2}),n})(),LF=(()=>{class n extends Xx{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[s._Bn([{provide:Xx,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},directives:[Fd],encapsulation:2}),n})(),BF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[BG,ln],ln]}),n})();class sk extends class QG extends class s6{}{constructor(t=[]){super(),this._renderData=new ls([]),this._filter=new ls(""),this._internalPageChanges=new mt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(lO(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,i)=>{const r=i.active,o=i.direction;return r&&""!=o?e.sort((u,h)=>{let _=this.sortingDataAccessor(u,r),b=this.sortingDataAccessor(h,r);const T=typeof _,M=typeof b;T!==M&&("number"===T&&(_+=""),"number"===M&&(b+=""));let O=0;return null!=_&&null!=b?_>b?O=1:_<b&&(O=-1):null!=_?O=1:null!=b&&(O=-1),O*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((u,h)=>u+e[h]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new ls(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,cn.T)(this._sort.sortChange,this._sort.initialized):rt(null),i=this._paginator?(0,cn.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):rt(null),o=wC([this._data,this._filter]).pipe((0,nt.U)(([_])=>this._filterData(_))),u=wC([o,e]).pipe((0,nt.U)(([_])=>this._orderData(_))),h=wC([u,i]).pipe((0,nt.U)(([_])=>this._pageData(_)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=h.subscribe(_=>this._renderData.next(_))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}const XG=["input"],JG=function(n){return{enterDuration:n}},ez=["*"],tz=new s.OlP("mat-checkbox-default-options",{providedIn:"root",factory:VF});function VF(){return{color:"accent",clickAction:"check-indeterminate"}}let nz=0;const UF=VF(),iz={provide:An,useExisting:(0,s.Gpc)(()=>HF),multi:!0};class rz{}const sz=Gy(Ef(jy(Hy(class{constructor(n){this._elementRef=n}}))));let HF=(()=>{class n extends sz{constructor(e,i,r,o,u,h,_){super(e),this._changeDetectorRef=i,this._focusMonitor=r,this._ngZone=o,this._animationMode=h,this._options=_,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++nz,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new s.vpe,this.indeterminateChange=new s.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||UF,this.color=this.defaultColor=this._options.color||UF.color,this.tabIndex=parseInt(u)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=yt(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){const i=yt(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=yt(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=yt(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,r=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){const e=new rz;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_onInputClick(e){var i;const r=null===(i=this._options)||void 0===i?void 0:i.clickAction;e.stopPropagation(),this.disabled||"noop"===r?!this.disabled&&"noop"===r&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==r&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";let r="";switch(e){case 0:if(1===i)r="unchecked-checked";else{if(3!=i)return"";r="unchecked-indeterminate"}break;case 2:r=1===i?"unchecked-checked":"unchecked-indeterminate";break;case 1:r=2===i?"checked-unchecked":"checked-indeterminate";break;case 3:r=1===i?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${r}`}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Cf),s.Y36(s.R0b),s.$8M("tabindex"),s.Y36(Ys,8),s.Y36(tz,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-checkbox"]],viewQuery:function(e,i){if(1&e&&(s.Gf(XG,5),s.Gf(ug,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._inputElement=r.first),s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),s.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[s._Bn([iz]),s.qOj],ngContentSelectors:ez,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),s.NdJ("change",function(o){return i._onInteractionEvent(o)})("click",function(o){return i._onInputClick(o)}),s.qZA(),s.TgZ(5,"span",5),s._UZ(6,"span",6),s.qZA(),s._UZ(7,"span",7),s.TgZ(8,"span",8),s.O4$(),s.TgZ(9,"svg",9),s._UZ(10,"path",10),s.qZA(),s.kcU(),s._UZ(11,"span",11),s.qZA()(),s.TgZ(12,"span",12,13),s.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),s.TgZ(14,"span",14),s._uU(15,"\xa0"),s.qZA(),s.Hsn(16),s.qZA()()),2&e){const r=s.MAs(1),o=s.MAs(13);s.uIk("for",i.inputId),s.xp6(2),s.ekj("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),s.xp6(1),s.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),s.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),s.xp6(2),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",s.VKq(19,JG,"NoopAnimations"===i._animationMode?0:150))}},directives:[ug,HS],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),n})(),jF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),GF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zy,ln,GC,jF],ln,jF]}),n})();const zF=new Set;let ev,lz=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):uz}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function cz(n){if(!zF.has(n))try{ev||(ev=document.createElement("style"),ev.setAttribute("type","text/css"),document.head.appendChild(ev)),ev.sheet&&(ev.sheet.insertRule(`@media ${n} {body{ }}`,0),zF.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uz(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let dz=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new mt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return qF(jT(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=wC(qF(jT(e)).map(u=>this._registerQuery(u).observable));return o=wp(o.pipe(xn(1)),o.pipe(oO(1),US(0))),o.pipe((0,nt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{h.matches=h.matches||_,h.breakpoints[b]=_}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new dn.y(u=>{const h=_=>this._zone.run(()=>u.next(_));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Tr(i),(0,nt.U)(({matches:u})=>({query:e,matches:u})),Ln(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lz),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qF(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const fz=["tooltip"],$F="tooltip-panel",ZF=eg({passive:!0}),YF=new s.OlP("mat-tooltip-scroll-strategy"),_z={provide:YF,deps:[Ua],useFactory:function gz(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},yz=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function vz(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let bz=(()=>{class n{constructor(e,i,r,o,u,h,_,b,T,M,O,L){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=u,this._platform=h,this._ariaDescriber=_,this._focusMonitor=b,this._dir=M,this._defaultOptions=O,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new mt.x,this._scrollStrategy=T,this._document=L,O&&(O.position&&(this.position=O.position),O.touchGestures&&(this.touchGestures=O.touchGestures)),M.change.pipe(Ln(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=yt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=us(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=us(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ln(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,ZF)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new Zy(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Ln(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var e;if(this._overlayRef)return this._overlayRef;const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Ln(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${$F}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ln(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ln(this._destroyed)).subscribe(()=>{var o;return null===(o=this._tooltipInstance)||void 0===o?void 0:o._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(Ln(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Is(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(e=this._defaultOptions)||void 0===e?void 0:e.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),o.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),o.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(xn(1),Ln(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const _=`${this._cssClassPrefix}-${$F}-`;h.removePanelClass(_+this._currentPosition),h.addPanelClass(_+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{var r;const o=i.relatedTarget;(!o||!(null===(r=this._overlayRef)||void 0===r?void 0:r.overlayElement.contains(o)))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,ZF)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),Cz=(()=>{class n extends bz{constructor(e,i,r,o,u,h,_,b,T,M,O,L){super(e,i,r,o,u,h,_,b,T,M,O,L),this._tooltipComponent=Dz}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ua),s.Y36(s.SBq),s.Y36($P),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(gr),s.Y36(UV),s.Y36(Cf),s.Y36(YF),s.Y36($s,8),s.Y36(yz,8),s.Y36(Q))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),wz=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new mt.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(i);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Ys,8))},n.\u0275dir=s.lG2({type:n}),n})(),Dz=(()=>{class n extends wz{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(dz),s.Y36(Ys,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(fz,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&e){let r;s.ekj("mat-tooltip-handset",null==(r=s.lcZ(2,4,i._isHandset))?null:r.matches),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message)}},directives:[Ji],pipes:[du],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),Ez=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_z],imports:[[zS,Ti,Yy,ln],ln,$y]}),n})();function Tz(n,t){if(1&n&&(s.TgZ(0,"mat-option",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function Iz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field",16)(1,"mat-select",17),s.NdJ("selectionChange",function(r){return s.CHM(e),s.oxw(2)._changePageSize(r.value)}),s.YNc(2,Tz,2,2,"mat-option",18),s.qZA()()}if(2&n){const e=s.oxw(2);s.Q6J("appearance",e._formFieldAppearance)("color",e.color),s.xp6(1),s.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),s.xp6(1),s.Q6J("ngForOf",e._displayedPageSizeOptions)}}function Mz(n,t){if(1&n&&(s.TgZ(0,"div",20),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.pageSize)}}function Az(n,t){if(1&n&&(s.TgZ(0,"div",12)(1,"div",13),s._uU(2),s.qZA(),s.YNc(3,Iz,3,6,"mat-form-field",14),s.YNc(4,Mz,2,1,"div",15),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.hij(" ",e._intl.itemsPerPageLabel," "),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length>1),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function Sz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().firstPage()}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",22),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),s.uIk("aria-label",e._intl.firstPageLabel)}}function xz(n,t){if(1&n){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"button",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().lastPage()}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",24),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),s.uIk("aria-label",e._intl.lastPageLabel)}}let kI=(()=>{class n{constructor(){this.changes=new mt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rz={provide:kI,deps:[[new s.FiY,new s.tp0,kI]],useFactory:function kz(n){return n||new kI}},Pz=new s.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),Fz=Hy(fj(class{}));let Nz=(()=>{class n extends Fz{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new s.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:o,pageSizeOptions:u,hidePageSize:h,showFirstLastButtons:_}=r;null!=o&&(this._pageSize=o),null!=u&&(this._pageSizeOptions=u),null!=h&&(this._hidePageSize=h),null!=_&&(this._showFirstLastButtons=_)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(us(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=us(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(us(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>us(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=yt(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=yt(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[s.qOj]}),n})(),Lz=(()=>{class n extends Nz{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kI),s.Y36(s.sBO),s.Y36(Pz,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[s.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,Az,5,3,"div",2),s.TgZ(3,"div",3)(4,"div",4),s._uU(5),s.qZA(),s.YNc(6,Sz,3,5,"button",5),s.TgZ(7,"button",6),s.NdJ("click",function(){return i.previousPage()}),s.O4$(),s.TgZ(8,"svg",7),s._UZ(9,"path",8),s.qZA()(),s.kcU(),s.TgZ(10,"button",9),s.NdJ("click",function(){return i.nextPage()}),s.O4$(),s.TgZ(11,"svg",7),s._UZ(12,"path",10),s.qZA()(),s.YNc(13,xz,3,5,"button",11),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("ngIf",!i.hidePageSize),s.xp6(3),s.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),s.xp6(1),s.Q6J("ngIf",i.showFirstLastButtons),s.xp6(1),s.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),s.uIk("aria-label",i._intl.previousPageLabel),s.xp6(3),s.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),s.uIk("aria-label",i._intl.nextPageLabel),s.xp6(3),s.Q6J("ngIf",i.showFirstLastButtons))},directives:[ew,hF,wx,Af,gi,Gn,Cz],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),WF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Rz],imports:[[Ti,lw,Px,Ez,ln]]}),n})();function Bz(n,t){1&n&&s.GkF(0)}function Vz(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Select "),s.qZA())}function Uz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",58)(1,"mat-checkbox",59),s.NdJ("change",function(r){const u=s.CHM(e).$implicit;return s.oxw().selectVal(r.checked,u)}),s.qZA()()}}function Hz(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Visit Date "),s.qZA())}function jz(n,t){if(1&n&&(s.TgZ(0,"td",60),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.visitDate," ")}}function Gz(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Case Id "),s.qZA())}function zz(n,t){if(1&n&&(s.TgZ(0,"td",61),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.complaintNo," ")}}function qz(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," FullName "),s.qZA())}function $z(n,t){if(1&n&&(s.TgZ(0,"td",62),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.fullName," ")}}function Zz(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Phone No "),s.qZA())}function Yz(n,t){if(1&n&&(s.TgZ(0,"td",63),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.contactNo," ")}}function Wz(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Area "),s.qZA())}function Kz(n,t){if(1&n&&(s.TgZ(0,"td",64),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.area," ")}}function Qz(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Remarks "),s.qZA())}function Xz(n,t){if(1&n&&(s.TgZ(0,"td",65),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.technicianRemarks," ")}}function Jz(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Technician Name "),s.qZA())}function eq(n,t){if(1&n&&(s.TgZ(0,"td",66),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.technicianName," ")}}function tq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Amount "),s.qZA())}function nq(n,t){if(1&n&&(s.TgZ(0,"td",67),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.amount," ")}}function iq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Model No. "),s.qZA())}function rq(n,t){if(1&n&&(s.TgZ(0,"td",68),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.modelNo," ")}}function sq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Call Type "),s.qZA())}function oq(n,t){if(1&n&&(s.TgZ(0,"td",69),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.callType," ")}}function aq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Product Type "),s.qZA())}function lq(n,t){if(1&n&&(s.TgZ(0,"td",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.productType," ")}}function cq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Serial No. "),s.qZA())}function uq(n,t){if(1&n&&(s.TgZ(0,"td",71),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.serialNo," ")}}function dq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Purchase Date "),s.qZA())}function hq(n,t){if(1&n&&(s.TgZ(0,"td",72),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.purchaseDate," ")}}function fq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Bill No "),s.qZA())}function pq(n,t){if(1&n&&(s.TgZ(0,"td",73),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.billNo," ")}}function mq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Address "),s.qZA())}function gq(n,t){if(1&n&&(s.TgZ(0,"td",65),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.address," ")}}function _q(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Action "),s.qZA())}function yq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",74)(1,"mat-icon",75),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().editData(o)}),s._uU(2,"edit"),s.qZA(),s.TgZ(3,"mat-icon",76),s.NdJ("click",function(){const r=s.CHM(e),o=r.$implicit,u=r.index;return s.oxw().delete(o,u)}),s._uU(4,"delete"),s.qZA()()}}function vq(n,t){1&n&&s._UZ(0,"tr",77)}function bq(n,t){1&n&&s._UZ(0,"tr",78)}function Cq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," FullName "),s.qZA())}function wq(n,t){if(1&n&&(s.TgZ(0,"td",62),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.fullName," ")}}function Dq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Phone No "),s.qZA())}function Eq(n,t){if(1&n&&(s.TgZ(0,"td",63),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.contactNo," ")}}function Tq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Complaint No "),s.qZA())}function Iq(n,t){if(1&n&&(s.TgZ(0,"td",61),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.complaintNo," ")}}function Mq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Area "),s.qZA())}function Aq(n,t){if(1&n&&(s.TgZ(0,"td",64),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.area," ")}}function Sq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Product Type "),s.qZA())}function xq(n,t){if(1&n&&(s.TgZ(0,"td",70),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.productType," ")}}function kq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Call Type "),s.qZA())}function Rq(n,t){if(1&n&&(s.TgZ(0,"td",69),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.callType," ")}}function Oq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Model No. "),s.qZA())}function Pq(n,t){if(1&n&&(s.TgZ(0,"td",68),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.modelNo," ")}}function Fq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Serial No. "),s.qZA())}function Nq(n,t){if(1&n&&(s.TgZ(0,"td",71),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.serialNo," ")}}function Lq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Purchase Date "),s.qZA())}function Bq(n,t){if(1&n&&(s.TgZ(0,"td",72),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.purchaseDate," ")}}function Vq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Technician Name "),s.qZA())}function Uq(n,t){if(1&n&&(s.TgZ(0,"td",66),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.technicianName," ")}}function Hq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Visit Date "),s.qZA())}function jq(n,t){if(1&n&&(s.TgZ(0,"td",60),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.visitDate," ")}}function Gq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Bill No "),s.qZA())}function zq(n,t){if(1&n&&(s.TgZ(0,"td",73),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.billNo," ")}}function qq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Amount "),s.qZA())}function $q(n,t){if(1&n&&(s.TgZ(0,"td",67),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.amount," ")}}function Zq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Remarks "),s.qZA())}function Yq(n,t){if(1&n&&(s.TgZ(0,"td",65),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.technicianRemarks," ")}}function Wq(n,t){1&n&&(s.TgZ(0,"th",57),s._uU(1," Address "),s.qZA())}function Kq(n,t){if(1&n&&(s.TgZ(0,"td",65),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.address," ")}}function Qq(n,t){1&n&&s._UZ(0,"tr",77)}function Xq(n,t){1&n&&s._UZ(0,"tr",78)}function Jq(n,t){if(1&n&&(s.TgZ(0,"div",79)(1,"table",80)(2,"tbody")(3,"tr",81)(4,"td"),s._UZ(5,"img",82),s.qZA(),s.TgZ(6,"td",83)(7,"p"),s._uU(8,"AUTHORISED SERVICE PROVIDER"),s.qZA(),s.TgZ(9,"p"),s._uU(10,"Ratna Enterprises"),s.qZA(),s.TgZ(11,"p"),s._uU(12,"501, Gaurishankar CHS Ltd, Near Sidhpura"),s.qZA(),s.TgZ(13,"p"),s._uU(14,"Masrani Lane"),s.qZA()(),s.TgZ(15,"td",84)(16,"h2"),s._uU(17,"FABER"),s.qZA()()(),s.TgZ(18,"tr",85)(19,"td",86),s._uU(20,"Customer Basic Info"),s.qZA()(),s.TgZ(21,"tr",81)(22,"td")(23,"div",87)(24,"h4",88),s._uU(25,"Full Name"),s.qZA(),s.TgZ(26,"span",89),s._uU(27),s.qZA()()(),s.TgZ(28,"td")(29,"div",87)(30,"h4",88),s._uU(31,"Phone No"),s.qZA(),s.TgZ(32,"span",89),s._uU(33),s.qZA()()(),s.TgZ(34,"td")(35,"div",87)(36,"h4",88),s._uU(37,"Complaint No"),s.qZA(),s.TgZ(38,"span",89),s._uU(39),s.qZA()()()(),s.TgZ(40,"tr",81)(41,"td")(42,"div",87)(43,"h4",88),s._uU(44,"Area Address"),s.qZA(),s.TgZ(45,"span",89),s._uU(46),s.qZA()()(),s.TgZ(47,"td")(48,"div",87)(49,"h4",88),s._uU(50,"Address"),s.qZA(),s.TgZ(51,"span",89),s._uU(52),s.qZA()()()(),s.TgZ(53,"tr",85)(54,"td",86),s._uU(55,"Product Details"),s.qZA()(),s.TgZ(56,"tr",81)(57,"td")(58,"div",87)(59,"h4",88),s._uU(60,"Product"),s.qZA(),s.TgZ(61,"span",89),s._uU(62),s.qZA()()(),s.TgZ(63,"td")(64,"div",87)(65,"h4",88),s._uU(66,"Model No"),s.qZA(),s.TgZ(67,"span",89),s._uU(68),s.qZA()()(),s.TgZ(69,"td")(70,"div",87)(71,"h4",88),s._uU(72,"Serial No"),s.qZA(),s.TgZ(73,"span",89),s._uU(74),s.qZA()()()(),s.TgZ(75,"tr",81)(76,"td")(77,"div",87)(78,"h4",88),s._uU(79,"Purchase Date"),s.qZA(),s.TgZ(80,"span",89),s._uU(81),s.qZA()()(),s.TgZ(82,"td")(83,"div",87)(84,"h4",88),s._uU(85,"Call Type"),s.qZA(),s.TgZ(86,"span",89),s._uU(87),s.qZA()()()(),s.TgZ(88,"tr",85)(89,"td",86),s._uU(90,"Technician Details"),s.qZA()(),s.TgZ(91,"tr",81)(92,"td")(93,"div",87)(94,"h4",88),s._uU(95,"Technician Name"),s.qZA(),s._UZ(96,"span",89),s.qZA()(),s.TgZ(97,"td")(98,"div",87)(99,"h4",88),s._uU(100,"Remarks"),s.qZA(),s._UZ(101,"span",89),s.qZA()(),s.TgZ(102,"td")(103,"div",87)(104,"h4",88),s._uU(105,"Bill No"),s.qZA(),s._UZ(106,"span",89),s.qZA()()(),s.TgZ(107,"tr",81)(108,"td")(109,"div",87)(110,"h4",88),s._uU(111,"Amount"),s.qZA(),s._UZ(112,"span",89),s.qZA()(),s.TgZ(113,"td")(114,"div",87)(115,"h4",88),s._uU(116,"Visit Date"),s.qZA(),s._UZ(117,"span",89),s.qZA()()()()()()),2&n){const e=t.$implicit;s.xp6(27),s.Oqu(e.fullName),s.xp6(6),s.Oqu(e.contactNo),s.xp6(6),s.Oqu(e.complaintNo),s.xp6(7),s.Oqu(e.area),s.xp6(6),s.Oqu(e.address),s.xp6(10),s.Oqu(e.productType),s.xp6(6),s.Oqu(e.modelNo),s.xp6(6),s.Oqu(e.serialNo),s.xp6(7),s.Oqu(e.purchaseDate),s.xp6(6),s.Oqu(e.callType)}}const e$=function(){return[5,10,20]};let t$=(()=>{class n{constructor(e,i,r){this.fireStore=e,this.commonService=i,this.router=r,this.displayedColumns=["checkbox","visitDate","complaintno","fullname","phoneno","area","remarks","technicianName","amount","modelno","callType","product","serialno","purchasedate","billno","address","action"],this.displayedFilteredColumns=["visitDate","complaintno","fullname","phoneno","area","remarks","technicianName","amount","modelno","callType","product","serialno","purchasedate","billno","address"],this.dataSource=new sk,this.filteredList=new sk}ngOnInit(){this.fireStore.collection("customerData").get().subscribe(e=>{console.log(e,"data");let i=e.docs.map(r=>{console.log(r.id);let o=r.data();return o.id=r.id,o});console.log(i,"customer list"),null==i||i.map(r=>{let o=null==r?void 0:r.technicalDetails[(null==r?void 0:r.technicalDetails.length)-1];return r.amount=null==o?void 0:o.amount,r.billNo=null==o?void 0:o.billNo,r.technicianName=null==o?void 0:o.technicianName,r.technicianRemarks=null==o?void 0:o.technicianRemarks,r.visitDate=null==o?void 0:o.visitDate,r}),i=this.sortArray(i),this.dataSource=new sk(i)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}editData(e){console.log(e),this.commonService.customerData=e,this.router.navigate(["customerdetail"])}delete(e,i){console.log(e),confirm("Are you sure you want to delete")&&(this.fireStore.doc("customerData/"+e.id).delete(),this.dataSource.data.splice(i,1),this.dataSource.filter="")}selectVal(e,i){console.log(i,e);let r=this.filteredList.data.findIndex(o=>o.id==i.id);console.log(r),e&&i?(this.filteredList.data.push(i),this.filteredList.filter=""):-1!=r&&(this.filteredList.data.splice(r,1),this.filteredList.filter="")}downloadSelected(e){let i=prompt("Please enter password to download");i&&"Admin@123"==i&&e.exportTable("xlsx",{fileName:"AK_enterprise"})}downloadAll(){let e=prompt("Please enter password to download");if(e&&"Admin@123"==e){const o=[this.displayedColumns.join(","),...this.dataSource.data.map(_=>this.displayedColumns.map(b=>_[b]).join(","))].join("\n"),u=new Blob([o],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.href=URL.createObjectURL(u),h.download="AK_enterprise.csv",h.click(),h.remove()}else alert("Password is incorrect")}sortArray(e){return e.sort((i,r)=>{var o=i.visitDate.split("/"),u=o[2]+"-"+o[1]+"-"+o[0],h=r.visitDate.split("/"),_=h[2]+"-"+h[1]+"-"+h[0],b=new Date(u).valueOf();return new Date(_).valueOf()-b})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sy),s.Y36(Ny),s.Y36(xr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["customer-info"]],decls:132,vars:10,consts:[[1,"customer-list-wrapper"],[1,"container-fluid"],[1,"page-title","mb-5"],[1,"font-muli"],["routerLink","/dashboard"],[1,"clearfix"],[1,"float-left"],["mat-raised-button","",1,"download-all",3,"click"],[4,"ngIf"],[1,"float-right","filter-field"],["matInput","","placeholder","Search by: Name, Email, Status...",3,"keyup"],["input",""],["matSuffix",""],[1,"mat-elevation-z8","mt-3","mat-table-wrapper"],["mat-table","",3,"dataSource"],["matColumnDef","checkbox"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","data-label","Select",4,"matCellDef"],["matColumnDef","visitDate"],["mat-cell","","data-label","Visit Date",4,"matCellDef"],["matColumnDef","complaintno"],["mat-cell","","data-label","Complaint No",4,"matCellDef"],["matColumnDef","fullname"],["mat-cell","","data-label","FullName",4,"matCellDef"],["matColumnDef","phoneno"],["mat-cell","","data-label","Phone No",4,"matCellDef"],["matColumnDef","area"],["mat-cell","","data-label","Area",4,"matCellDef"],["matColumnDef","remarks"],["mat-cell","","data-label","Remarks",4,"matCellDef"],["matColumnDef","technicianName"],["mat-cell","","data-label","Technician Name",4,"matCellDef"],["matColumnDef","amount"],["mat-cell","","data-label","Amount",4,"matCellDef"],["matColumnDef","modelno"],["mat-cell","","data-label","Model No",4,"matCellDef"],["matColumnDef","callType"],["mat-cell","","data-label","Call Type",4,"matCellDef"],["matColumnDef","product"],["mat-cell","","data-label","Product Type",4,"matCellDef"],["matColumnDef","serialno"],["mat-cell","","data-label","Serial No",4,"matCellDef"],["matColumnDef","purchasedate"],["mat-cell","","data-label","Purchase Date",4,"matCellDef"],["matColumnDef","billno"],["mat-cell","","data-label","Bill No",4,"matCellDef"],["matColumnDef","address"],["matColumnDef","action"],["mat-cell","","data-label","Action",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[1,"hidden-mat-table","d-none"],[1,"mat-elevation-z8","mt-3"],["mat-table","","matTableExporter","",3,"dataSource"],["id","print-section",1,"container","d-none"],["class","repeat",4,"ngFor","ngForOf"],["mat-header-cell",""],["mat-cell","","data-label","Select"],[1,"example-margin",3,"change"],["mat-cell","","data-label","Visit Date"],["mat-cell","","data-label","Complaint No"],["mat-cell","","data-label","FullName"],["mat-cell","","data-label","Phone No"],["mat-cell","","data-label","Area"],["mat-cell","","data-label","Remarks"],["mat-cell","","data-label","Technician Name"],["mat-cell","","data-label","Amount"],["mat-cell","","data-label","Model No"],["mat-cell","","data-label","Call Type"],["mat-cell","","data-label","Product Type"],["mat-cell","","data-label","Serial No"],["mat-cell","","data-label","Purchase Date"],["mat-cell","","data-label","Bill No"],["mat-cell","","data-label","Action"],[1,"edit","pointer",3,"click"],[1,"pointer",3,"click"],["mat-header-row",""],["mat-row",""],[1,"repeat"],[1,"tableprint"],[1,"row-data"],["src","/assets/imgs/logo.jpg","alt","Ratna Enterprises",2,"width","100px"],[1,"address"],[1,"faber"],[1,"row-head"],["colspan","3"],[1,"data-wrapper"],[1,"label"],[1,"info"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3)(4,"mat-icon"),s._uU(5,"list"),s.qZA(),s.TgZ(6,"span",4),s._uU(7,"Dashboard"),s.qZA(),s._uU(8," / "),s.TgZ(9,"span"),s._uU(10,"Customer Data"),s.qZA()()(),s.TgZ(11,"div",5)(12,"div",6)(13,"button",7),s.NdJ("click",function(){return i.downloadAll()}),s._uU(14,"Download All"),s.qZA(),s.YNc(15,Bz,1,0,"ng-container",8),s.qZA(),s.TgZ(16,"div",9)(17,"mat-form-field")(18,"mat-label"),s._uU(19,"Filter"),s.qZA(),s.TgZ(20,"input",10,11),s.NdJ("keyup",function(o){return i.applyFilter(o)}),s.qZA(),s.TgZ(22,"mat-icon",12),s._uU(23,"filter_alt"),s.qZA()()()(),s.TgZ(24,"div",13)(25,"table",14),s.ynx(26,15),s.YNc(27,Vz,2,0,"th",16),s.YNc(28,Uz,2,0,"td",17),s.BQk(),s.ynx(29,18),s.YNc(30,Hz,2,0,"th",16),s.YNc(31,jz,2,1,"td",19),s.BQk(),s.ynx(32,20),s.YNc(33,Gz,2,0,"th",16),s.YNc(34,zz,2,1,"td",21),s.BQk(),s.ynx(35,22),s.YNc(36,qz,2,0,"th",16),s.YNc(37,$z,2,1,"td",23),s.BQk(),s.ynx(38,24),s.YNc(39,Zz,2,0,"th",16),s.YNc(40,Yz,2,1,"td",25),s.BQk(),s.ynx(41,26),s.YNc(42,Wz,2,0,"th",16),s.YNc(43,Kz,2,1,"td",27),s.BQk(),s.ynx(44,28),s.YNc(45,Qz,2,0,"th",16),s.YNc(46,Xz,2,1,"td",29),s.BQk(),s.ynx(47,30),s.YNc(48,Jz,2,0,"th",16),s.YNc(49,eq,2,1,"td",31),s.BQk(),s.ynx(50,32),s.YNc(51,tq,2,0,"th",16),s.YNc(52,nq,2,1,"td",33),s.BQk(),s.ynx(53,34),s.YNc(54,iq,2,0,"th",16),s.YNc(55,rq,2,1,"td",35),s.BQk(),s.ynx(56,36),s.YNc(57,sq,2,0,"th",16),s.YNc(58,oq,2,1,"td",37),s.BQk(),s.ynx(59,38),s.YNc(60,aq,2,0,"th",16),s.YNc(61,lq,2,1,"td",39),s.BQk(),s.ynx(62,40),s.YNc(63,cq,2,0,"th",16),s.YNc(64,uq,2,1,"td",41),s.BQk(),s.ynx(65,42),s.YNc(66,dq,2,0,"th",16),s.YNc(67,hq,2,1,"td",43),s.BQk(),s.ynx(68,44),s.YNc(69,fq,2,0,"th",16),s.YNc(70,pq,2,1,"td",45),s.BQk(),s.ynx(71,46),s.YNc(72,mq,2,0,"th",16),s.YNc(73,gq,2,1,"td",29),s.BQk(),s.ynx(74,47),s.YNc(75,_q,2,0,"th",16),s.YNc(76,yq,5,0,"td",48),s.BQk(),s.YNc(77,vq,1,0,"tr",49),s.YNc(78,bq,1,0,"tr",50),s.qZA(),s._UZ(79,"mat-paginator",51),s.qZA()(),s.TgZ(80,"div",52)(81,"div",53)(82,"table",54),s.ynx(83,22),s.YNc(84,Cq,2,0,"th",16),s.YNc(85,wq,2,1,"td",23),s.BQk(),s.ynx(86,24),s.YNc(87,Dq,2,0,"th",16),s.YNc(88,Eq,2,1,"td",25),s.BQk(),s.ynx(89,20),s.YNc(90,Tq,2,0,"th",16),s.YNc(91,Iq,2,1,"td",21),s.BQk(),s.ynx(92,26),s.YNc(93,Mq,2,0,"th",16),s.YNc(94,Aq,2,1,"td",27),s.BQk(),s.ynx(95,38),s.YNc(96,Sq,2,0,"th",16),s.YNc(97,xq,2,1,"td",39),s.BQk(),s.ynx(98,36),s.YNc(99,kq,2,0,"th",16),s.YNc(100,Rq,2,1,"td",37),s.BQk(),s.ynx(101,34),s.YNc(102,Oq,2,0,"th",16),s.YNc(103,Pq,2,1,"td",35),s.BQk(),s.ynx(104,40),s.YNc(105,Fq,2,0,"th",16),s.YNc(106,Nq,2,1,"td",41),s.BQk(),s.ynx(107,42),s.YNc(108,Lq,2,0,"th",16),s.YNc(109,Bq,2,1,"td",43),s.BQk(),s.ynx(110,30),s.YNc(111,Vq,2,0,"th",16),s.YNc(112,Uq,2,1,"td",31),s.BQk(),s.ynx(113,18),s.YNc(114,Hq,2,0,"th",16),s.YNc(115,jq,2,1,"td",19),s.BQk(),s.ynx(116,44),s.YNc(117,Gq,2,0,"th",16),s.YNc(118,zq,2,1,"td",45),s.BQk(),s.ynx(119,32),s.YNc(120,qq,2,0,"th",16),s.YNc(121,$q,2,1,"td",33),s.BQk(),s.ynx(122,28),s.YNc(123,Zq,2,0,"th",16),s.YNc(124,Yq,2,1,"td",29),s.BQk(),s.ynx(125,46),s.YNc(126,Wq,2,0,"th",16),s.YNc(127,Kq,2,1,"td",29),s.BQk(),s.YNc(128,Qq,1,0,"tr",49),s.YNc(129,Xq,1,0,"tr",50),s.qZA()()(),s.TgZ(130,"div",55),s.YNc(131,Jq,118,10,"div",56),s.qZA()()),2&e&&(s.xp6(15),s.Q6J("ngIf",i.filteredList&&i.filteredList.data.length),s.xp6(10),s.Q6J("dataSource",i.dataSource),s.xp6(52),s.Q6J("matHeaderRowDef",i.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedColumns),s.xp6(1),s.Q6J("pageSizeOptions",s.DdM(9,e$)),s.xp6(3),s.Q6J("dataSource",i.filteredList),s.xp6(46),s.Q6J("matHeaderRowDef",i.displayedFilteredColumns),s.xp6(1),s.Q6J("matRowDefColumns",i.displayedFilteredColumns),s.xp6(2),s.Q6J("ngForOf",i.filteredList.data))},directives:[QC,Py,Af,gi,ew,qy,Fx,VP,OF,nk,tk,ik,ek,rk,HF,PF,NF,FF,LF,Lz,Gn],styles:[".customer-list-wrapper[_ngcontent-%COMP%]{min-height:100%;padding-top:70px;background-color:#f2edf3}.customer-list-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin:2rem 0 0}.customer-list-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:35px;height:35px;margin-right:15px;border-radius:100%;background-color:#ffe20b;line-height:35px;vertical-align:middle;text-align:center}.customer-list-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;letter-spacing:.5px}.customer-list-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;font-weight:700}.customer-list-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#ffe20b}.customer-list-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{cursor:auto}.customer-list-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child:hover{color:#000}.customer-list-wrapper[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{overflow:auto}.customer-list-wrapper[_ngcontent-%COMP%]   .float-left[_ngcontent-%COMP%]{float:left}.customer-list-wrapper[_ngcontent-%COMP%]   .float-right[_ngcontent-%COMP%]{float:right}.customer-list-wrapper[_ngcontent-%COMP%]   .excel-print[_ngcontent-%COMP%]{margin-right:10px}.customer-list-wrapper[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:240px}.customer-list-wrapper[_ngcontent-%COMP%]   .download-all[_ngcontent-%COMP%]{margin-right:10px}.customer-list-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{width:100%;background-color:#fff}.customer-list-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:14px;font-weight:700;letter-spacing:1px;color:#000;border-spacing:5px}.customer-list-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .customer-list-wrapper[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-footer-cell[_ngcontent-%COMP%]{color:#000}.customer-list-wrapper[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%]{background-color:#fff;color:#000}.customer-list-wrapper[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{margin-right:15px}.customer-list-wrapper[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}  .mat-form-field .mat-form-field-label{color:#000}  .mat-form-field .mat-form-field-underline{background-color:#000}  .mat-form-field .mat-select-value{color:#000}  .mat-form-field .mat-input-element::placeholder{color:#000}  .mat-form-field .mat-select-arrow{color:#000}  .mat-checkbox-frame{border-color:#000}.tableprint[_ngcontent-%COMP%]{width:100%;border:1px solid #000}.tableprint[_ngcontent-%COMP%]   .row-head[_ngcontent-%COMP%], .tableprint[_ngcontent-%COMP%]   .row-head[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:100%;font-size:18px;padding:10px;background-color:#000;color:#fff;-webkit-print-color-adjust:exact!important}.tableprint[_ngcontent-%COMP%]   .row-data[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:33.33%;border-right:1px solid #000;border-bottom:1px solid #000;vertical-align:top}.tableprint[_ngcontent-%COMP%]   .data-wrapper[_ngcontent-%COMP%]{margin-bottom:15px}.repeat[_ngcontent-%COMP%]{page-break-before:always}.mat-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;max-width:calc(100vw - 40px)}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll;max-width:99%}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:initial;display:table-cell;padding:0 10px;line-break:unset;width:100%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-row[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%]{display:table-row}"]}),n})();const n$=["*",[["mat-card-footer"]]],i$=["*","mat-card-footer"];let r$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),s$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),o$=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ys,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:i$,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(n$),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),KF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ln],ln]}),n})();function a$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-card",5),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().viewCustomerData(o)}),s.TgZ(1,"mat-card-title"),s._uU(2),s.qZA(),s.TgZ(3,"mat-card-subtitle"),s._uU(4),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(null==e?null:e.fullName),s.xp6(2),s.Oqu(null==e?null:e.visitDate)}}let l$=(()=>{class n{constructor(e,i,r){this.fireStore=e,this.commonService=i,this.router=r,this.customerDataList=[],this.messageEvent=new s.vpe}ngOnInit(){this.fetchUserData()}fetchUserData(){this.fireStore.collection("customerData").get().subscribe(e=>{var i;console.log(e,"data"),this.customerDataList=e.docs.map(r=>{console.log(r.id);let o=r.data();return o.id=r.id,o}),console.log(this.customerDataList,"customer list"),null===(i=this.customerDataList)||void 0===i||i.map(r=>{let o=null==r?void 0:r.technicalDetails[(null==r?void 0:r.technicalDetails.length)-1];return r.amount=null==o?void 0:o.amount,r.billNo=null==o?void 0:o.billNo,r.technicianName=null==o?void 0:o.technicianName,r.technicianRemarks=null==o?void 0:o.technicianRemarks,r.visitDate=null==o?void 0:o.visitDate,r}),this.customerDataList=this.customerDataList.filter(r=>{if(null==r?void 0:r.visitDate){const o=this.parseDate(r.visitDate),u=new Date,h=Math.floor((u-o)/864e5);return h>=90&&h<=100}return r})}),console.log(this.customerDataList,"customer detail notif")}parseDate(e){const[i,r,o]=e.split("/").map(Number);return new Date(o,r-1,i)}closePanel(){this.messageEvent.emit(!1)}viewCustomerData(e){this.commonService.customerData=e,this.messageEvent.emit(!1),this.router.navigate(["customerdetail"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sy),s.Y36(Ny),s.Y36(xr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["notifications"]],outputs:{messageEvent:"messageEvent"},decls:6,vars:1,consts:[[1,"notifications-wrapper"],[1,"clearfix"],[1,"close-panel"],[3,"click"],["class","notification-item",3,"click",4,"ngFor","ngForOf"],[1,"notification-item",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),s.NdJ("click",function(){return i.closePanel()}),s._uU(4,"close"),s.qZA()()(),s.YNc(5,a$,5,2,"mat-card",4),s.qZA()),2&e&&(s.xp6(5),s.Q6J("ngForOf",i.customerDataList))},directives:[QC,Gn,o$,r$,s$],styles:[".close-panel[_ngcontent-%COMP%]{text-align:right}.close-panel[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer}.notification-item[_ngcontent-%COMP%]{margin:0 0 10px;background-color:#ffe20b}"]}),n})();const c$=function(n){return{"view-panel":n}};function u$(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",16)(2,"notifications",17),s.NdJ("messageEvent",function(r){return s.CHM(e),s.oxw().panelTrigger(r)}),s.qZA()(),s.BQk()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngClass",s.VKq(1,c$,e.viewNotificationsBar))}}const d$=function(n){return{"view-notification":n}};let h$=(()=>{class n{constructor(e,i){this.router=e,this.commonService=i,this.viewNotificationsBar=!1}ngOnInit(){}openLink(e){this.router.navigate([e]),this.commonService.customerData=null}viewNotifications(){console.log("view"),this.viewNotificationsBar=!0}panelTrigger(e){this.viewNotificationsBar=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xr),s.Y36(Ny))},n.\u0275cmp=s.Xpm({type:n,selectors:[["dashboard"]],decls:47,vars:4,consts:[[1,"dashboard-wrapper",3,"ngClass"],[1,"container"],[1,"page-title"],[1,"clearfix"],[1,"float-start"],[1,"font-muli"],[1,"float-end"],[1,"notifications-icon",3,"click"],[1,"dashboard-list"],[1,"row"],[1,"col-xl-4","col-lg-5","col-md-6","col-sm-6","mb-4"],[1,"list-wrapper",3,"click"],[1,"float-left"],[1,"float-right"],[1,"icon"],[4,"ngIf"],[1,"notification-sidebar-wrapper",3,"ngClass"],[3,"messageEvent"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5)(6,"mat-icon"),s._uU(7,"home"),s.qZA(),s.TgZ(8,"span"),s._uU(9,"Dashboard"),s.qZA()()(),s.TgZ(10,"div",6)(11,"span",7),s.NdJ("click",function(){return i.viewNotifications()}),s.TgZ(12,"mat-icon"),s._uU(13,"notifications"),s.qZA()()()()(),s.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),s.NdJ("click",function(){return i.openLink("customerdetail")}),s.TgZ(18,"div",3)(19,"div",12)(20,"h3"),s._uU(21,"Add Customer Detail"),s.qZA()(),s.TgZ(22,"div",13)(23,"div",14)(24,"mat-icon"),s._uU(25,"article"),s.qZA()()()()()(),s.TgZ(26,"div",10)(27,"div",11),s.NdJ("click",function(){return i.openLink("customerinfo")}),s.TgZ(28,"div",3)(29,"div",12)(30,"h3"),s._uU(31,"Customer Info"),s.qZA()(),s.TgZ(32,"div",13)(33,"div",14)(34,"mat-icon"),s._uU(35,"list"),s.qZA()()()()()(),s.TgZ(36,"div",10)(37,"div",11),s.NdJ("click",function(){return i.openLink("editproductInfo")}),s.TgZ(38,"div",3)(39,"div",12)(40,"h3"),s._uU(41,"Edit Product Info"),s.qZA()(),s.TgZ(42,"div",13)(43,"div",14)(44,"mat-icon"),s._uU(45,"edit"),s.qZA()()()()()()()()()(),s.YNc(46,u$,3,3,"ng-container",15)),2&e&&(s.Q6J("ngClass",s.VKq(2,d$,i.viewNotificationsBar)),s.xp6(46),s.Q6J("ngIf",i.viewNotificationsBar))},directives:[Ji,QC,gi,l$],styles:['.dashboard-wrapper[_ngcontent-%COMP%]{min-height:100%;padding-top:70px;background-color:#f2edf3}.dashboard-wrapper.view-notification[_ngcontent-%COMP%]:before{content:"";position:fixed;inset:0;width:100%;height:100vh;background-color:#00000080}.page-title[_ngcontent-%COMP%]{margin:2rem 0 0}.page-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:35px;height:35px;margin-right:15px;border-radius:100%;background-color:#ffe20b;line-height:35px;vertical-align:middle;text-align:center}.page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;letter-spacing:.5px}.page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;font-weight:700}.page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#ffe20b}.page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{cursor:auto}.page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child:hover{color:#000}.dashboard-list[_ngcontent-%COMP%]{margin:3rem 0}.dashboard-list[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]{height:200px;padding:1.5rem;border-radius:6px;box-shadow:1px 2px 3px #a3a3a3;background:url(/assets/imgs/circle.svg) no-repeat 100% 100% #FFE20B;cursor:pointer;transition:all .25s ease-in-out}.dashboard-list[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{overflow:none}.dashboard-list[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]   .float-left[_ngcontent-%COMP%]{float:left}.dashboard-list[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]   .float-right[_ngcontent-%COMP%]{float:right}.dashboard-list[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;letter-spacing:1px;transition:all .25s ease-in-out}.dashboard-list[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:1rem 0 0;display:block}.dashboard-list[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:30px;color:#fff;transition:all .25s ease-in-out}.dashboard-list[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]:hover{transition:all .25s ease-in-out;box-shadow:1px 3px 5px #535353}.dashboard-list[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%], .dashboard-list[_ngcontent-%COMP%]   .list-wrapper[_ngcontent-%COMP%]:hover   .mat-icon[_ngcontent-%COMP%]{color:#000;transition:all .25s ease-in-out}.notification-sidebar-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;right:0;width:calc(100vw - 75%);height:100vh;transform:translate(28vw);display:none;transition:all .3s linear;background-color:#fff;padding:15px;overflow-x:auto}.notification-sidebar-wrapper.view-panel[_ngcontent-%COMP%]{display:block;transform:translate(0)}']}),n})();const f$=["*"],QF=new s.OlP("MatChipRemove"),XF=new s.OlP("MatChipAvatar"),JF=new s.OlP("MatChipTrailingIcon");class p${constructor(t){this._elementRef=t}}const m$=Gy(Ef(jy(p$),"primary"),-1);let RI=(()=>{class n extends m${constructor(e,i,r,o,u,h,_,b){super(e),this._ngZone=i,this._changeDetectorRef=u,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new mt.x,this._onBlur=new mt.x,this.selectionChange=new s.vpe,this.destroyed=new s.vpe,this.removed=new s.vpe,this._addHostClassName(),this._chipRippleTarget=h.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new yP(this,i,this._chipRippleTarget,r),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=o||{},this._animationsDisabled="NoopAnimations"===_,this.tabIndex=null!=b&&parseInt(b)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const i=yt(e);i!==this._selected&&(this._selected=i,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=yt(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=yt(e)}get removable(){return this._removable}set removable(e){this._removable=yt(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",i=this._elementRef.nativeElement;i.hasAttribute(e)||i.tagName.toLowerCase()===e?i.classList.add(e):i.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case 46:case 8:this.remove(),e.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe(xn(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(gr),s.Y36(vP,8),s.Y36(s.sBO),s.Y36(Q),s.Y36(Ys,8),s.$8M("tabindex"))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,XF,5),s.Suo(r,JF,5),s.Suo(r,QF,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.avatar=o.first),s.iGM(o=s.CRH())&&(i.trailingIcon=o.first),s.iGM(o=s.CRH())&&(i.removeIcon=o.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i.focus()})("blur",function(){return i._blur()}),2&e&&(s.uIk("tabindex",i.disabled?null:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString())("aria-selected",i.ariaSelected),s.ekj("mat-chip-selected",i.selected)("mat-chip-with-avatar",i.avatar)("mat-chip-with-trailing-icon",i.trailingIcon||i.removeIcon)("mat-chip-disabled",i.disabled)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[s.qOj]}),n})(),eN=(()=>{class n{constructor(e,i){this._parentChip=e,"BUTTON"===i.nativeElement.nodeName&&i.nativeElement.setAttribute("type","button")}_handleClick(e){const i=this._parentChip;i.removable&&!i.disabled&&i.remove(),e.stopPropagation(),e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(RI),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})},features:[s._Bn([{provide:QF,useExisting:n}])]}),n})();const tN=new s.OlP("mat-chips-default-options");let y$=0,nN=(()=>{class n{constructor(e,i){this._elementRef=e,this._defaultOptions=i,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new s.vpe,this.placeholder="",this.id="mat-chip-list-input-"+y$++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement}set chipList(e){e&&(this._chipList=e,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(e){this._addOnBlur=yt(e)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(e){this._disabled=yt(e)}get empty(){return!this.inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(e){if(e){if(9===e.keyCode&&!Is(e,"shiftKey")&&this._chipList._allowFocusEscape(),8===e.keyCode&&this._focusLastChipOnBackspace)return this._chipList._keyManager.setLastItemActive(),void e.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(e)}_keyup(e){!this._focusLastChipOnBackspace&&8===e.keyCode&&this.empty&&(this._focusLastChipOnBackspace=!0,e.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipList.stateChanges.next()}_emitChipEnd(e){!this.inputElement.value&&!!e&&this._chipList._keydown(e),(!e||this._isSeparatorKey(e))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),null==e||e.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(e){this.inputElement.focus(e)}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}_isSeparatorKey(e){return!Is(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(tN))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._keydown(o)})("keyup",function(o){return i._keyup(o)})("blur",function(){return i._blur()})("focus",function(){return i._focus()})("input",function(){return i._onInput()}),2&e&&(s.Ikx("id",i.id),s.uIk("disabled",i.disabled||null)("placeholder",i.placeholder||null)("aria-invalid",i._chipList&&i._chipList.ngControl?i._chipList.ngControl.invalid:null)("aria-required",i._chipList&&i._chipList.required||null))},inputs:{chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[s.TTD]}),n})();const v$=vx(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let b$=0;class C${constructor(t,e){this.source=t,this.value=e}}let iN=(()=>{class n extends v${constructor(e,i,r,o,u,h,_){super(h,o,u,_),this._elementRef=e,this._changeDetectorRef=i,this._dir=r,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new mt.x,this._uid="mat-chip-list-"+b$++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(b,T)=>b===T,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=yt(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var e,i,r,o;return null!==(o=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(_n.required))&&void 0!==o&&o}set required(e){this._required=yt(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=yt(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=yt(e),this.chips&&this.chips.forEach(i=>i.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,cn.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,cn.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,cn.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,cn.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new jV(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Ln(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe(Ln(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Tr(null),Ln(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new aF(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const i=e.target;i&&i.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,i=!0){if(this._clearSelection(),this.chips.forEach(r=>r.deselect()),Array.isArray(e))e.forEach(r=>this._selectValue(r,i)),this._sortValues();else{const r=this._selectValue(e,i);r&&i&&this._keyManager.setActiveItem(r)}}_selectValue(e,i=!0){const r=this.chips.find(o=>null!=o.value&&this._compareWith(o.value,e));return r&&(i?r.selectViaInteraction():r.select(),this._selectionModel.select(r)),r}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(i=>{i!==e&&i.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let i=null;i=Array.isArray(this.selected)?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.change.emit(new C$(this,i)),this.valueChange.emit(i),this._onChange(i),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(i=>{!this._selectionModel.isSelected(i)&&i.selected&&i.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let i=this.chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&this._keyManager.updateActiveItem(i),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const i=e.chip,r=this.chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&i._hasFocus&&(this._lastDestroyedChipIndex=r)})}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-chip"))return!0;i=i.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36($s,8),s.Y36(vc,8),s.Y36(Ca,8),s.Y36(ZC),s.Y36(nr,10))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-chip-list"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,RI,5),2&e){let o;s.iGM(o=s.CRH())&&(i.chips=o)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(o){return i._keydown(o)}),2&e&&(s.Ikx("id",i._uid),s.uIk("tabindex",i.disabled?null:i._tabIndex)("aria-describedby",i._ariaDescribedby||null)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-multiselectable",i.multiple)("role",i.role)("aria-orientation",i.ariaOrientation),s.ekj("mat-chip-list-disabled",i.disabled)("mat-chip-list-invalid",i.errorState)("mat-chip-list-required",i.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[s._Bn([{provide:XC,useExisting:n}]),s.qOj],ngContentSelectors:f$,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),n})(),rN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ZC,{provide:tN,useValue:{separatorKeyCodes:[13]}}],imports:[[ln]]}),n})();function w$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-chip",21),s.NdJ("removed",function(){const o=s.CHM(e).$implicit;return s.oxw().remove(o)}),s._uU(1),s.TgZ(2,"button",22)(3,"mat-icon"),s._uU(4,"cancel"),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.name," ")}}function D$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-chip",21),s.NdJ("removed",function(){const o=s.CHM(e).$implicit;return s.oxw().removeCallType(o)}),s._uU(1),s.TgZ(2,"button",22)(3,"mat-icon"),s._uU(4,"cancel"),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",null==e?null:e.name," ")}}let E$=(()=>{class n{constructor(e,i,r){this.fireStore=e,this.commonService=i,this.router=r,this.addOnBlur=!0,this.addOnBlur2=!0,this.separatorKeysCodes=[13,188],this.spareList=[],this.callTypeList=[]}ngOnInit(){this.fireStore.collection("editproduct").get().subscribe(e=>{var i,r,o;this.editProductInfoData=null==e?void 0:e.docs.map(u=>u.data()),this.editProductInfoData.docId=null===(i=null==e?void 0:e.docs.map(u=>u.id))||void 0===i?void 0:i.toString(),this.spareList=null===(r=this.editProductInfoData[0])||void 0===r?void 0:r.spareItem,this.callTypeList=null===(o=this.editProductInfoData[0])||void 0===o?void 0:o.callTypeItem,console.log(this.editProductInfoData)})}add(e){const i=(e.value||"").trim();i&&this.spareList.push({name:i}),e.chipInput.clear()}remove(e){const i=this.spareList.indexOf(e);i>=0&&this.spareList.splice(i,1)}addCallType(e){const i=(e.value||"").trim();i&&this.callTypeList.push({name:i}),e.chipInput.clear()}removeCallType(e){const i=this.callTypeList.indexOf(e);i>=0&&this.callTypeList.splice(i,1)}saveProductData(){var e,i;(null===(e=this.editProductInfoData)||void 0===e?void 0:e.docId)&&this.fireStore.collection("editproduct").doc(null===(i=this.editProductInfoData)||void 0===i?void 0:i.docId).set({spareItem:this.spareList,callTypeItem:this.callTypeList})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sy),s.Y36(Ny),s.Y36(xr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["edit-product-info"]],decls:38,vars:8,consts:[[1,"customer-detail-wrapper"],[1,"container"],[1,"page-title"],[1,"font-muli"],["routerLink","/dashboard"],[1,"customer-detail-form"],[1,"heading"],[1,"row"],[1,"col-6"],[1,"field-holder"],["appearance","fill",1,"example-chip-list"],["aria-label","Spare"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","Add new spares...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["aria-label","Call Type"],["chipList2",""],["placeholder","Add new call type...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[1,"clearfix","button-wrapper"],[1,"float-right"],["mat-raised-button","","color","accent","type","button",3,"click"],[3,"removed"],["matChipRemove",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3)(4,"mat-icon"),s._uU(5,"edit"),s.qZA(),s.TgZ(6,"span",4),s._uU(7,"Dashboard"),s.qZA(),s._uU(8," / "),s.TgZ(9,"span"),s._uU(10,"Edit Product Info"),s.qZA()()(),s.TgZ(11,"div",5)(12,"section")(13,"h2",6),s._uU(14,"Edit Product Info"),s.qZA(),s.TgZ(15,"div",7)(16,"div",8)(17,"div",9)(18,"mat-form-field",10)(19,"mat-label"),s._uU(20,"Spare"),s.qZA(),s.TgZ(21,"mat-chip-list",11,12),s.YNc(23,w$,5,1,"mat-chip",13),s.TgZ(24,"input",14),s.NdJ("matChipInputTokenEnd",function(o){return i.add(o)}),s.qZA()()()()(),s.TgZ(25,"div",8)(26,"div",9)(27,"mat-form-field",10)(28,"mat-label"),s._uU(29,"Call Type"),s.qZA(),s.TgZ(30,"mat-chip-list",15,16),s.YNc(32,D$,5,1,"mat-chip",13),s.TgZ(33,"input",17),s.NdJ("matChipInputTokenEnd",function(o){return i.addCallType(o)}),s.qZA()()()()()()(),s.TgZ(34,"div",18)(35,"div",19)(36,"button",20),s.NdJ("click",function(){return i.saveProductData()}),s._uU(37,"Save"),s.qZA()()()()()()),2&e){const r=s.MAs(22),o=s.MAs(31);s.xp6(23),s.Q6J("ngForOf",i.spareList),s.xp6(1),s.Q6J("matChipInputFor",r)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matChipInputAddOnBlur",i.addOnBlur),s.xp6(8),s.Q6J("ngForOf",i.callTypeList),s.xp6(1),s.Q6J("matChipInputFor",o)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matChipInputAddOnBlur",i.addOnBlur2)}},directives:[QC,Py,ew,qy,iN,Gn,RI,eN,nN,Af],styles:[".customer-detail-wrapper[_ngcontent-%COMP%]{min-height:100%;padding-top:70px;background-color:#f2edf3}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin:2rem 0 0}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:35px;height:35px;margin-right:15px;border-radius:100%;background-color:#ffe20b;line-height:35px;vertical-align:middle;text-align:center}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;letter-spacing:.5px}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;font-weight:700}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#ffe20b}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{cursor:auto}.customer-detail-wrapper[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child:hover{color:#000}.customer-detail-form[_ngcontent-%COMP%]{margin-top:30px;background-color:#fff}.customer-detail-form[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{overflow:auto}.customer-detail-form[_ngcontent-%COMP%]   .float-left[_ngcontent-%COMP%]{float:left}.customer-detail-form[_ngcontent-%COMP%]   .float-right[_ngcontent-%COMP%]{float:right}.customer-detail-form[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-bottom:20px}.customer-detail-form[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:last-child{border-bottom:none}.customer-detail-form[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{padding:10px;background-color:#ffe20b}.customer-detail-form[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]{padding:10px 25px}.customer-detail-form[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field{width:100%}.customer-detail-form[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field .mat-form-field-label{color:#000}.customer-detail-form[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field .mat-form-field-underline{background-color:#000}.customer-detail-form[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field .mat-select-value{color:#000}.customer-detail-form[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{padding:10px 15px}.customer-detail-form[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   .form-invalid[_ngcontent-%COMP%]{opacity:.5}.visit-date[_ngcontent-%COMP%]{pointer-events:none}  .mat-focus-indicator.mat-icon-button.mat-button-base{color:#000}.tech-detail[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{box-shadow:0 2px 3px #b6b6b6;margin:0 0 15px}"]}),n})(),T$=(()=>{class n{constructor(e){this.afAuth=e}login(e,i){return this.afAuth.signInWithEmailAndPassword(e,i)}logout(){return this.afAuth.signOut()}user$(){return this.afAuth.authState}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I$=function(n){return{"form-invalid":n}},M$=[{path:"",component:(()=>{class n{constructor(e,i,r){this.auth=e,this.firestore=i,this.router=r,this.email="",this.password="",this.message="",this.loginForm=new sh({userName:new Vn(null,[_n.required]),password:new Vn(null,[_n.required])})}onLogin(){var e=this;return(0,Z.Z)(function*(){e.message="";try{yield e.auth.login(e.email.trim(),e.password),e.message="Logged in successfully"}catch(i){e.message=(null==i?void 0:i.message)||"Login failed",console.error(i)}})()}onLogout(){var e=this;return(0,Z.Z)(function*(){yield e.auth.logout(),e.message="Logged out"})()}login(e){var i=this;return(0,Z.Z)(function*(){if(e.valid){let r=[];console.log(i.firestore,"firestore"),i.firestore.collection("users").get().subscribe(o=>{if(r=o.docs.map(u=>u.data()),r&&r.length){let u=r.find(h=>{if(h.userName==e.value.userName&&h.password==e.value.password)return h});u?(i.router.navigate(["dashboard"]),sessionStorage.setItem("isLogin","Y")):alert("Username or Password Incorrect"),console.log(u,"validate")}})}})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(T$),s.Y36(Sy),s.Y36(xr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:22,vars:4,consts:[[1,"login-wrapper"],[1,"container"],[1,"row","justify-content-center","align-items-center"],[1,"col-4"],[1,"login-body"],[3,"formGroup"],[1,"field-holder"],["appearance","legacy"],["matInput","","type","text","formControlName","userName"],["matInput","","type","password","formControlName","password"],[1,"clearfix","button-wrapper"],[1,"float-right"],["mat-raised-button","","color","accent","type","button",3,"ngClass","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4"),s._uU(6,"Login"),s.qZA(),s.TgZ(7,"form",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),s._uU(11,"Full Name"),s.qZA(),s._UZ(12,"input",8),s.qZA()(),s.TgZ(13,"div",6)(14,"mat-form-field",7)(15,"mat-label"),s._uU(16,"Password"),s.qZA(),s._UZ(17,"input",9),s.qZA()(),s.TgZ(18,"div",10)(19,"div",11)(20,"button",12),s.NdJ("click",function(){return i.login(i.loginForm)}),s._uU(21,"Login"),s.qZA()()()()()()()()()),2&e&&(s.xp6(7),s.Q6J("formGroup",i.loginForm),s.xp6(13),s.Q6J("ngClass",s.VKq(2,I$,i.loginForm.invalid)))},directives:[Bi,Go,Ca,ew,qy,Fx,Vo,Br,zu,Af,Ji],styles:[".login-wrapper[_ngcontent-%COMP%]{min-height:100%;padding-top:70px;background-color:#f2edf3}.login-body[_ngcontent-%COMP%]{padding:15px;background-color:#ffe20b}.login-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:700;letter-spacing:2px;text-align:center}.login-body[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]{margin:25px auto}.login-body[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field{width:100%}.login-body[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field .mat-form-field-label{color:#000}.login-body[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field .mat-form-field-underline{background-color:#000}.login-body[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field .mat-select-value{color:#000}.login-body[_ngcontent-%COMP%]   .field-holder[_ngcontent-%COMP%]     .mat-form-field .mat-form-field-infix{background-color:#fff}.login-body[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff}.login-body[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   button.form-invalid[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}.clearfix[_ngcontent-%COMP%]{overflow:auto}.float-right[_ngcontent-%COMP%]{float:right}"]}),n})()},{path:"dashboard",component:h$},{path:"customerinfo",component:t$},{path:"customerdetail",component:DG},{path:"editproductInfo",component:E$},{path:"**",redirectTo:""}];let A$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[J1.forRoot(M$,{initialNavigation:"enabledBlocking"})],J1]}),n})();const F$={provide:new s.OlP("mat-autocomplete-scroll-strategy"),deps:[Ua],useFactory:function P$(n){return()=>n.scrollStrategies.reposition()}};let aN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[F$],imports:[[Yy,dI,ln,Ti],$y,dI,ln]}),n})(),dN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[zy,ln],ln]}),n})(),pN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ti,ln],ln]}),n})(),mN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),gN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[mN,zy,ln,GC],mN,ln]}),n})(),_N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ti,ln,rw,zy,GC,zS],ln]}),n})();function T8(n,t){}class ak{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const I8={dialogContainer:Od("dialogContainer",[Zs("void, exit",En({opacity:0,transform:"scale(0.7)"})),Zs("enter",En({transform:"none"})),ds("* => enter",IO([Ms("150ms cubic-bezier(0, 0, 0.2, 1)",En({transform:"none",opacity:1})),ZS("@*",$S(),{optional:!0})])),ds("* => void, * => exit",IO([Ms("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",En({opacity:0})),ZS("@*",$S(),{optional:!0})]))])};let M8=(()=>{class n extends xx{constructor(e,i,r,o,u,h,_,b){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=u,this._interactivityChecker=h,this._ngZone=_,this._focusMonitor=b,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=BC())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=BC(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=BC();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(yO),s.Y36(s.sBO),s.Y36(Q,8),s.Y36(ak),s.Y36(mO),s.Y36(s.R0b),s.Y36(Cf))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(yI,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),A8=(()=>{class n extends M8{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._id),s.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,T8,0,0,"ng-template",0)},directives:[yI],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[I8.dialogContainer]}}),n})(),S8=0;class x8{constructor(t,e,i="mat-dialog-"+S8++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new mt.x,this._afterClosed=new mt.x,this._beforeClosed=new mt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(Zn(r=>"opened"===r.state),xn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Zn(r=>"closed"===r.state),xn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Zn(r=>27===r.keyCode&&!this.disableClose&&!Is(r))).subscribe(r=>{r.preventDefault(),yN(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():yN(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Zn(e=>"closing"===e.state),xn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function yN(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const k8=new s.OlP("MatDialogData"),R8=new s.OlP("mat-dialog-default-options"),vN=new s.OlP("mat-dialog-scroll-strategy"),P8={provide:vN,deps:[Ua],useFactory:function O8(n){return()=>n.scrollStrategies.block()}};let F8=(()=>{class n{constructor(e,i,r,o,u,h,_,b,T,M){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=u,this._dialogRefConstructor=_,this._dialogContainerType=b,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new mt.x,this._afterOpenedAtThisLevel=new mt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=EC(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tr(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function L8(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new ak),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),u=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),o._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new sw({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:ak,useValue:i}]}),u=new Zy(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,o){const u=new this._dialogRefConstructor(r,i,o.id);if(e instanceof s.Rgc)i.attachTemplatePortal(new _I(e,null,{$implicit:o.data,dialogRef:u}));else{const h=this._createInjector(o,u,i),_=i.attachComponentPortal(new Zy(e,o.viewContainerRef,h,o.componentFactoryResolver));u.componentInstance=_.instance}return u.updateSize(o.width,o.height).updatePosition(o.position),u}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get($s,null,s.XFs.Optional))&&u.push({provide:$s,useValue:{value:e.direction,change:rt()}}),s.zs3.create({parent:o||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n}),n})(),N8=(()=>{class n extends F8{constructor(e,i,r,o,u,h,_,b){super(e,i,o,h,_,u,x8,A8,k8,b)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ua),s.LFG(s.zs3),s.LFG(ye,8),s.LFG(R8,8),s.LFG(vN),s.LFG(n,12),s.LFG(Rx),s.LFG(Ys,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),bN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[N8,P8],imports:[[Yy,rw,ln],ln]}),n})(),CN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Yy,rw,Ti,lw,ln],ln]}),n})(),H8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ti,BF,_N,aN,lw,GF,MF,pP,tw,gF,dN,Px,pN,gN,KF,NP,bN,WF,hl,CN,$u,rN],BF,_N,aN,lw,GF,MF,pP,tw,gF,dN,Px,pN,gN,KF,NP,bN,WF,hl,CN,$u,rN]}),n})();const j8={apiKey:"AIzaSyDh--ZV33Pjg1_PjvQbi6LNGzJB6uql5h4",authDomain:"customer-management-276c3.firebaseapp.com",projectId:"customer-management-276c3",storageBucket:"customer-management-276c3.firebasestorage.app",messagingSenderId:"445035486831",appId:"1:445035486831:web:1188525e09a19c0fcc779a",measurementId:"G-ST6LLSK6HC"};let G8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[_V]}),n.\u0275inj=s.cJS({providers:[Ny],imports:[[oa,$u,A$,Vs.hO.initializeApp(j8),Tc,aB,aj,hl,H8]]}),n})();bu().bootstrapModule(G8).catch(n=>console.error(n))},5867:(ft,Me,F)=>{F.d(Me,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=F(9681);(0,s.registerVersion)("firebase","9.6.11","app")},127:(ft,Me,F)=>{F.d(Me,{Z:()=>s.Z});var s=F(3942);s.Z.registerVersion("firebase","9.6.11","app-compat")},820:(ft,Me,F)=>{F.r(Me);var s=F(5861),K=F(3942),P=F(2090),ae=F(9681),ne=F(7582),ge=F(1877),Q=F(4859);const Re=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xe=new ge.Yd("@firebase/auth");function Ye(y,...p){Xe.logLevel<=ge.in.ERROR&&Xe.error(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}function De(y,...p){throw He(y,...p)}function ye(y,...p){return He(y,...p)}function we(y,p,g){const C=Object.assign(Object.assign({},Le()),{[p]:g});return new P.LL("auth","Firebase",C).create(p,{appName:y.name})}function Ve(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&De(y,"argument-error"),we(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(y,...p){if("string"!=typeof y){const g=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(g,...C)}return _e.create(y,...p)}function oe(y,p,...g){if(!y)throw He(p,...g)}function qe(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Ye(p),new Error(p)}function Dt(y,p){y||qe(p)}const qt=new Map;function ut(y){Dt(y instanceof Function,"Expected a class definition");let p=qt.get(y);return p?(Dt(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,qt.set(y,p),p)}function ps(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function As(){return"http:"===kr()||"https:"===kr()}function kr(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class X{constructor(p,g){this.shortDelay=p,this.longDelay=g,Dt(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function ei(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(As()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function se(y,p){Dt(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class me{static initialize(p,g,C){this.fetchImpl=p,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ke=new X(3e4,6e4);function ve(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ne(y,p,g,C){return xt.apply(this,arguments)}function xt(){return(xt=(0,s.Z)(function*(y,p,g,C,S={}){return vn(y,S,(0,s.Z)(function*(){let R={},$={};C&&("GET"===p?$=C:R={body:JSON.stringify(C)});const re=(0,P.xO)(Object.assign({key:y.config.apiKey},$)).slice(1),Be=yield y._getAdditionalHeaders();return Be["Content-Type"]="application/json",y.languageCode&&(Be["X-Firebase-Locale"]=y.languageCode),me.fetch()(ti(y,y.config.apiHost,g,re),Object.assign({method:p,headers:Be,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function vn(y,p,g){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*(y,p,g){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},ie),p);try{const S=new tn(y),R=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const $=yield R.json();if("needConfirmation"in $)throw Hn(y,"account-exists-with-different-credential",$);if(R.ok&&!("errorMessage"in $))return $;{const re=R.ok?$.errorMessage:$.error.message,[Be,ht]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw Hn(y,"credential-already-in-use",$);if("EMAIL_EXISTS"===Be)throw Hn(y,"email-already-in-use",$);const Vt=C[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(ht)throw we(y,Vt,ht);De(y,Vt)}}catch(S){if(S instanceof P.ZR)throw S;De(y,"network-request-failed")}})).apply(this,arguments)}function Zt(y,p,g,C){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,s.Z)(function*(y,p,g,C,S={}){const R=yield Ne(y,p,g,C,S);return"mfaPendingCredential"in R&&De(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function ti(y,p,g,C){const S=`${p}${g}?${C}`;return y.config.emulator?se(y.config,S):`${y.config.apiScheme}://${S}`}class tn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(ye(this.auth,"network-request-failed")),ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(y,p,g){const C={appName:y.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const S=ye(y,p,C);return S.customData._tokenResponse=g,S}function jn(){return(jn=(0,s.Z)(function*(y,p){return Ne(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function On(y,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,s.Z)(function*(y,p){return Ne(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rr(y,p){return To.apply(this,arguments)}function To(){return(To=(0,s.Z)(function*(y,p){return Ne(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Bn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function ja(){return(ja=(0,s.Z)(function*(y,p=!1){const g=(0,P.m9)(y),C=yield g.getIdToken(p),S=dt(C);oe(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,$=null==R?void 0:R.sign_in_provider;return{claims:S,token:C,authTime:Bn(nn(S.auth_time)),issuedAtTime:Bn(nn(S.iat)),expirationTime:Bn(nn(S.exp)),signInProvider:$||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function nn(y){return 1e3*Number(y)}function dt(y){const[p,g,C]=y.split(".");if(void 0===p||void 0===g||void 0===C)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,P.tV)(g);return S?JSON.parse(S):(Ye("Failed to decode base64 JWT payload"),null)}catch(S){return Ye("Caught error parsing JWT payload as JSON",S),null}}function Ri(y,p){return ms.apply(this,arguments)}function ms(){return(ms=(0,s.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(C){throw C instanceof P.ZR&&Wt(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function Wt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Io{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield g.iteration()}),C)}iteration(){var p=this;return(0,s.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Gi{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bn(this.lastLoginAt),this.creationTime=Bn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Oi(y){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(y){var p;const g=y.auth,C=yield y.getIdToken(),S=yield Ri(y,Rr(g,{idToken:C}));oe(null==S?void 0:S.users.length,g,"internal-error");const R=S.users[0];y._notifyReloadListener(R);const $=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?Ae(R.providerUserInfo):[],re=We(y.providerData,$),Vt=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==re?void 0:re.length)),Z={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:re,metadata:new Gi(R.createdAt,R.lastLoginAt),isAnonymous:Vt};Object.assign(y,Z)})).apply(this,arguments)}function $t(){return($t=(0,s.Z)(function*(y){const p=(0,P.m9)(y);yield Oi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function We(y,p){return[...y.filter(C=>!p.some(S=>S.providerId===C.providerId)),...p]}function Ae(y){return y.map(p=>{var{providerId:g}=p,C=(0,ne._T)(p,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function _t(){return(_t=(0,s.Z)(function*(y,p){const g=yield vn(y,{},(0,s.Z)(function*(){const C=(0,P.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=y.config,$=ti(y,S,"/v1/token",`key=${R}`),re=yield y._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",me.fetch()($,{method:"POST",headers:re,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){oe(p.idToken,"internal-error"),oe(void 0!==p.idToken,"internal-error"),oe(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function It(y){const p=dt(y);return oe(p,"internal-error"),oe(void 0!==p.exp,"internal-error"),oe(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p){var g=this;return(0,s.Z)(function*(C,S=!1){return oe(!g.accessToken||g.refreshToken,C,"user-token-expired"),S||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(C,g.refreshToken),g.accessToken):null:g.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var C=this;return(0,s.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:$}=yield function Je(y,p){return _t.apply(this,arguments)}(p,g);C.updateTokensAndExpiration(S,R,Number($))})()}updateTokensAndExpiration(p,g,C){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,g){const{refreshToken:C,accessToken:S,expirationTime:R}=g,$=new Yt;return C&&(oe("string"==typeof C,"internal-error",{appName:p}),$.refreshToken=C),S&&(oe("string"==typeof S,"internal-error",{appName:p}),$.accessToken=S),R&&(oe("number"==typeof R,"internal-error",{appName:p}),$.expirationTime=R),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Yt,this.toJSON())}_performRefresh(){return qe("not implemented")}}function zt(y,p){oe("string"==typeof y||void 0===y,"internal-error",{appName:p})}class j{constructor(p){var{uid:g,auth:C,stsTokenManager:S}=p,R=(0,ne._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Gi(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,s.Z)(function*(){const C=yield Ri(g,g.stsTokenManager.getToken(g.auth,p));return oe(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(p){return function Ks(y){return ja.apply(this,arguments)}(this,p)}reload(){return function zi(y){return $t.apply(this,arguments)}(this)}_assign(p){this!==p&&(oe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new j(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p){var g=this;return(0,s.Z)(function*(C,S=!1){let R=!1;C.idToken&&C.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(C),R=!0),S&&(yield Oi(g)),yield g.auth._persistUserIfCurrent(g),R&&g.auth._notifyListenersIfCurrent(g)}).apply(this,arguments)}delete(){var p=this;return(0,s.Z)(function*(){const g=yield p.getIdToken();return yield Ri(p,function Qe(y,p){return jn.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var C,S,R,$,re,Be,ht,Vt;const Z=null!==(C=g.displayName)&&void 0!==C?C:void 0,Jt=null!==(S=g.email)&&void 0!==S?S:void 0,Dr=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Ut=null!==($=g.photoURL)&&void 0!==$?$:void 0,Er=null!==(re=g.tenantId)&&void 0!==re?re:void 0,Ec=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,yh=null!==(ht=g.createdAt)&&void 0!==ht?ht:void 0,vv=null!==(Vt=g.lastLoginAt)&&void 0!==Vt?Vt:void 0,{uid:Ii,emailVerified:ns,isAnonymous:Zu,providerData:Yu,stsTokenManager:Ng}=g;oe(Ii&&Ng,p,"internal-error");const bv=Yt.fromJSON(this.name,Ng);oe("string"==typeof Ii,p,"internal-error"),zt(Z,p.name),zt(Jt,p.name),oe("boolean"==typeof ns,p,"internal-error"),oe("boolean"==typeof Zu,p,"internal-error"),zt(Dr,p.name),zt(Ut,p.name),zt(Er,p.name),zt(Ec,p.name),zt(yh,p.name),zt(vv,p.name);const vh=new j({uid:Ii,auth:p,email:Jt,emailVerified:ns,displayName:Z,isAnonymous:Zu,photoURL:Ut,phoneNumber:Dr,tenantId:Er,stsTokenManager:bv,createdAt:yh,lastLoginAt:vv});return Yu&&Array.isArray(Yu)&&(vh.providerData=Yu.map(Wu=>Object.assign({},Wu))),Ec&&(vh._redirectEventId=Ec),vh}static _fromIdTokenResponse(p,g){return(0,s.Z)(function*(C,S,R=!1){const $=new Yt;$.updateFromServerResponse(S);const re=new j({uid:S.localId,auth:C,stsTokenManager:$,isAnonymous:R});return yield Oi(re),re}).apply(this,arguments)}}const q=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(g,C){var S=this;return(0,s.Z)(function*(){S.storage[g]=C})()}_get(g){var C=this;return(0,s.Z)(function*(){const S=C.storage[g];return void 0===S?null:S})()}_remove(g){var C=this;return(0,s.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return y.type="NONE",y})();function ce(y,p,g){return`firebase:${y}:${p}:${g}`}class J{constructor(p,g,C){this.persistence=p,this.auth=g,this.userKey=C;const{config:S,name:R}=this.auth;this.fullUserKey=ce(this.userKey,S.apiKey,R),this.fullPersistenceKey=ce("persistence",S.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?j._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,s.Z)(function*(){if(g.persistence===p)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g){return(0,s.Z)(function*(C,S,R="authUser"){if(!S.length)return new J(ut(q),C,R);const $=(yield Promise.all(S.map(function(){var Z=(0,s.Z)(function*(Jt){if(yield Jt._isAvailable())return Jt});return function(Jt){return Z.apply(this,arguments)}}()))).filter(Z=>Z);let re=$[0]||ut(q);const Be=ce(R,C.config.apiKey,C.name);let ht=null;for(const Z of S)try{const Jt=yield Z._get(Be);if(Jt){const Dr=j._fromJSON(C,Jt);Z!==re&&(ht=Dr),re=Z;break}}catch(Jt){}const Vt=$.filter(Z=>Z._shouldAllowMigration);return re._shouldAllowMigration&&Vt.length?(re=Vt[0],ht&&(yield re._set(Be,ht.toJSON())),yield Promise.all(S.map(function(){var Z=(0,s.Z)(function*(Jt){if(Jt!==re)try{yield Jt._remove(Be)}catch(Dr){}});return function(Jt){return Z.apply(this,arguments)}}())),new J(re,C,R)):new J(re,C,R)}).apply(this,arguments)}}function Ue(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Kt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Et(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Bt(p))return"Blackberry";if(In(p))return"Webos";if(on(p))return"Safari";if((p.includes("chrome/")||qi(p))&&!p.includes("edge/"))return"Chrome";if(Xn(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Et(y=(0,P.z$)()){return/firefox\//i.test(y)}function on(y=(0,P.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function qi(y=(0,P.z$)()){return/crios\//i.test(y)}function Kt(y=(0,P.z$)()){return/iemobile/i.test(y)}function Xn(y=(0,P.z$)()){return/android/i.test(y)}function Bt(y=(0,P.z$)()){return/blackberry/i.test(y)}function In(y=(0,P.z$)()){return/webos/i.test(y)}function Ei(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)}function Ss(y=(0,P.z$)()){return Ei(y)||Xn(y)||In(y)||Bt(y)||/windows phone/i.test(y)||Kt(y)}function za(y,p=[]){let g;switch(y){case"Browser":g=Ue((0,P.z$)());break;case"Worker":g=`${Ue((0,P.z$)())}-${y}`;break;default:g=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${C}`}class Or{constructor(p,g,C){this.app=p,this.heartbeatServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gt(this),this.idTokenSubscription=new Gt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,g){var C=this;return g&&(this._popupRedirectResolver=ut(g)),this._initializationPromise=this.queue((0,s.Z)(function*(){var S,R;if(!C._deleted&&(C.persistenceManager=yield J.create(C,p),!C._deleted)){if(null===(S=C._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch($){}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(R=C.currentUser)||void 0===R?void 0:R.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,s.Z)(function*(){var C;let S=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,$=null==S?void 0:S._redirectEventId,re=yield g.tryRedirectSignIn(p);(!R||R===$)&&(null==re?void 0:re.user)&&(S=re.user)}return S?S._redirectEventId?(oe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,s.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(S){yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,s.Z)(function*(){try{yield Oi(p)}catch(C){if("auth/network-request-failed"!==C.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Lt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,s.Z)(function*(){const C=p?(0,P.m9)(p):null;return C&&oe(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,s.Z)(function*(){if(!g._deleted)return p&&oe(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,s.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,s.Z)(function*(){yield g.assertedPersistence.setPersistence(ut(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new P.LL("auth","Firebase",p())}onAuthStateChanged(p,g,C){return this.registerStateListener(this.authStateSubscription,p,g,C)}onIdTokenChanged(p,g,C){return this.registerStateListener(this.idTokenSubscription,p,g,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var C=this;return(0,s.Z)(function*(){const S=yield C.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,s.Z)(function*(){if(!g.redirectPersistenceManager){const C=p&&ut(p)||g._popupRedirectResolver;oe(C,g,"argument-error"),g.redirectPersistenceManager=yield J.create(g,[ut(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,s.Z)(function*(){var C,S;return g._isInitialized&&(yield g.queue((0,s.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,s.Z)(function*(){if(p===g.currentUser)return g.queue((0,s.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,C,S){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),$=this._isInitialized?Promise.resolve():this._initializationPromise;return oe($,this,"internal-error"),$.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,C,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,s.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=za(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var g;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(C["X-Firebase-Client"]=S),C})()}}function Oe(y){return(0,P.m9)(y)}class Gt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function ai(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class gn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return qe("not implemented")}_getIdTokenResponse(p){return qe("not implemented")}_linkToIdToken(p,g){return qe("not implemented")}_getReauthenticationResolver(p){return qe("not implemented")}}function ni(y,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,s.Z)(function*(y,p){return Ne(y,"POST","/v1/accounts:resetPassword",ve(y,p))})).apply(this,arguments)}function Ft(y,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,s.Z)(function*(y,p){return Ne(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ji(y,p){return qa.apply(this,arguments)}function qa(){return(qa=(0,s.Z)(function*(y,p){return Ne(y,"POST","/v1/accounts:update",ve(y,p))})).apply(this,arguments)}function Gn(){return(Gn=(0,s.Z)(function*(y,p){return Zt(y,"POST","/v1/accounts:signInWithPassword",ve(y,p))})).apply(this,arguments)}function xs(y,p){return ks.apply(this,arguments)}function ks(){return(ks=(0,s.Z)(function*(y,p){return Ne(y,"POST","/v1/accounts:sendOobCode",ve(y,p))})).apply(this,arguments)}function gi(y,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(y,p){return xs(y,p)})).apply(this,arguments)}function Bl(y,p){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,s.Z)(function*(y,p){return xs(y,p)})).apply(this,arguments)}function er(y,p){return $i.apply(this,arguments)}function $i(){return($i=(0,s.Z)(function*(y,p){return xs(y,p)})).apply(this,arguments)}function uu(y,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,s.Z)(function*(y,p){return xs(y,p)})).apply(this,arguments)}function yr(){return(yr=(0,s.Z)(function*(y,p){return Zt(y,"POST","/v1/accounts:signInWithEmailLink",ve(y,p))})).apply(this,arguments)}function Ld(){return(Ld=(0,s.Z)(function*(y,p){return Zt(y,"POST","/v1/accounts:signInWithEmailLink",ve(y,p))})).apply(this,arguments)}class Hl extends gn{constructor(p,g,C,S=null){super("password",C),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new Hl(p,g,"password")}static _fromEmailAndCode(p,g,C=null){return new Hl(p,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,s.Z)(function*(){switch(g.signInMethod){case"password":return function Js(y,p){return Gn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Ul(y,p){return yr.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:De(p,"internal-error")}})()}_linkToIdToken(p,g){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return Ft(p,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Nd(y,p){return Ld.apply(this,arguments)}(p,{idToken:g,email:C._email,oobCode:C._password});default:De(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function li(y,p){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,s.Z)(function*(y,p){return Zt(y,"POST","/v1/accounts:signInWithIdp",ve(y,p))})).apply(this,arguments)}class Rs extends gn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Rs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):De("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S}=g,R=(0,ne._T)(g,["providerId","signInMethod"]);if(!C||!S)return null;const $=new Rs(C,S);return $.idToken=R.idToken||void 0,$.accessToken=R.accessToken||void 0,$.secret=R.secret,$.nonce=R.nonce,$.pendingToken=R.pendingToken||null,$}_getIdTokenResponse(p){return li(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,li(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,li(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,P.xO)(g)}return p}}function yg(y,p){return du.apply(this,arguments)}function du(){return(du=(0,s.Z)(function*(y,p){return Ne(y,"POST","/v1/accounts:sendVerificationCode",ve(y,p))})).apply(this,arguments)}function to(){return(to=(0,s.Z)(function*(y,p){return Zt(y,"POST","/v1/accounts:signInWithPhoneNumber",ve(y,p))})).apply(this,arguments)}function Vd(){return(Vd=(0,s.Z)(function*(y,p){const g=yield Zt(y,"POST","/v1/accounts:signInWithPhoneNumber",ve(y,p));if(g.temporaryProof)throw Hn(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const bg={USER_NOT_FOUND:"user-not-found"};function Ud(){return(Ud=(0,s.Z)(function*(y,p){return Zt(y,"POST","/v1/accounts:signInWithPhoneNumber",ve(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),bg)})).apply(this,arguments)}class na extends gn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new na({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new na({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function hu(y,p){return to.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function vg(y,p){return Vd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Cg(y,p){return Ud.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:C,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:C,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:C,phoneNumber:S,temporaryProof:R}=p;return C||g||S||R?new na({verificationId:g,verificationCode:C,phoneNumber:S,temporaryProof:R}):null}}class Ao{constructor(p){var g,C,S,R,$,re;const Be=(0,P.zd)((0,P.pd)(p)),ht=null!==(g=Be.apiKey)&&void 0!==g?g:null,Vt=null!==(C=Be.oobCode)&&void 0!==C?C:null,Z=function nv(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Be.mode)&&void 0!==S?S:null);oe(ht&&Vt&&Z,"argument-error"),this.apiKey=ht,this.operation=Z,this.code=Vt,this.continueUrl=null!==(R=Be.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==($=Be.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(re=Be.tenantId)&&void 0!==re?re:null}static parseLink(p){const g=function jl(y){const p=(0,P.zd)((0,P.pd)(y)).link,g=p?(0,P.zd)((0,P.pd)(p)).deep_link_id:null,C=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(C?(0,P.zd)((0,P.pd)(C)).link:null)||C||g||p||y}(p);try{return new Ao(g)}catch(C){return null}}}let fu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,C){return Hl._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const S=Ao.parseLink(C);return oe(S,"argument-error"),Hl._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class no{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class vr extends no{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ia extends vr{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return oe("providerId"in g&&"signInMethod"in g,"argument-error"),Rs._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return oe(p.idToken||p.accessToken,"argument-error"),Rs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ia.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ia.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:S,pendingToken:R,nonce:$,providerId:re}=p;if(!C&&!S&&!g&&!R||!re)return null;try{return new ia(re)._credential({idToken:g,accessToken:C,nonce:$,pendingToken:R})}catch(Be){return null}}}let So=(()=>{class y extends vr{constructor(){super("facebook.com")}static credential(g){return Rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(C){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),$a=(()=>{class y extends vr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return Rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:S}=g;if(!C&&!S)return null;try{return y.credential(C,S)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Hd=(()=>{class y extends vr{constructor(){super("github.com")}static credential(g){return Rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(C){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ti extends gn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return li(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,li(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,li(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S,pendingToken:R}=g;return C&&S&&R&&C===S?new Ti(C,R):null}static _create(p,g){return new Ti(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pr extends no{constructor(p){oe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Pr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Pr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Ti.fromJSON(p);return oe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:C}=p;if(!g||!C)return null;try{return Ti._create(C,g)}catch(S){return null}}}let Gl=(()=>{class y extends vr{constructor(){super("twitter.com")}static credential(g,C){return Rs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:S}=g;if(!C||!S)return null;try{return y.credential(C,S)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function zl(y,p){return tr.apply(this,arguments)}function tr(){return(tr=(0,s.Z)(function*(y,p){return Zt(y,"POST","/v1/accounts:signUp",ve(y,p))})).apply(this,arguments)}class Fi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,C){return(0,s.Z)(function*(S,R,$,re=!1){const Be=yield j._fromIdTokenResponse(S,$,re),ht=Of($);return new Fi({user:Be,providerId:ht,_tokenResponse:$,operationType:R})}).apply(this,arguments)}static _forOperation(p,g,C){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const S=Of(C);return new Fi({user:p,providerId:S,_tokenResponse:C,operationType:g})})()}}function Of(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function jd(){return(jd=(0,s.Z)(function*(y){var p;const g=Oe(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Fi({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield zl(g,{returnSecureToken:!0}),S=yield Fi._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class $l extends P.ZR{constructor(p,g,C,S){var R;super(g.code,g.message),this.operationType=C,this.user=S,Object.setPrototypeOf(this,$l.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,g,C,S){return new $l(p,g,C,S)}}function Zl(y,p,g,C){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?$l._fromErrorAndOperation(y,R,p,C):R})}function Os(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function pu(){return(pu=(0,s.Z)(function*(y,p){const g=(0,P.m9)(y);yield ro(!0,g,p);const{providerUserInfo:C}=yield On(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=Os(C||[]);return g.providerData=g.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Pn(y,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,s.Z)(function*(y,p,g=!1){const C=yield Ri(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Fi._forOperation(y,"link",C)})).apply(this,arguments)}function ro(y,p,g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,s.Z)(function*(y,p,g){yield Oi(p);const S=!1===y?"provider-already-linked":"no-such-provider";oe(Os(p.providerData).has(g)===y,p.auth,S)})).apply(this,arguments)}function Gd(y,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,s.Z)(function*(y,p,g=!1){const{auth:C}=y,S="reauthenticate";try{const R=yield Ri(y,Zl(C,S,p,y),g);oe(R.idToken,C,"internal-error");const $=dt(R.idToken);oe($,C,"internal-error");const{sub:re}=$;return oe(y.uid===re,C,"user-mismatch"),Fi._forOperation(y,S,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&De(C,"user-mismatch"),R}})).apply(this,arguments)}function ko(y,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(y,p,g=!1){const C="signIn",S=yield Zl(y,C,p),R=yield Fi._fromIdTokenResponse(y,C,S);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function ii(y,p){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,s.Z)(function*(y,p){return ko(Oe(y),p)})).apply(this,arguments)}function Zr(y,p){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,s.Z)(function*(y,p){const g=(0,P.m9)(y);return yield ro(!1,g,p.providerId),Pn(g,p)})).apply(this,arguments)}function so(y,p){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,s.Z)(function*(y,p){return Gd((0,P.m9)(y),p)})).apply(this,arguments)}function Yl(y,p){return br.apply(this,arguments)}function br(){return(br=(0,s.Z)(function*(y,p){return Zt(y,"POST","/v1/accounts:signInWithCustomToken",ve(y,p))})).apply(this,arguments)}function ao(){return(ao=(0,s.Z)(function*(y,p){const g=Oe(y),C=yield Yl(g,{token:p,returnSecureToken:!0}),S=yield Fi._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class wt{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?sa._fromServerResponse(p,g):De(p,"internal-error")}}class sa extends wt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new sa(g)}}function Wl(y,p,g){var C;oe((null===(C=g.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),oe(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(oe(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(oe(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Ql(){return(Ql=(0,s.Z)(function*(y,p,g){const C=(0,P.m9)(y),S={requestType:"PASSWORD_RESET",email:p};g&&Wl(C,S,g),yield Bl(C,S)})).apply(this,arguments)}function Xl(){return(Xl=(0,s.Z)(function*(y,p,g){yield ni((0,P.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Ro(){return(Ro=(0,s.Z)(function*(y,p){yield Ji((0,P.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ee(y,p){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(y,p){const g=(0,P.m9)(y),C=yield ni(g,{oobCode:p}),S=C.requestType;switch(oe(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(C.mfaInfo,g,"internal-error");default:oe(C.email,g,"internal-error")}let R=null;return C.mfaInfo&&(R=wt._fromServerResponse(Oe(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function zn(){return(zn=(0,s.Z)(function*(y,p){const{data:g}=yield Ee((0,P.m9)(y),p);return g.email})).apply(this,arguments)}function lo(){return(lo=(0,s.Z)(function*(y,p,g){const C=Oe(y),S=yield zl(C,{returnSecureToken:!0,email:p,password:g}),R=yield Fi._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(R.user),R})).apply(this,arguments)}function Wa(){return(Wa=(0,s.Z)(function*(y,p,g){const C=(0,P.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};oe(g.handleCodeInApp,C,"argument-error"),g&&Wl(C,S,g),yield er(C,S)})).apply(this,arguments)}function Jl(){return(Jl=(0,s.Z)(function*(y,p,g){const C=(0,P.m9)(y),S=fu.credentialWithLink(p,g||ps());return oe(S._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ii(C,S)})).apply(this,arguments)}function Ka(y,p){return _i.apply(this,arguments)}function _i(){return(_i=(0,s.Z)(function*(y,p){return Ne(y,"POST","/v1/accounts:createAuthUri",ve(y,p))})).apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(y,p){const C={identifier:p,continueUri:As()?ps():"http://localhost"},{signinMethods:S}=yield Ka((0,P.m9)(y),C);return S||[]})).apply(this,arguments)}function Wr(){return(Wr=(0,s.Z)(function*(y,p){const g=(0,P.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Wl(g.auth,S,p);const{email:R}=yield gi(g.auth,S);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function Qa(){return(Qa=(0,s.Z)(function*(y,p,g){const C=(0,P.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Wl(C.auth,R,g);const{email:$}=yield uu(C.auth,R);$!==y.email&&(yield y.reload())})).apply(this,arguments)}function bu(y,p){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,s.Z)(function*(y,p){return Ne(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function tc(){return(tc=(0,s.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const C=(0,P.m9)(y),R={idToken:yield C.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},$=yield Ri(C,bu(C.auth,R));C.displayName=$.displayName||null,C.photoURL=$.photoUrl||null;const re=C.providerData.find(({providerId:Be})=>"password"===Be);re&&(re.displayName=C.displayName,re.photoURL=C.photoURL),yield C._updateTokensIfNecessary($)})).apply(this,arguments)}function $d(y,p,g){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(function*(y,p,g){const{auth:C}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const $=yield Ri(y,Ft(C,R));yield y._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class Po{constructor(p,g,C={}){this.isNewUser=p,this.providerId=g,this.profile=C}}class Zd extends Po{constructor(p,g,C,S){super(p,g,C),this.username=S}}class Yd extends Po{constructor(p,g){super(p,"facebook.com",g)}}class Ja extends Zd{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Kr extends Po{constructor(p,g){super(p,"google.com",g)}}class wu extends Zd{constructor(p,g,C){super(p,"twitter.com",g,C)}}function Ff(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ic(y){var p,g;if(!y)return null;const{providerId:C}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&(null==y?void 0:y.idToken)){const $=null===(g=null===(p=dt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if($)return new Po(R,"anonymous"!==$&&"custom"!==$?$:null)}if(!C)return null;switch(C){case"facebook.com":return new Yd(R,S);case"github.com":return new Ja(R,S);case"google.com":return new Kr(R,S);case"twitter.com":return new wu(R,S,y.screenName||null);case"custom":case"anonymous":return new Po(R,null);default:return new Po(R,C,S)}}(g)}class aa{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new aa("enroll",p)}static _fromMfaPendingCredential(p){return new aa("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,C;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return aa._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return aa._fromIdtoken(p.multiFactorSession.idToken)}return null}}class el{constructor(p,g,C){this.session=p,this.hints=g,this.signInResolver=C}static _fromError(p,g){const C=Oe(p),S=g.customData._serverResponse,R=(S.mfaInfo||[]).map(re=>wt._fromServerResponse(C,re));oe(S.mfaPendingCredential,C,"internal-error");const $=aa._fromMfaPendingCredential(S.mfaPendingCredential);return new el($,R,function(){var re=(0,s.Z)(function*(Be){const ht=yield Be._process(C,$);delete S.mfaInfo,delete S.mfaPendingCredential;const Vt=Object.assign(Object.assign({},S),{idToken:ht.idToken,refreshToken:ht.refreshToken});switch(g.operationType){case"signIn":const Z=yield Fi._fromIdTokenResponse(C,g.operationType,Vt);return yield C._updateCurrentUser(Z.user),Z;case"reauthenticate":return oe(g.user,C,"internal-error"),Fi._forOperation(g.user,g.operationType,Vt);default:De(C,"internal-error")}});return function(Be){return re.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,s.Z)(function*(){return g.signInResolver(p)})()}}function ri(y,p){return Ne(y,"POST","/v2/accounts/mfaEnrollment:start",ve(y,p))}class Wd{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>wt._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Wd(p)}getSession(){var p=this;return(0,s.Z)(function*(){return aa._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var C=this;return(0,s.Z)(function*(){const S=p,R=yield C.getSession(),$=yield Ri(C.user,S._process(C.user.auth,R,g));return yield C.user._updateTokensIfNecessary($),C.user.reload()})()}unenroll(p){var g=this;return(0,s.Z)(function*(){const C="string"==typeof p?p:p.uid,S=yield g.user.getIdToken(),R=yield Ri(g.user,function Nf(y,p){return Ne(y,"POST","/v2/accounts/mfaEnrollment:withdraw",ve(y,p))}(g.user.auth,{idToken:S,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:$})=>$!==C),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch($){if("auth/user-token-expired"!==$.code)throw $}})()}}const Fs=new WeakMap,Tu="__sak";class ca{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Tu,"1"),this.storage.removeItem(Tu),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const dn=(()=>{class y extends ca{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function tl(){const y=(0,P.z$)();return on(y)||Ei(y)}()&&function mi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ss(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const S=this.storage.getItem(C),R=this.localCache[C];S!==R&&g(C,R,S)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((re,Be,ht)=>{this.notifyListeners(re,ht)});const S=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(S);if(g.newValue!==re)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!C)return}const R=()=>{const re=this.storage.getItem(S);!C&&this.localCache[S]===re||this.notifyListeners(S,re)},$=this.storage.getItem(S);!function Ga(){return(0,P.w1)()&&10===document.documentMode}()||$===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,C){this.localCache[g]=C;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var S=()=>super._set,R=this;return(0,s.Z)(function*(){yield S().call(R,g,C),R.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,S=this;return(0,s.Z)(function*(){const R=yield C().call(S,g);return S.localCache[g]=JSON.stringify(R),R})()}_remove(g){var C=()=>super._remove,S=this;return(0,s.Z)(function*(){yield C().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),Qr=(()=>{class y extends ca{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return y.type="SESSION",y})();let ac=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(R=>R.isListeningto(g));if(C)return C;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,s.Z)(function*(){const S=g,{eventId:R,eventType:$,data:re}=S.data,Be=C.handlersMap[$];if(!(null==Be?void 0:Be.size))return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:$});const ht=Array.from(Be).map(function(){var Z=(0,s.Z)(function*(Jt){return Jt(S.origin,re)});return function(Jt){return Z.apply(this,arguments)}}()),Vt=yield function Kd(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return p.apply(this,arguments)}}()))}(ht);S.ports[0].postMessage({status:"done",eventId:R,eventType:$,response:Vt})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ns(y="",p=10){let g="";for(let C=0;C<p;C++)g+=Math.floor(10*Math.random());return y+g}class Qd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g){var C=this;return(0,s.Z)(function*(S,R,$=50){const re="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let Be,ht;return new Promise((Vt,Z)=>{const Jt=Ns("",20);re.port1.start();const Dr=setTimeout(()=>{Z(new Error("unsupported_event"))},$);ht={messageChannel:re,onMessage(Ut){const Er=Ut;if(Er.data.eventId===Jt)switch(Er.data.status){case"ack":clearTimeout(Dr),Be=setTimeout(()=>{Z(new Error("timeout"))},3e3);break;case"done":clearTimeout(Be),Vt(Er.data.response);break;default:clearTimeout(Dr),clearTimeout(Be),Z(new Error("invalid_response"))}}},C.handlers.add(ht),re.port1.addEventListener("message",ht.onMessage),C.target.postMessage({eventType:S,eventId:Jt,data:R},[re.port2])}).finally(()=>{ht&&C.removeMessageHandler(ht)})}).apply(this,arguments)}}function wn(){return window}function Fn(){return void 0!==wn().WorkerGlobalScope&&"function"==typeof wn().importScripts}function No(){return(No=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const cc="firebaseLocalStorageDb",Lo="firebaseLocalStorage",uo="fbase_key";class An{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ua(y,p){return y.transaction([Lo],p?"readwrite":"readonly").objectStore(Lo)}function Bo(){const y=indexedDB.open(cc,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(Lo,{keyPath:uo})}catch(S){g(S)}}),y.addEventListener("success",(0,s.Z)(function*(){const C=y.result;C.objectStoreNames.contains(Lo)?p(C):(C.close(),yield function Fr(){const y=indexedDB.deleteDatabase(cc);return new An(y).toPromise()}(),p(yield Bo()))}))})}function da(y,p,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,s.Z)(function*(y,p,g){const C=ua(y,!0).put({[uo]:p,value:g});return new An(C).toPromise()})).apply(this,arguments)}function Nr(){return(Nr=(0,s.Z)(function*(y,p){const g=ua(y,!1).get(p),C=yield new An(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function ho(y,p){const g=ua(y,!0).delete(p);return new An(g).toPromise()}const _n=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,s.Z)(function*(){return g.db||(g.db=yield Bo()),g.db})()}_withRetries(g){var C=this;return(0,s.Z)(function*(){let S=0;for(;;)try{const R=yield C._openDb();return yield g(R)}catch(R){if(S++>3)throw R;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,s.Z)(function*(){return Fn()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,s.Z)(function*(){g.receiver=ac._getInstance(function Xd(){return Fn()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(S,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(S,R){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,s.Z)(function*(){var C,S;if(g.activeServiceWorker=yield function nt(){return No.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Qd(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(C=R[0])||void 0===C?void 0:C.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function lc(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Bo();return yield da(g,Tu,"1"),yield ho(g,Tu),!0}catch(g){}return!1})()}_withPendingWrite(g){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var S=this;return(0,s.Z)(function*(){return S._withPendingWrite((0,s.Z)(function*(){return yield S._withRetries(R=>da(R,g,C)),S.localCache[g]=C,S.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,s.Z)(function*(){const S=yield C._withRetries(R=>function Vo(y,p){return Nr.apply(this,arguments)}(R,g));return C.localCache[g]=S,S})()}_remove(g){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(S=>ho(S,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,s.Z)(function*(){const C=yield g._withRetries($=>{const re=ua($,!1).getAll();return new An(re).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:$,value:re}of C)R.add($),JSON.stringify(g.localCache[$])!==JSON.stringify(re)&&(g.notifyListeners($,re),S.push($));for(const $ of Object.keys(g.localCache))g.localCache[$]&&!R.has($)&&(g.notifyListeners($,null),S.push($));return S})()}notifyListeners(g,C){this.localCache[g]=C;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function fa(y,p){return Ne(y,"POST","/v2/accounts/mfaSignIn:start",ve(y,p))}function Ho(){return(Ho=(0,s.Z)(function*(y){return(yield Ne(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pa(y){return new Promise((p,g)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=S=>{const R=ye("internal-error");R.customData=S,g(R)},C.type="text/javascript",C.charset="UTF-8",function jo(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function nl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Lr=1e12;class ga{constructor(p){this.auth=p,this.counter=Lr,this._widgets=new Map}render(p,g){const C=this.counter;return this._widgets.set(C,new Au(p,this.auth.name,g||{})),this.counter++,C}reset(p){var g;const C=p||Lr;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Lr))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,s.Z)(function*(){var C;return null===(C=g._widgets.get(p||Lr))||void 0===C||C.execute(),""})()}}class Au{constructor(p,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;oe(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dc(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ys=nl("rcb"),Tg=new X(3e4,6e4);class $n{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wn().grecaptcha}load(p,g=""){return oe(function Bf(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(wn().grecaptcha):new Promise((C,S)=>{const R=wn().setTimeout(()=>{S(ye(p,"network-request-failed"))},Tg.get());wn()[ys]=()=>{wn().clearTimeout(R),delete wn()[ys];const re=wn().grecaptcha;if(!re)return void S(ye(p,"internal-error"));const Be=re.render;re.render=(ht,Vt)=>{const Z=Be(ht,Vt);return this.counter++,Z},this.hostLanguage=g,C(re)},pa(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:ys,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),S(ye(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!wn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jd{load(p){return(0,s.Z)(function*(){return new ga(p)})()}clearedOneInstance(){}}const Su="recaptcha",eh={theme:"light",type:"image"};class Vf{constructor(p,g=Object.assign({},eh),C){this.parameters=g,this.type=Su,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oe(C),this.isInvisible="invisible"===this.parameters.size,oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;oe(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jd:new $n,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(g)||new Promise(R=>{const $=re=>{!re||(p.tokenChangeListeners.delete($),R(re))};p.tokenChangeListeners.add($),p.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof p)p(g);else if("string"==typeof p){const C=wn()[p];"function"==typeof C&&C(g)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){oe(As()&&!Fn(),p.auth,"internal-error"),yield function th(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Mu(y){return Ho.apply(this,arguments)}(p.auth);oe(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class il{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=na._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function xu(){return(xu=(0,s.Z)(function*(y,p,g){const C=Oe(y),S=yield Ru(C,p,(0,P.m9)(g));return new il(S,R=>ii(C,R))})).apply(this,arguments)}function nr(){return(nr=(0,s.Z)(function*(y,p,g){const C=(0,P.m9)(y);yield ro(!1,C,"phone");const S=yield Ru(C.auth,p,(0,P.m9)(g));return new il(S,R=>Zr(C,R))})).apply(this,arguments)}function ku(){return(ku=(0,s.Z)(function*(y,p,g){const C=(0,P.m9)(y),S=yield Ru(C.auth,p,(0,P.m9)(g));return new il(S,R=>so(C,R))})).apply(this,arguments)}function Ru(y,p,g){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,s.Z)(function*(y,p,g){var C;const S=yield g.verify();try{let R;if(oe("string"==typeof S,y,"argument-error"),oe(g.type===Su,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const $=R.session;if("phoneNumber"in R)return oe("enroll"===$.type,y,"internal-error"),(yield ri(y,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{oe("signin"===$.type,y,"internal-error");const re=(null===(C=R.multiFactorHint)||void 0===C?void 0:C.uid)||R.multiFactorUid;return oe(re,y,"missing-multi-factor-info"),(yield fa(y,{mfaPendingCredential:$.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield yg(y,{phoneNumber:R.phoneNumber,recaptchaToken:S});return $}}finally{g._reset()}})).apply(this,arguments)}function Go(){return(Go=(0,s.Z)(function*(y,p){yield Pn((0,P.m9)(y),p)})).apply(this,arguments)}let Vr=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Oe(g)}verifyPhoneNumber(g,C){return Ru(this.auth,g,(0,P.m9)(C))}static credential(g,C){return na._fromVerification(g,C)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:S}=g;return C&&S?na._fromTokenResponse(C,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Wi(y,p){return p?ut(p):(oe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ya extends gn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return li(p,this._buildIdpRequest())}_linkToIdToken(p,g){return li(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return li(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function hc(y){return ko(y.auth,new ya(y),y.bypassAuthState)}function Ou(y){const{auth:p,user:g}=y;return oe(g,p,"internal-error"),Gd(g,new ya(y),y.bypassAuthState)}function Uf(y){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,s.Z)(function*(y){const{auth:p,user:g}=y;return oe(g,p,"internal-error"),Pn(g,new ya(y),y.bypassAuthState)})).apply(this,arguments)}class Hf{constructor(p,g,C,S,R=!1){this.auth=p,this.resolver=C,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,s.Z)(function*(C,S){p.pendingPromise={resolve:C,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(C,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:S,postBody:R,tenantId:$,error:re,type:Be}=p;if(re)return void g.reject(re);const ht={auth:g.auth,requestUri:C,sessionId:S,tenantId:$||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(ht))}catch(Vt){g.reject(Vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return hc;case"linkViaPopup":case"linkViaRedirect":return Uf;case"reauthViaPopup":case"reauthViaRedirect":return Ou;default:De(this.auth,"internal-error")}}resolve(p){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jr=new X(2e3,1e4);function zo(){return(zo=(0,s.Z)(function*(y,p,g){const C=Oe(y);Ve(y,p,no);const S=Wi(C,g);return new Bs(C,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function va(){return(va=(0,s.Z)(function*(y,p,g){const C=(0,P.m9)(y);Ve(C.auth,p,no);const S=Wi(C.auth,g);return new Bs(C.auth,"reauthViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}function Pu(){return(Pu=(0,s.Z)(function*(y,p,g){const C=(0,P.m9)(y);Ve(C.auth,p,no);const S=Wi(C.auth,g);return new Bs(C.auth,"linkViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}let Bs=(()=>{class y extends Hf{constructor(g,C,S,R,$){super(g,C,R,$),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,s.Z)(function*(){const C=yield g.execute();return oe(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,s.Z)(function*(){Dt(1===g.filter.length,"Popup operations only handle one event");const C=Ns();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(ye(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,S;this.pollId=(null===(S=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Jr.get())};g()}}return y.currentPopupAction=null,y})();const ir=new Map;class pc extends Hf{constructor(p,g,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,s.Z)(function*(){let C=ir.get(g.auth._key());if(!C){try{const R=(yield function sl(y,p){return qo.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;C=()=>Promise.resolve(R)}catch(S){C=()=>Promise.reject(S)}ir.set(g.auth._key(),C)}return g.bypassAuthState||ir.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(C,p);if("unknown"!==p.type){if(p.eventId){const S=yield C.auth._redirectUserForId(p.eventId);if(S)return C.user=S,g().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function qo(){return(qo=(0,s.Z)(function*(y,p){const g=I(p),C=E(y);if(!(yield C._isAvailable()))return!1;const S="true"===(yield C._get(g));return yield C._remove(g),S})).apply(this,arguments)}function mc(y,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,s.Z)(function*(y,p){return E(y)._set(I(p),"true")})).apply(this,arguments)}function E(y){return ut(y._redirectPersistence)}function I(y){return ce("pendingRedirect",y.config.apiKey,y.name)}function Y(){return(Y=(0,s.Z)(function*(y,p,g){const C=Oe(y);Ve(y,p,no);const S=Wi(C,g);return yield mc(S,C),S._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Ze(){return(Ze=(0,s.Z)(function*(y,p,g){const C=(0,P.m9)(y);Ve(C.auth,p,no);const S=Wi(C.auth,g);yield mc(S,C.auth);const R=yield ba(C);return S._openRedirect(C.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(y,p,g){const C=(0,P.m9)(y);Ve(C.auth,p,no);const S=Wi(C.auth,g);yield ro(!1,C,p.providerId),yield mc(S,C.auth);const R=yield ba(C);return S._openRedirect(C.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function yi(){return(yi=(0,s.Z)(function*(y,p){return yield Oe(y)._initializationPromise,Sn(y,p,!1)})).apply(this,arguments)}function Sn(y,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,s.Z)(function*(y,p,g=!1){const C=Oe(y),S=Wi(C,p),$=yield new pc(C,S,g).execute();return $&&!g&&(delete $.user._redirectEventId,yield C._persistUserIfCurrent($.user),yield C._setRedirectUser(null,p)),$})).apply(this,arguments)}function ba(y){return es.apply(this,arguments)}function es(){return(es=(0,s.Z)(function*(y){const p=Ns(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Li{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(g=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Gf(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gc(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var C;if(p.error&&!gc(p)){const S=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(ye(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const C=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fo(p))}saveEventToCache(p){this.cachedEventUids.add(fo(p)),this.lastProcessedEventTime=Date.now()}}function fo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function gc({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function rh(y){return al.apply(this,arguments)}function al(){return(al=(0,s.Z)(function*(y,p={}){return Ne(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Fu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nu=/^https?/;function _c(){return(_c=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield rh(y);for(const g of p)try{if(ll(g))return}catch(C){}De(y,"unauthorized-domain")})).apply(this,arguments)}function ll(y){const p=ps(),{protocol:g,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const $=new URL(y);return""===$.hostname&&""===C?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&$.hostname===C}if(!Nu.test(g))return!1;if(Fu.test(y))return C===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(C)}const yc=new X(3e4,6e4);function qf(){const y=wn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let cl=null;function Vn(y){return cl=cl||function ov(y){return new Promise((p,g)=>{var C,S,R;function $(){qf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{qf(),g(ye(y,"network-request-failed"))},timeout:yc.get()})}if(null===(S=null===(C=wn().gapi)||void 0===C?void 0:C.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=wn().gapi)||void 0===R?void 0:R.load)){const re=nl("iframefcb");return wn()[re]=()=>{gapi.load?$():g(ye(y,"network-request-failed"))},pa(`https://apis.google.com/js/api.js?onload=${re}`).catch(Be=>g(Be))}$()}}).catch(p=>{throw cl=null,p})}(y),cl}const sh=new X(5e3,15e3),Lu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lv(y){const p=y.config;oe(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?se(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:ae.SDK_VERSION},S=vc.get(y.config.apiHost);S&&(C.eid=S);const R=y._getFrameworks();return R.length&&(C.fw=R.join(",")),`${g}?${(0,P.xO)(C).slice(1)}`}function Mg(){return Mg=(0,s.Z)(function*(y){const p=yield Vn(y),g=wn().gapi;return oe(g,y,"internal-error"),p.open({where:document.body,url:lv(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lu,dontclear:!0},C=>new Promise(function(){var S=(0,s.Z)(function*(R,$){yield C.restyle({setHideOnLeave:!1});const re=ye(y,"network-request-failed"),Be=wn().setTimeout(()=>{$(re)},sh.get());function ht(){wn().clearTimeout(Be),R(C)}C.ping(ht).then(ht,()=>{$(re)})});return function(R,$){return S.apply(this,arguments)}}()))}),Mg.apply(this,arguments)}const mw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Wf(y,p,g,C,S,R){oe(y.config.authDomain,y,"auth-domain-config-required"),oe(y.config.apiKey,y,"invalid-api-key");const $={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:C,v:ae.SDK_VERSION,eventId:S};if(p instanceof no){p.setDefaultLanguage(y.languageCode),$.providerId=p.providerId||"",(0,P.xb)(p.getCustomParameters())||($.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Be,ht]of Object.entries(R||{}))$[Be]=ht}if(p instanceof vr){const Be=p.getScopes().filter(ht=>""!==ht);Be.length>0&&($.scopes=Be.join(","))}y.tenantId&&($.tid=y.tenantId);const re=$;for(const Be of Object.keys(re))void 0===re[Be]&&delete re[Be];return`${function _w({config:y}){return y.emulator?se(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(re).slice(1)}`}const Vu="webStorageSupport";class Uu extends class uv{constructor(p){this.factorId=p}_process(p,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,C);case"signin":return this._finalizeSignIn(p,g.credential);default:return qe("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Uu(p)}_finalizeEnroll(p,g,C){return function Eu(y,p){return Ne(y,"POST","/v2/accounts/mfaEnrollment:finalize",ve(y,p))}(p,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function uc(y,p){return Ne(y,"POST","/v2/accounts/mfaSignIn:finalize",ve(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kf=(()=>{class y{constructor(){}static assertion(g){return Uu._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Sg="@firebase/auth",Hu="0.19.12";class Qf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,s.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(C=>{var S;p((null===(S=C)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wa(){return window}function Gu(){return(Gu=(0,s.Z)(function*(y,p,g){var C;const{BuildInfo:S}=wa();Dt(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Jf(p.sessionId),$={};return Ei()?$.ibi=S.packageName:Xn()?$.apn=S.packageName:De(y,"operation-not-supported-in-this-environment"),S.displayName&&($.appDisplayName=S.displayName),$.sessionId=R,Wf(y,g,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,$)})).apply(this,arguments)}function kg(){return(kg=(0,s.Z)(function*(y){const{BuildInfo:p}=wa(),g={};Ei()?g.iosBundleId=p.packageName:Xn()?g.androidPackageName=p.packageName:De(y,"operation-not-supported-in-this-environment"),yield rh(y,g)})).apply(this,arguments)}function bc(){return(bc=(0,s.Z)(function*(y,p,g){const{cordova:C}=wa();let S=()=>{};try{yield new Promise((R,$)=>{let re=null;function Be(){var Z;R();const Jt=null===(Z=C.plugins.browsertab)||void 0===Z?void 0:Z.close;"function"==typeof Jt&&Jt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function ht(){re||(re=window.setTimeout(()=>{$(ye(y,"redirect-cancelled-by-user"))},2e3))}function Vt(){"visible"===(null==document?void 0:document.visibilityState)&&ht()}p.addPassiveListener(Be),document.addEventListener("resume",ht,!1),Xn()&&document.addEventListener("visibilitychange",Vt,!1),S=()=>{p.removePassiveListener(Be),document.removeEventListener("resume",ht,!1),document.removeEventListener("visibilitychange",Vt,!1),re&&window.clearTimeout(re)}})}finally{S()}})).apply(this,arguments)}function Jf(y){return uh.apply(this,arguments)}function uh(){return(uh=(0,s.Z)(function*(y){const p=hv(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function hv(y){if(Dt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let C=0;C<y.length;C++)g[C]=y.charCodeAt(C);return g}!function xg(y){(0,ae._registerComponent)(new Q.wA("auth",(p,{options:g})=>{const C=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:R,authDomain:$}=C.options;return((re,Be)=>{oe(R&&!R.includes(":"),"invalid-api-key",{appName:re.name}),oe(!(null==$?void 0:$.includes(":")),"argument-error",{appName:re.name});const ht={apiKey:R,authDomain:$,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:za(y)},Vt=new Or(re,Be,ht);return function lt(y,p){const g=(null==p?void 0:p.persistence)||[],C=(Array.isArray(g)?g:[g]).map(ut);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(Vt,g),Vt})(C,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,C)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Q.wA("auth-internal",p=>{const g=Oe(p.getProvider("auth").getImmediate());return new Qf(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Sg,Hu,function Ca(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Sg,Hu,"esm2017")}("Browser");class ep extends Li{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function tp(y){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,s.Z)(function*(y){const p=yield dh()._get(ip(y));return p&&(yield dh()._remove(ip(y))),p})).apply(this,arguments)}function np(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const C=Math.floor(Math.random()*p.length);y.push(p.charAt(C))}return y.join("")}function dh(){return ut(dn)}function ip(y){return ce("authEvent",y.config.apiKey,y.name)}function po(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,P.zd)(g.join("?"))}function wc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function Dc(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function fh(y=(0,P.z$)()){return!("file:"!==Dc()&&"ionic:"!==Dc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function hl(){try{const y=self.localStorage,p=Ns();if(y)return y.setItem(p,"1"),y.removeItem(p),!function $u(y=(0,P.z$)()){return function gv(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ph(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch(y){return fl()&&(0,P.hl)()}return!1}function fl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function cp(){return(function ap(){return"http:"===Dc()||"https:"===Dc()}()||(0,P.ru)()||fh())&&!function lp(){return(0,P.b$)()||(0,P.UG)()}()&&hl()&&!fl()}function Fg(){return fh()&&"undefined"!=typeof document}function mt(){return(mt=(0,s.Z)(function*(){return!!Fg()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const cn={LOCAL:"local",NONE:"none",SESSION:"session"},Us=oe,oi="persistence";function up(y){return dp.apply(this,arguments)}function dp(){return(dp=(0,s.Z)(function*(y){yield y._initializationPromise;const p=hp(),g=ce(oi,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function hp(){var y;try{return(null===(y=function rt(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const mh=oe;class ts{constructor(){this.browserResolver=ut(class cv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qr,this._completeRedirectFn=Sn}_openPopup(p,g,C,S){var R=this;return(0,s.Z)(function*(){var $;Dt(null===($=R.eventManagers[p._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const re=Wf(p,g,C,ps(),S);return function Yf(y,p,g,C=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),$=Math.max((window.screen.availWidth-C)/2,0).toString();let re="";const Be=Object.assign(Object.assign({},mw),{width:C.toString(),height:S.toString(),top:R,left:$}),ht=(0,P.z$)().toLowerCase();g&&(re=qi(ht)?"_blank":g),Et(ht)&&(p=p||"http://localhost",Be.scrollbars="yes");const Vt=Object.entries(Be).reduce((Jt,[Dr,Ut])=>`${Jt}${Dr}=${Ut},`,"");if(function Ll(y=(0,P.z$)()){var p;return Ei(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(ht)&&"_self"!==re)return function Bi(y,p){const g=document.createElement("a");g.href=y,g.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(p||"",re),new oh(null);const Z=window.open(p||"",re,Vt);oe(Z,y,"popup-blocked");try{Z.focus()}catch(Jt){}return new oh(Z)}(p,re,Ns())})()}_openRedirect(p,g,C,S){var R=this;return(0,s.Z)(function*(){return yield R._originValidation(p),function Xr(y){wn().location.href=y}(Wf(p,g,C,ps(),S)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:R}=this.eventManagers[g];return S?Promise.resolve(S):(Dt(R,"If manager is not set, promise should be"),R)}const C=this.initAndGetManager(p);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(p){var g=this;return(0,s.Z)(function*(){const C=yield function $o(y){return Mg.apply(this,arguments)}(p),S=new Li(p);return C.register("authEvent",R=>(oe(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=C,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Vu,{type:Vu},S=>{var R;const $=null===(R=null==S?void 0:S[0])||void 0===R?void 0:R[Vu];void 0!==$&&g(!!$),De(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function zf(y){return _c.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ss()||on()||Ei()}}),this.cordovaResolver=ut(class qu{constructor(){this._redirectPersistence=Qr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Sn}_initialize(p){var g=this;return(0,s.Z)(function*(){const C=p._key();let S=g.eventManagers.get(C);return S||(S=new ep(p),g.eventManagers.set(C,S),g.attachCallbackListeners(p,S)),S})()}_openPopup(p){De(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,C,S){var R=this;return(0,s.Z)(function*(){!function dv(y){var p,g,C,S,R,$,re,Be,ht,Vt;const Z=wa();oe("function"==typeof(null===(p=null==Z?void 0:Z.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(void 0!==(null===(g=null==Z?void 0:Z.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(R=null===(S=null===(C=null==Z?void 0:Z.cordova)||void 0===C?void 0:C.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Be=null===(re=null===($=null==Z?void 0:Z.cordova)||void 0===$?void 0:$.plugins)||void 0===re?void 0:re.browsertab)||void 0===Be?void 0:Be.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Vt=null===(ht=null==Z?void 0:Z.cordova)||void 0===ht?void 0:ht.InAppBrowser)||void 0===Vt?void 0:Vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const $=yield R._initialize(p);yield $.initialized(),$.resetRedirect(),function ih(){ir.clear()}(),yield R._originValidation(p);const re=function fv(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:np(),postBody:null,tenantId:y.tenantId,error:ye(y,"no-auth-event")}}(p,C,S);yield function Rg(y,p){return dh()._set(ip(y),p)}(p,re);const Be=yield function ch(y,p,g){return Gu.apply(this,arguments)}(p,re,g),ht=yield function dl(y){const{cordova:p}=wa();return new Promise(g=>{p.plugins.browsertab.isAvailable(C=>{let S=null;C?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function Mo(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(S)})})}(Be);return function Xf(y,p,g){return bc.apply(this,arguments)}(p,$,ht)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function zu(y){return kg.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:C,handleOpenURL:S,BuildInfo:R}=wa(),$=setTimeout((0,s.Z)(function*(){yield tp(p),g.onEvent(wc())}),500),re=function(){var Vt=(0,s.Z)(function*(Z){clearTimeout($);const Jt=yield tp(p);let Dr=null;Jt&&(null==Z?void 0:Z.url)&&(Dr=function Da(y,p){var g,C;const S=function Og(y){const p=po(y),g=p.link?decodeURIComponent(p.link):void 0,C=po(g).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return po(S).link||S||C||g||y}(p);if(S.includes("/__/auth/callback")){const R=po(S),$=R.firebaseError?function rp(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,re=null===(C=null===(g=null==$?void 0:$.code)||void 0===g?void 0:g.split("auth/"))||void 0===C?void 0:C[1],Be=re?ye(re):null;return Be?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Jt,Z.url)),g.onEvent(Dr||wc())});return function(Jt){return Vt.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,re);const Be=S,ht=`${R.packageName.toLowerCase()}://`;wa().handleOpenURL=function(){var Vt=(0,s.Z)(function*(Z){if(Z.toLowerCase().startsWith(ht)&&re({url:Z}),"function"==typeof Be)try{Be(Z)}catch(Jt){console.error(Jt)}});return function(Z){return Vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Qr,this._completeRedirectFn=Sn}_initialize(p){var g=this;return(0,s.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,C,S){var R=this;return(0,s.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,C,S)})()}_openRedirect(p,g,C,S){var R=this;return(0,s.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,C,S)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Fg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Vs(){return mt.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Zn(y){return y.unwrap()}function xn(y){return fp(y)}function fp(y){const{_tokenResponse:p}=y instanceof P.ZR?y.customData:y;if(!p)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Vr.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let C;switch(g){case"google.com":C=$a;break;case"facebook.com":C=So;break;case"github.com":C=Hd;break;case"twitter.com":C=Gl;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:$,pendingToken:re,nonce:Be}=p;return R||$||S||re?re?g.startsWith("saml.")?Ti._create(g,re):Rs._fromParams({providerId:g,signInMethod:g,pendingToken:re,idToken:S,accessToken:R}):new ia(g).credential({idToken:S,accessToken:R,rawNonce:Be}):null}return y instanceof P.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function Ur(y,p){return p.catch(g=>{throw g instanceof P.ZR&&function Ea(y,p){var g;const C=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new bs(y,function sc(y,p){var g;const C=(0,P.m9)(y),S=p;return oe(p.customData.operationType,C,"argument-error"),oe(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),el._fromError(C,S)}(y,p));else if(C){const S=fp(p),R=p;S&&(R.credential=S,R.tenantId=C.tenantId||void 0,R.email=C.email||void 0,R.phoneNumber=C.phoneNumber||void 0)}}(y,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:xn(g),additionalUserInfo:Ff(g),user:Vi.getOrCreate(S)}})}function pl(y,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,s.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:C=>Ur(y,g.confirm(C))}})).apply(this,arguments)}class bs{constructor(p,g){this.resolver=g,this.auth=function Zo(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ur(Zn(this.auth),this.resolver.resolveSignIn(p))}}class Vi{constructor(p){this._delegate=p,this.multiFactor=function la(y){const p=(0,P.m9)(y);return Fs.has(p)||Fs.set(p,Wd._fromUser(p)),Fs.get(p)}(p)}static getOrCreate(p){return Vi.USER_MAP.has(p)||Vi.USER_MAP.set(p,new Vi(p)),Vi.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,s.Z)(function*(){return Ur(g.auth,Zr(g._delegate,p))})()}linkWithPhoneNumber(p,g){var C=this;return(0,s.Z)(function*(){return pl(C.auth,function si(y,p,g){return nr.apply(this,arguments)}(C._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,s.Z)(function*(){return Ur(g.auth,function jf(y,p,g){return Pu.apply(this,arguments)}(g._delegate,p,ts))})()}linkWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield up(Oe(g.auth)),function At(y,p,g){return function it(y,p,g){return Xt.apply(this,arguments)}(y,p,g)}(g._delegate,p,ts)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,s.Z)(function*(){return Ur(g.auth,so(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return pl(this.auth,function ci(y,p,g){return ku.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Ur(this.auth,function rl(y,p,g){return va.apply(this,arguments)}(this._delegate,p,ts))}reauthenticateWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield up(Oe(g.auth)),function ue(y,p,g){return function xe(y,p,g){return Ze.apply(this,arguments)}(y,p,g)}(g._delegate,p,ts)})()}sendEmailVerification(p){return function co(y,p){return Wr.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,s.Z)(function*(){return yield function Za(y,p){return pu.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function qd(y,p){return $d((0,P.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function nc(y,p){return $d((0,P.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Br(y,p){return Go.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function oa(y,p){return tc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function vu(y,p,g){return Qa.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vi.USER_MAP=new WeakMap;const Cs=oe;let vi=(()=>{class y{constructor(g,C){if(this.app=g,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Cs(S,"invalid-api-key",{appName:g.name}),Cs(S,"invalid-api-key",{appName:g.name});const R="undefined"!=typeof window?ts:void 0;this._delegate=C.initialize({options:{persistence:gh(S,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,C){!function Mn(y,p,g){const C=Oe(y);oe(C._canInitEmulator,C,"emulator-config-failed"),oe(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),R=Pi(p),{host:$,port:re}=function Qs(y){const p=Pi(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(C);if(S){const R=S[1];return{host:R,port:ai(C.substr(R.length+1))}}{const[R,$]=C.split(":");return{host:R,port:ai($)}}}(p);C.config.emulator={url:`${R}//${$}${null===re?"":`:${re}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:$,port:re,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function gs(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,C)}applyActionCode(g){return function gu(y,p){return Ro.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ee(this._delegate,g)}confirmPasswordReset(g,C){return function mu(y,p,g){return Xl.apply(this,arguments)}(this._delegate,g,C)}createUserWithEmailAndPassword(g,C){var S=this;return(0,s.Z)(function*(){return Ur(S._delegate,function _u(y,p,g){return lo.apply(this,arguments)}(S._delegate,g,C))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Yr(y,p){return ec.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function zd(y,p){const g=Ao.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,s.Z)(function*(){Cs(cp(),g._delegate,"operation-not-supported-in-this-environment");const C=yield function kt(y,p){return yi.apply(this,arguments)}(g._delegate,ts);return C?Ur(g._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function mv(y,p){Oe(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,C,S){const{next:R,error:$,complete:re}=pp(g,C,S);return this._delegate.onAuthStateChanged(R,$,re)}onIdTokenChanged(g,C,S){const{next:R,error:$,complete:re}=pp(g,C,S);return this._delegate.onIdTokenChanged(R,$,re)}sendSignInLinkToEmail(g,C){return function yu(y,p,g){return Wa.apply(this,arguments)}(this._delegate,g,C)}sendPasswordResetEmail(g,C){return function Kl(y,p,g){return Ql.apply(this,arguments)}(this._delegate,g,C||void 0)}setPersistence(g){var C=this;return(0,s.Z)(function*(){let S;switch(function Un(y,p){Us(Object.values(cn).includes(p),y,"invalid-persistence-type"),(0,P.b$)()?Us(p!==cn.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?Us(p===cn.NONE,y,"unsupported-persistence-type"):fl()?Us(p===cn.NONE||p===cn.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):Us(p===cn.NONE||hl(),y,"unsupported-persistence-type")}(C._delegate,g),g){case cn.SESSION:S=Qr;break;case cn.LOCAL:S=(yield ut(_n)._isAvailable())?_n:dn;break;case cn.NONE:S=q;break;default:return De("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ur(this._delegate,function ql(y){return jd.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ur(this._delegate,ii(this._delegate,g))}signInWithCustomToken(g){return Ur(this._delegate,function oo(y,p){return ao.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,C){return Ur(this._delegate,function _s(y,p,g){return ii((0,P.m9)(y),fu.credential(p,g))}(this._delegate,g,C))}signInWithEmailLink(g,C){return Ur(this._delegate,function Pf(y,p,g){return Jl.apply(this,arguments)}(this._delegate,g,C))}signInWithPhoneNumber(g,C){return pl(this._delegate,function _a(y,p,g){return xu.apply(this,arguments)}(this._delegate,g,C))}signInWithPopup(g){var C=this;return(0,s.Z)(function*(){return Cs(cp(),C._delegate,"operation-not-supported-in-this-environment"),Ur(C._delegate,function nh(y,p,g){return zo.apply(this,arguments)}(C._delegate,g,ts))})()}signInWithRedirect(g){var C=this;return(0,s.Z)(function*(){return Cs(cp(),C._delegate,"operation-not-supported-in-this-environment"),yield up(C._delegate),function k(y,p,g){return function B(y,p,g){return Y.apply(this,arguments)}(y,p,g)}(C._delegate,g,ts)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Oo(y,p){return zn.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=cn,y})();function pp(y,p,g){let C=y;"function"!=typeof y&&({next:C,error:p,complete:g}=y);const S=C;return{next:$=>S($&&Vi.getOrCreate($)),error:p,complete:g}}function gh(y,p){const g=function _v(y,p){const g=hp();if(!g)return[];const C=ce(oi,y,p);switch(g.getItem(C)){case cn.NONE:return[q];case cn.LOCAL:return[_n,Qr];case cn.SESSION:return[Qr];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(_n)&&g.push(_n),"undefined"!=typeof window)for(const C of[dn,Qr])g.includes(C)||g.push(C);return g.includes(q)||g.push(q),g}class mp{constructor(){this.providerId="phone",this._delegate=new Vr(Zn(K.Z.auth()))}static credential(p,g){return Vr.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}mp.PHONE_SIGN_IN_METHOD=Vr.PHONE_SIGN_IN_METHOD,mp.PROVIDER_ID=Vr.PROVIDER_ID;const vw=oe;class yv{constructor(p,g,C=K.Z.app()){var S;vw(null===(S=C.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Vf(p,g,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bw(y){y.INTERNAL.registerComponent(new Q.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new vi(g,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fu,FacebookAuthProvider:So,GithubAuthProvider:Hd,GoogleAuthProvider:$a,OAuthProvider:ia,SAMLAuthProvider:Pr,PhoneAuthProvider:mp,PhoneMultiFactorGenerator:Kf,RecaptchaVerifier:yv,TwitterAuthProvider:Gl,Auth:vi,AuthCredential:gn,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.12")}(K.Z)},8306:(ft,Me,F)=>{F.d(Me,{y:()=>z});var s=F(930),K=F(727),P=F(8822),ae=F(4671);var Q=F(2416),fe=F(576),de=F(2806);let z=(()=>{class Te{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const _e=new Te;return _e.source=this,_e.operator=Le,_e}subscribe(Le,_e,be){const Xe=function ze(Te){return Te&&Te instanceof s.Lv||function ee(Te){return Te&&(0,fe.m)(Te.next)&&(0,fe.m)(Te.error)&&(0,fe.m)(Te.complete)}(Te)&&(0,K.Nn)(Te)}(Le)?Le:new s.Hp(Le,_e,be);return(0,de.x)(()=>{const{operator:Ye,source:De}=this;Xe.add(Ye?Ye.call(Xe,De):De?this._subscribe(Xe):this._trySubscribe(Xe))}),Xe}_trySubscribe(Le){try{return this._subscribe(Le)}catch(_e){Le.error(_e)}}forEach(Le,_e){return new(_e=G(_e))((be,Xe)=>{const Ye=new s.Hp({next:De=>{try{Le(De)}catch(ye){Xe(ye),Ye.unsubscribe()}},error:Xe,complete:be});this.subscribe(Ye)})}_subscribe(Le){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Le)}[P.L](){return this}pipe(...Le){return function ge(Te){return 0===Te.length?ae.y:1===Te.length?Te[0]:function(Le){return Te.reduce((_e,be)=>be(_e),Le)}}(Le)(this)}toPromise(Le){return new(Le=G(Le))((_e,be)=>{let Xe;this.subscribe(Ye=>Xe=Ye,Ye=>be(Ye),()=>_e(Xe))})}}return Te.create=Re=>new Te(Re),Te})();function G(Te){var Re;return null!==(Re=null!=Te?Te:Q.v.Promise)&&void 0!==Re?Re:Promise}},7579:(ft,Me,F)=>{F.d(Me,{x:()=>Q});var s=F(8306),K=F(727);const ae=(0,F(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=F(8737),ge=F(2806);let Q=(()=>{class de extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const ee=new fe(this,this);return ee.operator=G,ee}_throwIfClosed(){if(this.closed)throw new ae}next(G){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(G)}})}error(G){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:ee}=this;for(;ee.length;)ee.shift().error(G)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:ee,isStopped:ze,observers:Te}=this;return ee||ze?K.Lc:(this.currentObservers=null,Te.push(G),new K.w0(()=>{this.currentObservers=null,(0,ne.P)(Te,G)}))}_checkFinalizedStatuses(G){const{hasError:ee,thrownError:ze,isStopped:Te}=this;ee?G.error(ze):Te&&G.complete()}asObservable(){const G=new s.y;return G.source=this,G}}return de.create=(z,G)=>new fe(z,G),de})();class fe extends Q{constructor(z,G){super(),this.destination=z,this.source=G}next(z){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===ee||ee.call(G,z)}error(z){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===ee||ee.call(G,z)}complete(){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===G||G.call(z)}_subscribe(z){var G,ee;return null!==(ee=null===(G=this.source)||void 0===G?void 0:G.subscribe(z))&&void 0!==ee?ee:K.Lc}}},930:(ft,Me,F)=>{F.d(Me,{Hp:()=>Le,Lv:()=>ee});var s=F(576),K=F(727),P=F(2416),ae=F(7849),ne=F(5032);const ge=de("C",void 0,void 0);function de(De,ye,we){return{kind:De,value:ye,error:we}}var z=F(3410),G=F(2806);class ee extends K.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,K.Nn)(ye)&&ye.add(this)):this.destination=Ye}static create(ye,we,Ve){return new Le(ye,we,Ve)}next(ye){this.isStopped?Xe(function fe(De){return de("N",De,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Xe(function Q(De){return de("E",void 0,De)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Xe(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Te(De,ye){return ze.call(De,ye)}class Re{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:we}=this;if(we.next)try{we.next(ye)}catch(Ve){_e(Ve)}}error(ye){const{partialObserver:we}=this;if(we.error)try{we.error(ye)}catch(Ve){_e(Ve)}else _e(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(we){_e(we)}}}class Le extends ee{constructor(ye,we,Ve){let He;if(super(),(0,s.m)(ye)||!ye)He={next:null!=ye?ye:void 0,error:null!=we?we:void 0,complete:null!=Ve?Ve:void 0};else{let oe;this&&P.v.useDeprecatedNextContext?(oe=Object.create(ye),oe.unsubscribe=()=>this.unsubscribe(),He={next:ye.next&&Te(ye.next,oe),error:ye.error&&Te(ye.error,oe),complete:ye.complete&&Te(ye.complete,oe)}):He=ye}this.destination=new Re(He)}}function _e(De){P.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(De):(0,ae.h)(De)}function Xe(De,ye){const{onStoppedNotification:we}=P.v;we&&z.z.setTimeout(()=>we(De,ye))}const Ye={closed:!0,next:ne.Z,error:function be(De){throw De},complete:ne.Z}},727:(ft,Me,F)=>{F.d(Me,{Lc:()=>ge,w0:()=>ne,Nn:()=>Q});var s=F(576);const P=(0,F(3888).d)(de=>function(G){de(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((ee,ze)=>`${ze+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ae=F(8737);class ne{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Te of G)Te.remove(this);else G.remove(this);const{initialTeardown:ee}=this;if((0,s.m)(ee))try{ee()}catch(Te){z=Te instanceof P?Te.errors:[Te]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Te of ze)try{fe(Te)}catch(Re){z=null!=z?z:[],Re instanceof P?z=[...z,...Re.errors]:z.push(Re)}}if(z)throw new P(z)}}add(z){var G;if(z&&z!==this)if(this.closed)fe(z);else{if(z instanceof ne){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(z)}}_hasParent(z){const{_parentage:G}=this;return G===z||Array.isArray(G)&&G.includes(z)}_addParent(z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(z),G):G?[G,z]:z}_removeParent(z){const{_parentage:G}=this;G===z?this._parentage=null:Array.isArray(G)&&(0,ae.P)(G,z)}remove(z){const{_finalizers:G}=this;G&&(0,ae.P)(G,z),z instanceof ne&&z._removeParent(this)}}ne.EMPTY=(()=>{const de=new ne;return de.closed=!0,de})();const ge=ne.EMPTY;function Q(de){return de instanceof ne||de&&"closed"in de&&(0,s.m)(de.remove)&&(0,s.m)(de.add)&&(0,s.m)(de.unsubscribe)}function fe(de){(0,s.m)(de)?de():de.unsubscribe()}},2416:(ft,Me,F)=>{F.d(Me,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,Me,F)=>{F.d(Me,{E:()=>K});const K=new(F(8306).y)(ne=>ne.complete())},8996:(ft,Me,F)=>{F.d(Me,{D:()=>ye});var s=F(8421),K=F(5363),P=F(9468),ge=F(8306),fe=F(2202),de=F(576),z=F(9672);function ee(we,Ve){if(!we)throw new Error("Iterable cannot be null");return new ge.y(He=>{(0,z.f)(He,Ve,()=>{const oe=we[Symbol.asyncIterator]();(0,z.f)(He,Ve,()=>{oe.next().then(qe=>{qe.done?He.complete():He.next(qe.value)})},0,!0)})})}var ze=F(3670),Te=F(8239),Re=F(1144),Le=F(6495),_e=F(2206),be=F(4532),Xe=F(3260);function ye(we,Ve){return Ve?function De(we,Ve){if(null!=we){if((0,ze.c)(we))return function ae(we,Ve){return(0,s.Xf)(we).pipe((0,P.R)(Ve),(0,K.Q)(Ve))}(we,Ve);if((0,Re.z)(we))return function Q(we,Ve){return new ge.y(He=>{let oe=0;return Ve.schedule(function(){oe===we.length?He.complete():(He.next(we[oe++]),He.closed||this.schedule())})})}(we,Ve);if((0,Te.t)(we))return function ne(we,Ve){return(0,s.Xf)(we).pipe((0,P.R)(Ve),(0,K.Q)(Ve))}(we,Ve);if((0,_e.D)(we))return ee(we,Ve);if((0,Le.T)(we))return function G(we,Ve){return new ge.y(He=>{let oe;return(0,z.f)(He,Ve,()=>{oe=we[fe.h](),(0,z.f)(He,Ve,()=>{let qe,Dt;try{({value:qe,done:Dt}=oe.next())}catch(qt){return void He.error(qt)}Dt?He.complete():He.next(qe)},0,!0)}),()=>(0,de.m)(null==oe?void 0:oe.return)&&oe.return()})}(we,Ve);if((0,Xe.L)(we))return function Ye(we,Ve){return ee((0,Xe.Q)(we),Ve)}(we,Ve)}throw(0,be.z)(we)}(we,Ve):(0,s.Xf)(we)}},8421:(ft,Me,F)=>{F.d(Me,{Xf:()=>ze});var s=F(7582),K=F(1144),P=F(8239),ae=F(8306),ne=F(3670),ge=F(2206),Q=F(4532),fe=F(6495),de=F(3260),z=F(576),G=F(7849),ee=F(8822);function ze(De){if(De instanceof ae.y)return De;if(null!=De){if((0,ne.c)(De))return function Te(De){return new ae.y(ye=>{const we=De[ee.L]();if((0,z.m)(we.subscribe))return we.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,K.z)(De))return function Re(De){return new ae.y(ye=>{for(let we=0;we<De.length&&!ye.closed;we++)ye.next(De[we]);ye.complete()})}(De);if((0,P.t)(De))return function Le(De){return new ae.y(ye=>{De.then(we=>{ye.closed||(ye.next(we),ye.complete())},we=>ye.error(we)).then(null,G.h)})}(De);if((0,ge.D)(De))return be(De);if((0,fe.T)(De))return function _e(De){return new ae.y(ye=>{for(const we of De)if(ye.next(we),ye.closed)return;ye.complete()})}(De);if((0,de.L)(De))return function Xe(De){return be((0,de.Q)(De))}(De)}throw(0,Q.z)(De)}function be(De){return new ae.y(ye=>{(function Ye(De,ye){var we,Ve,He,oe;return(0,s.mG)(this,void 0,void 0,function*(){try{for(we=(0,s.KL)(De);!(Ve=yield we.next()).done;)if(ye.next(Ve.value),ye.closed)return}catch(qe){He={error:qe}}finally{try{Ve&&!Ve.done&&(oe=we.return)&&(yield oe.call(we))}finally{if(He)throw He.error}}ye.complete()})})(De,ye).catch(we=>ye.error(we))})}},6451:(ft,Me,F)=>{F.d(Me,{T:()=>ge});var s=F(8189),K=F(8421),P=F(515),ae=F(3269),ne=F(8996);function ge(...Q){const fe=(0,ae.yG)(Q),de=(0,ae._6)(Q,1/0),z=Q;return z.length?1===z.length?(0,K.Xf)(z[0]):(0,s.J)(de)((0,ne.D)(z,fe)):P.E}},5403:(ft,Me,F)=>{F.d(Me,{x:()=>K});var s=F(930);function K(ae,ne,ge,Q,fe){return new P(ae,ne,ge,Q,fe)}class P extends s.Lv{constructor(ne,ge,Q,fe,de,z){super(ne),this.onFinalize=de,this.shouldUnsubscribe=z,this._next=ge?function(G){try{ge(G)}catch(ee){ne.error(ee)}}:super._next,this._error=fe?function(G){try{fe(G)}catch(ee){ne.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(G){ne.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(ft,Me,F)=>{F.d(Me,{U:()=>P});var s=F(4482),K=F(5403);function P(ae,ne){return(0,s.e)((ge,Q)=>{let fe=0;ge.subscribe((0,K.x)(Q,de=>{Q.next(ae.call(ne,de,fe++))}))})}},8189:(ft,Me,F)=>{F.d(Me,{J:()=>P});var s=F(5577),K=F(4671);function P(ae=1/0){return(0,s.z)(K.y,ae)}},5577:(ft,Me,F)=>{F.d(Me,{z:()=>fe});var s=F(4004),K=F(8421),P=F(4482),ae=F(9672),ne=F(5403),Q=F(576);function fe(de,z,G=1/0){return(0,Q.m)(z)?fe((ee,ze)=>(0,s.U)((Te,Re)=>z(ee,Te,ze,Re))((0,K.Xf)(de(ee,ze))),G):("number"==typeof z&&(G=z),(0,P.e)((ee,ze)=>function ge(de,z,G,ee,ze,Te,Re,Le){const _e=[];let be=0,Xe=0,Ye=!1;const De=()=>{Ye&&!_e.length&&!be&&z.complete()},ye=Ve=>be<ee?we(Ve):_e.push(Ve),we=Ve=>{Te&&z.next(Ve),be++;let He=!1;(0,K.Xf)(G(Ve,Xe++)).subscribe((0,ne.x)(z,oe=>{null==ze||ze(oe),Te?ye(oe):z.next(oe)},()=>{He=!0},void 0,()=>{if(He)try{for(be--;_e.length&&be<ee;){const oe=_e.shift();Re?(0,ae.f)(z,Re,()=>we(oe)):we(oe)}De()}catch(oe){z.error(oe)}}))};return de.subscribe((0,ne.x)(z,ye,()=>{Ye=!0,De()})),()=>{null==Le||Le()}}(ee,ze,de,G)))}},5363:(ft,Me,F)=>{F.d(Me,{Q:()=>ae});var s=F(9672),K=F(4482),P=F(5403);function ae(ne,ge=0){return(0,K.e)((Q,fe)=>{Q.subscribe((0,P.x)(fe,de=>(0,s.f)(fe,ne,()=>fe.next(de),ge),()=>(0,s.f)(fe,ne,()=>fe.complete(),ge),de=>(0,s.f)(fe,ne,()=>fe.error(de),ge)))})}},3099:(ft,Me,F)=>{F.d(Me,{B:()=>ne});var s=F(8421),K=F(7579),P=F(930),ae=F(4482);function ne(Q={}){const{connector:fe=(()=>new K.x),resetOnError:de=!0,resetOnComplete:z=!0,resetOnRefCountZero:G=!0}=Q;return ee=>{let ze,Te,Re,Le=0,_e=!1,be=!1;const Xe=()=>{null==Te||Te.unsubscribe(),Te=void 0},Ye=()=>{Xe(),ze=Re=void 0,_e=be=!1},De=()=>{const ye=ze;Ye(),null==ye||ye.unsubscribe()};return(0,ae.e)((ye,we)=>{Le++,!be&&!_e&&Xe();const Ve=Re=null!=Re?Re:fe();we.add(()=>{Le--,0===Le&&!be&&!_e&&(Te=ge(De,G))}),Ve.subscribe(we),!ze&&Le>0&&(ze=new P.Hp({next:He=>Ve.next(He),error:He=>{be=!0,Xe(),Te=ge(Ye,de,He),Ve.error(He)},complete:()=>{_e=!0,Xe(),Te=ge(Ye,z),Ve.complete()}}),(0,s.Xf)(ye).subscribe(ze))})(ee)}}function ge(Q,fe,...de){if(!0===fe)return void Q();if(!1===fe)return;const z=new P.Hp({next:()=>{z.unsubscribe(),Q()}});return fe(...de).subscribe(z)}},9468:(ft,Me,F)=>{F.d(Me,{R:()=>K});var s=F(4482);function K(P,ae=0){return(0,s.e)((ne,ge)=>{ge.add(P.schedule(()=>ne.subscribe(ge),ae))})}},8505:(ft,Me,F)=>{F.d(Me,{b:()=>ne});var s=F(576),K=F(4482),P=F(5403),ae=F(4671);function ne(ge,Q,fe){const de=(0,s.m)(ge)||Q||fe?{next:ge,error:Q,complete:fe}:ge;return de?(0,K.e)((z,G)=>{var ee;null===(ee=de.subscribe)||void 0===ee||ee.call(de);let ze=!0;z.subscribe((0,P.x)(G,Te=>{var Re;null===(Re=de.next)||void 0===Re||Re.call(de,Te),G.next(Te)},()=>{var Te;ze=!1,null===(Te=de.complete)||void 0===Te||Te.call(de),G.complete()},Te=>{var Re;ze=!1,null===(Re=de.error)||void 0===Re||Re.call(de,Te),G.error(Te)},()=>{var Te,Re;ze&&(null===(Te=de.unsubscribe)||void 0===Te||Te.call(de)),null===(Re=de.finalize)||void 0===Re||Re.call(de)}))}):ae.y}},4408:(ft,Me,F)=>{F.d(Me,{o:()=>ne});var s=F(727);class K extends s.w0{constructor(Q,fe){super()}schedule(Q,fe=0){return this}}const P={setInterval(ge,Q,...fe){const{delegate:de}=P;return(null==de?void 0:de.setInterval)?de.setInterval(ge,Q,...fe):setInterval(ge,Q,...fe)},clearInterval(ge){const{delegate:Q}=P;return((null==Q?void 0:Q.clearInterval)||clearInterval)(ge)},delegate:void 0};var ae=F(8737);class ne extends K{constructor(Q,fe){super(Q,fe),this.scheduler=Q,this.work=fe,this.pending=!1}schedule(Q,fe=0){var de;if(this.closed)return this;this.state=Q;const z=this.id,G=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(G,z,fe)),this.pending=!0,this.delay=fe,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(G,this.id,fe),this}requestAsyncId(Q,fe,de=0){return P.setInterval(Q.flush.bind(Q,this),de)}recycleAsyncId(Q,fe,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return fe;null!=fe&&P.clearInterval(fe)}execute(Q,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(Q,fe);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,fe){let z,de=!1;try{this.work(Q)}catch(G){de=!0,z=G||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:Q,scheduler:fe}=this,{actions:de}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(de,this),null!=Q&&(this.id=this.recycleAsyncId(fe,Q,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,Me,F)=>{F.d(Me,{v:()=>P});var s=F(6063);class K{constructor(ne,ge=K.now){this.schedulerActionCtor=ne,this.now=ge}schedule(ne,ge=0,Q){return new this.schedulerActionCtor(this,ne).schedule(Q,ge)}}K.now=s.l.now;class P extends K{constructor(ne,ge=K.now){super(ne,ge),this.actions=[],this._active=!1}flush(ne){const{actions:ge}=this;if(this._active)return void ge.push(ne);let Q;this._active=!0;do{if(Q=ne.execute(ne.state,ne.delay))break}while(ne=ge.shift());if(this._active=!1,Q){for(;ne=ge.shift();)ne.unsubscribe();throw Q}}}},4986:(ft,Me,F)=>{F.d(Me,{P:()=>ae,z:()=>P});var s=F(4408);const P=new(F(7565).v)(s.o),ae=P},6063:(ft,Me,F)=>{F.d(Me,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(ft,Me,F)=>{F.d(Me,{z:()=>s});const s={setTimeout(K,P,...ae){const{delegate:ne}=s;return(null==ne?void 0:ne.setTimeout)?ne.setTimeout(K,P,...ae):setTimeout(K,P,...ae)},clearTimeout(K){const{delegate:P}=s;return((null==P?void 0:P.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(ft,Me,F)=>{F.d(Me,{h:()=>K});const K=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Me,F)=>{F.d(Me,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ft,Me,F)=>{F.d(Me,{_6:()=>ge,jO:()=>ae,yG:()=>ne});var s=F(576),K=F(3532);function P(Q){return Q[Q.length-1]}function ae(Q){return(0,s.m)(P(Q))?Q.pop():void 0}function ne(Q){return(0,K.K)(P(Q))?Q.pop():void 0}function ge(Q,fe){return"number"==typeof P(Q)?Q.pop():fe}},8737:(ft,Me,F)=>{function s(K,P){if(K){const ae=K.indexOf(P);0<=ae&&K.splice(ae,1)}}F.d(Me,{P:()=>s})},3888:(ft,Me,F)=>{function s(K){const ae=K(ne=>{Error.call(ne),ne.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}F.d(Me,{d:()=>s})},2806:(ft,Me,F)=>{F.d(Me,{O:()=>ae,x:()=>P});var s=F(2416);let K=null;function P(ne){if(s.v.useDeprecatedSynchronousErrorHandling){const ge=!K;if(ge&&(K={errorThrown:!1,error:null}),ne(),ge){const{errorThrown:Q,error:fe}=K;if(K=null,Q)throw fe}}else ne()}function ae(ne){s.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=ne)}},9672:(ft,Me,F)=>{function s(K,P,ae,ne=0,ge=!1){const Q=P.schedule(function(){ae(),ge?K.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(K.add(Q),!ge)return Q}F.d(Me,{f:()=>s})},4671:(ft,Me,F)=>{function s(K){return K}F.d(Me,{y:()=>s})},1144:(ft,Me,F)=>{F.d(Me,{z:()=>s});const s=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(ft,Me,F)=>{F.d(Me,{D:()=>K});var s=F(576);function K(P){return Symbol.asyncIterator&&(0,s.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(ft,Me,F)=>{function s(K){return"function"==typeof K}F.d(Me,{m:()=>s})},3670:(ft,Me,F)=>{F.d(Me,{c:()=>P});var s=F(8822),K=F(576);function P(ae){return(0,K.m)(ae[s.L])}},6495:(ft,Me,F)=>{F.d(Me,{T:()=>P});var s=F(2202),K=F(576);function P(ae){return(0,K.m)(null==ae?void 0:ae[s.h])}},8239:(ft,Me,F)=>{F.d(Me,{t:()=>K});var s=F(576);function K(P){return(0,s.m)(null==P?void 0:P.then)}},3260:(ft,Me,F)=>{F.d(Me,{L:()=>ae,Q:()=>P});var s=F(7582),K=F(576);function P(ne){return(0,s.FC)(this,arguments,function*(){const Q=ne.getReader();try{for(;;){const{value:fe,done:de}=yield(0,s.qq)(Q.read());if(de)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(fe)}}finally{Q.releaseLock()}})}function ae(ne){return(0,K.m)(null==ne?void 0:ne.getReader)}},3532:(ft,Me,F)=>{F.d(Me,{K:()=>K});var s=F(576);function K(P){return P&&(0,s.m)(P.schedule)}},4482:(ft,Me,F)=>{F.d(Me,{A:()=>K,e:()=>P});var s=F(576);function K(ae){return(0,s.m)(null==ae?void 0:ae.lift)}function P(ae){return ne=>{if(K(ne))return ne.lift(function(ge){try{return ae(ge,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ft,Me,F)=>{function s(){}F.d(Me,{Z:()=>s})},7849:(ft,Me,F)=>{F.d(Me,{h:()=>P});var s=F(2416),K=F(3410);function P(ae){K.z.setTimeout(()=>{const{onUnhandledError:ne}=s.v;if(!ne)throw ae;ne(ae)})}},4532:(ft,Me,F)=>{function s(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Me,{z:()=>s})},5e3:(ft,Me,F)=>{F.d(Me,{$8M:()=>ma,$Z:()=>jp,AFp:()=>O0,ALo:()=>p0,AaK:()=>fe,BQk:()=>Uh,CHM:()=>Oo,CRH:()=>Wc,CZH:()=>hy,CqO:()=>Rc,DdM:()=>IE,EJc:()=>CA,EiD:()=>Cw,EpF:()=>qp,F$t:()=>rd,F4k:()=>Tb,FYo:()=>a0,FiY:()=>Li,Gf:()=>cf,GfV:()=>Q_,GkF:()=>O_,Gpc:()=>G,Gre:()=>Nb,Hsn:()=>SD,Ikx:()=>$h,JOm:()=>$o,JVY:()=>pp,L6k:()=>gh,LAX:()=>vw,LFG:()=>it,LSH:()=>Bg,Lbi:()=>F0,MAs:()=>vb,NdJ:()=>F_,O4$:()=>iv,OlP:()=>$n,Oqu:()=>Il,PXZ:()=>km,Q6J:()=>x_,QGY:()=>P_,Qsj:()=>vE,R0b:()=>Es,RDi:()=>Os,Rgc:()=>vd,SBq:()=>rf,Sil:()=>B0,Suo:()=>kl,TTD:()=>So,TgZ:()=>R_,Udp:()=>Rb,VKq:()=>ME,VLi:()=>Sm,WFA:()=>N_,X6Q:()=>K0,XFs:()=>Qe,Xpm:()=>zt,Y36:()=>nd,YKP:()=>DE,YNc:()=>Nh,Yjl:()=>qi,Yz7:()=>ie,ZZ4:()=>aC,_Bn:()=>gE,_UZ:()=>id,_Vd:()=>jc,_c5:()=>BA,_uU:()=>di,aQg:()=>Dy,c2e:()=>N0,cJS:()=>ve,cg1:()=>H_,d8E:()=>ud,dDg:()=>JE,deG:()=>Bf,dqk:()=>Wt,eBb:()=>mp,eFA:()=>Dd,ekj:()=>L_,f3M:()=>kt,g9A:()=>YE,h0i:()=>Hi,hGG:()=>cC,hij:()=>jh,iGM:()=>NE,ifc:()=>nn,ip1:()=>Tm,kL8:()=>WD,kcU:()=>rc,lG2:()=>on,lcZ:()=>gm,mCW:()=>R,n5z:()=>pa,n_E:()=>xi,oAB:()=>J,oxw:()=>Mb,pB0:()=>yv,q3G:()=>Mi,q4F:()=>bE,qLn:()=>Ug,qOj:()=>Sh,qZA:()=>zp,qzn:()=>Cs,sBO:()=>X0,sIi:()=>kh,s_b:()=>ty,soG:()=>L0,tBr:()=>wr,tb:()=>WE,tp0:()=>gc,uIk:()=>E_,vHH:()=>Re,vpe:()=>Do,wAp:()=>bt,xp6:()=>Ow,yhl:()=>vi,ynx:()=>Vh,z2F:()=>gy,z3N:()=>Vi,zSh:()=>ib,zs3:()=>_o});var s=F(7579),K=F(727),P=F(8306),ae=F(6451),ne=F(3099);function ge(a){for(let l in a)if(a[l]===ge)return l;throw Error("Could not find renamed property on target object.")}function Q(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function fe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(fe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function de(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const z=ge({__forward_ref__:ge});function G(a){return a.__forward_ref__=G,a.toString=function(){return fe(this())},a}function ee(a){return ze(a)?a():a}function ze(a){return"function"==typeof a&&a.hasOwnProperty(z)&&a.__forward_ref__===G}class Re extends Error{constructor(l,c){super(function Le(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,c)),this.code=l}}function _e(a){return"string"==typeof a?a:null==a?"":String(a)}function be(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():_e(a)}function ye(a,l){const c=l?` in ${l}`:"";throw new Re(-201,`No provider for ${be(a)} found${c}`)}function ei(a,l){null==a&&function Lt(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function ie(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function ve(a){return{providers:a.providers||[],imports:a.imports||[]}}function Ne(a){return xt(a,Dn)||xt(a,tn)}function xt(a,l){return a.hasOwnProperty(l)?a[l]:null}function Zt(a){return a&&(a.hasOwnProperty(ti)||a.hasOwnProperty(Hn))?a[ti]:null}const Dn=ge({\u0275prov:ge}),ti=ge({\u0275inj:ge}),tn=ge({ngInjectableDef:ge}),Hn=ge({ngInjectorDef:ge});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let jn;function pi(a){const l=jn;return jn=a,l}function Rr(a,l,c){const d=Ne(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&Qe.Optional?null:void 0!==l?l:void ye(fe(a),"Injector")}function Bn(a){return{toString:a}.toString()}var Di=(()=>((Di=Di||{})[Di.OnPush=0]="OnPush",Di[Di.Default=1]="Default",Di))(),nn=(()=>{return(a=nn||(nn={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",nn;var a})();const dt="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,Ri="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Wt=dt||"undefined"!=typeof global&&global||It||Ri,Oi={},gt=[],zi=ge({\u0275cmp:ge}),$t=ge({\u0275dir:ge}),We=ge({\u0275pipe:ge}),Ae=ge({\u0275mod:ge}),Je=ge({\u0275fac:ge}),_t=ge({__NG_ELEMENT_ID__:ge});let Yt=0;function zt(a){return Bn(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Di.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||gt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||nn.Emulated,id:"c",styles:a.styles||gt,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,m=a.features,v=a.pipes;return d.id+=Yt++,d.inputs=Et(a.inputs,c),d.outputs=Et(a.outputs),m&&m.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(V):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(q):null,d})}function V(a){return Kt(a)||function Xn(a){return a[$t]||null}(a)}function q(a){return function Bt(a){return a[We]||null}(a)}const ce={};function J(a){return Bn(()=>{const l={type:a.type,bootstrap:a.bootstrap||gt,declarations:a.declarations||gt,imports:a.imports||gt,exports:a.exports||gt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(ce[a.id]=a.type),l})}function Et(a,l){if(null==a)return Oi;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,l&&(l[f]=m)}return c}const on=zt;function qi(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Kt(a){return a[zi]||null}function In(a,l){const c=a[Ae]||null;if(!c&&!0===l)throw new Error(`Type ${fe(a)} does not have '\u0275mod' property.`);return c}function er(a){return Array.isArray(a)&&"object"==typeof a[1]}function $i(a){return Array.isArray(a)&&!0===a[1]}function uu(a){return 0!=(8&a.flags)}function eo(a){return 2==(2&a.flags)}function Ul(a){return 1==(1&a.flags)}function yr(a){return null!==a.template}function Nd(a){return 0!=(512&a[2])}function vr(a,l){return a.hasOwnProperty(Je)?a[Je]:null}class ia{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function So(){return $a}function $a(a){return a.type.prototype.ngOnChanges&&(a.setInput=wg),Hd}function Hd(){const a=io(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===Oi)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function wg(a,l,c,d){const f=io(a)||function Pr(a,l){return a[Ti]=l}(a,{previous:Oi,current:null}),m=f.current||(f.current={}),v=f.previous,w=this.declaredInputs[c],D=v[w];m[w]=new ia(D&&D.currentValue,l,v===Oi),a[d]=l}So.ngInherit=!0;const Ti="__ngSimpleChanges__";function io(a){return a[Ti]||null}let Zl;function Os(a){Zl=a}function Pn(a){return!!a.listen}const ra={createRenderer:(a,l)=>function Za(){return void 0!==Zl?Zl:"undefined"!=typeof document?document:void 0}()};function Cn(a){for(;Array.isArray(a);)a=a[0];return a}function ko(a,l){return Cn(l[a])}function Ni(a,l){return Cn(l[a.index])}function Ya(a,l){return a.data[l]}function Zr(a,l){return a[l]}function Zi(a,l){const c=l[a];return er(c)?c:c[0]}function so(a){return 4==(4&a[2])}function Ps(a){return 128==(128&a[2])}function br(a,l){return null==l?null:a[l]}function oo(a){a[18]=0}function ao(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const wt={lFrame:Zd(null),bindingsEnabled:!0};function Xl(){return wt.bindingsEnabled}function Ee(){return wt.lFrame.lView}function Qt(){return wt.lFrame.tView}function Oo(a){return wt.lFrame.contextLView=a,a[8]}function zn(){let a=_u();for(;null!==a&&64===a.type;)a=a.parent;return a}function _u(){return wt.lFrame.currentTNode}function _s(a,l){const c=wt.lFrame;c.currentTNode=a,c.isParent=l}function yu(){return wt.lFrame.isParent}function Wa(){wt.lFrame.isParent=!1}function _i(){const a=wt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function co(){return wt.lFrame.bindingIndex++}function Wr(a){const l=wt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function bu(a,l){const c=wt.lFrame;c.bindingIndex=c.bindingRootIndex=a,oa(l)}function oa(a){wt.lFrame.currentDirectiveIndex=a}function tc(a){const l=wt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function qd(){return wt.lFrame.currentQueryIndex}function nc(a){wt.lFrame.currentQueryIndex=a}function $d(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Xa(a,l,c){if(c&Qe.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||c&Qe.Host||(f=$d(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,a=m}const d=wt.lFrame=Po();return d.currentTNode=l,d.lView=a,!0}function ic(a){const l=Po(),c=a[1];wt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Po(){const a=wt.lFrame,l=null===a?null:a.child;return null===l?Zd(a):l}function Zd(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Yd(){const a=wt.lFrame;return wt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Ja=Yd;function Kr(){const a=Yd();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Yi(){return wt.lFrame.selectedIndex}function Fo(a){wt.lFrame.selectedIndex=a}function qn(){const a=wt.lFrame;return Ya(a.tView,a.selectedIndex)}function iv(){wt.lFrame.currentNamespace="svg"}function rc(){!function rv(){wt.lFrame.currentNamespace=null}()}function el(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const m=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:x}=m;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),w&&((a.contentHooks||(a.contentHooks=[])).push(c,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,w)),D&&(a.viewHooks||(a.viewHooks=[])).push(-c,D),A&&((a.viewHooks||(a.viewHooks=[])).push(c,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,A)),null!=x&&(a.destroyHooks||(a.destroyHooks=[])).push(c,x)}}function sc(a,l,c){Nf(a,l,3,c)}function ri(a,l,c,d){(3&a[2])===c&&Nf(a,l,c,d)}function Eu(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function Nf(a,l,c,d){const m=null!=d?d:-1,v=l.length-1;let w=0;for(let D=void 0!==d?65535&a[18]:0;D<v;D++)if("number"==typeof l[D+1]){if(w=l[D],null!=d&&w>=d)break}else l[D]<0&&(a[18]+=65536),(w<m||-1==m)&&(Wd(a,c,l,D),a[18]=(4294901760&a[18])+D+2),D++}function Wd(a,l,c,d){const f=c[d]<0,m=c[d+1],w=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class la{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Qr(a,l,c){const d=Pn(a);let f=0;for(;f<c.length;){const m=c[f];if("number"==typeof m){if(0!==m)break;f++;const v=c[f++],w=c[f++],D=c[f++];d?a.setAttribute(l,w,D,v):l.setAttributeNS(v,w,D)}else{const v=m,w=c[++f];ac(v)?d&&a.setProperty(l,v,w):d?a.setAttribute(l,v,w):l.setAttribute(v,w),f++}}return f}function Kd(a){return 3===a||4===a||6===a}function ac(a){return 64===a.charCodeAt(0)}function Ns(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||Qd(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function Qd(a,l,c,d,f){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const w=a[m++];if("number"==typeof w){if(w===l){v=-1;break}if(w>l){v=m-1;break}}}for(;m<a.length;){const w=a[m];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(a[m+1]=f));if(d===a[m+1])return void(a[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,c),null!==d&&a.splice(m++,0,d),null!==f&&a.splice(m++,0,f)}function wn(a){return-1!==a}function Xr(a){return 32767&a}function nt(a,l){let c=function Fn(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let No=!0;function lc(a){const l=No;return No=a,l}let Lo=0;function An(a,l){const c=Fr(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,ua(d.data,a),ua(l,null),ua(d.blueprint,null));const f=Bo(a,l),m=a.injectorIndex;if(wn(f)){const v=Xr(f),w=nt(f,l),D=w[1].data;for(let A=0;A<8;A++)l[m+A]=w[v+A]|D[v+A]}return l[m+8]=f,m}function ua(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Fr(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Bo(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){const m=f[1],v=m.type;if(d=2===v?m.declTNode:1===v?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function da(a,l,c){!function uo(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(_t)&&(d=c[_t]),null==d&&(d=c[_t]=Lo++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function Vo(a,l,c){if(c&Qe.Optional)return a;ye(l,"NodeInjector")}function Nr(a,l,c,d){if(c&Qe.Optional&&void 0===d&&(d=null),0==(c&(Qe.Self|Qe.Host))){const f=a[9],m=pi(void 0);try{return f?f.get(l,d,c&Qe.Optional):Rr(l,d,c&Qe.Optional)}finally{pi(m)}}return Vo(d,l,c)}function ho(a,l,c,d=Qe.Default,f){if(null!==a){const m=function uc(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(_t)?a[_t]:void 0;return"number"==typeof l?l>=0?255&l:Uo:l}(c);if("function"==typeof m){if(!Xa(l,a,d))return d&Qe.Host?Vo(f,c,d):Nr(l,c,d,f);try{const v=m(d);if(null!=v||d&Qe.Optional)return v;ye(c)}finally{Ja()}}else if("number"==typeof m){let v=null,w=Fr(a,l),D=-1,A=d&Qe.Host?l[16][6]:null;for((-1===w||d&Qe.SkipSelf)&&(D=-1===w?Bo(a,l):l[w+8],-1!==D&&Ho(d,!1)?(v=l[1],w=Xr(D),l=nt(D,l)):w=-1);-1!==w;){const x=l[1];if(Mu(m,w,x.data)){const N=Eg(w,l,c,v,d,A);if(N!==Kn)return N}D=l[w+8],-1!==D&&Ho(d,l[1].data[w+8]===A)&&Mu(m,w,l)?(v=x,w=Xr(D),l=nt(D,l)):w=-1}}}return Nr(l,c,d,f)}const Kn={};function Uo(){return new jo(zn(),Ee())}function Eg(a,l,c,d,f,m){const v=l[1],w=v.data[a+8],x=_n(w,v,c,null==d?eo(w)&&No:d!=v&&0!=(3&w.type),f&Qe.Host&&m===w);return null!==x?fa(l,v,x,w):Kn}function _n(a,l,c,d,f){const m=a.providerIndexes,v=l.data,w=1048575&m,D=a.directiveStart,x=m>>20,H=f?w+x:a.directiveEnd;for(let W=d?w:w+x;W<H;W++){const he=v[W];if(W<D&&c===he||W>=D&&he.type===c)return W}if(f){const W=v[D];if(W&&yr(W)&&W.type===c)return D}return null}function fa(a,l,c,d){let f=a[c];const m=l.data;if(function Tu(a){return a instanceof la}(f)){const v=f;v.resolving&&function Xe(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Re(-200,`Circular dependency in DI detected for ${a}${c}`)}(be(m[c]));const w=lc(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?pi(v.injectImpl):null;Xa(a,d,Qe.Default);try{f=a[c]=v.factory(void 0,m,a,d),l.firstCreatePass&&c>=d.directiveStart&&function aa(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=$a(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,m))}(c,m[c],l)}finally{null!==D&&pi(D),lc(w),v.resolving=!1,Ja()}}return f}function Mu(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function Ho(a,l){return!(a&Qe.Self||a&Qe.Host&&l)}class jo{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return ho(this._tNode,this._lView,l,d,c)}}function pa(a){return Bn(()=>{const l=a.prototype.constructor,c=l[Je]||nl(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const m=f[Je]||nl(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function nl(a){return ze(a)?()=>{const l=nl(ee(a));return l&&l()}:vr(a)}function ma(a){return function ha(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(Kd(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===l)return c[f+1];f+=2}}}return null}(zn(),a)}const Lr="__parameters__";function ys(a,l,c){return Bn(()=>{const d=function dc(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return w.annotation=v,w;function w(D,A,x){const N=D.hasOwnProperty(Lr)?D[Lr]:Object.defineProperty(D,Lr,{value:[]})[Lr];for(;N.length<=x;)N.push(null);return(N[x]=N[x]||[]).push(v),D}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class $n{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=ie({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Bf=new $n("AnalyzeForEntryComponents");function Cr(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),Cr(d,l)):l!==a&&l.push(d)}return l}function Br(a,l){a.forEach(c=>Array.isArray(c)?Br(c,l):l(c))}function Go(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Vr(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Wi(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function Jr(a,l,c){let d=zo(a,l);return d>=0?a[1|d]=c:(d=~d,function Ou(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function nh(a,l){const c=zo(a,l);if(c>=0)return a[1|c]}function zo(a,l){return function va(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const m=d+(f-d>>1),v=a[m<<c];if(l===v)return m<<c;v>l?f=m:d=m+1}return~(f<<c)}(a,l,1)}const vs={},ih="__NG_DI_FLAG__",E="ngTempTokenPath",k=/\n/gm,Y="__source",ue=ge({provide:String,useValue:ge});let xe;function Ze(a){const l=xe;return xe=a,l}function At(a,l=Qe.Default){if(void 0===xe)throw new Re(203,"");return null===xe?Rr(a,void 0,l):xe.get(a,l&Qe.Optional?null:void 0,l)}function it(a,l=Qe.Default){return(function On(){return jn}()||At)(ee(a),l)}const kt=it;function yi(a){const l=[];for(let c=0;c<a.length;c++){const d=ee(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Re(900,"");let f,m=Qe.Default;for(let v=0;v<d.length;v++){const w=d[v],D=ol(w);"number"==typeof D?-1===D?f=w.token:m|=D:f=w}l.push(it(f,m))}else l.push(it(d))}return l}function Sn(a,l){return a[ih]=l,a.prototype[ih]=l,a}function ol(a){return a[ih]}const wr=Sn(ys("Inject",a=>({token:a})),-1),Li=Sn(ys("Optional"),8),gc=Sn(ys("SkipSelf"),4);var $o=(()=>(($o=$o||{})[$o.Important=1]="Important",$o[$o.DashCase=2]="DashCase",$o))();const Yf="__ngContext__";function Bi(a,l){a[Yf]=l}function ah(a){const l=function Bu(a){return a[Yf]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Qf(a,l){return undefined(a,l)}function ul(a){const l=a[3];return $i(l)?l[3]:l}function ch(a){return zu(a[13])}function Gu(a){return zu(a[4])}function zu(a){for(;null!==a&&!$i(a);)a=a[4];return a}function dl(a,l,c,d,f){if(null!=d){let m,v=!1;$i(d)?m=d:er(d)&&(v=!0,d=d[0]);const w=Cn(d);0===a&&null!==c?null==f?hh(l,c,w):po(l,c,w,f||null,!0):1===a&&null!==c?po(l,c,w,f||null,!0):2===a?function $u(a,l,c){const d=wc(a,l);d&&function pv(a,l,c,d){Pn(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}(l,w,v):3===a&&l.destroyNode(w),null!=m&&function Vs(a,l,c,d,f){const m=c[7];m!==Cn(c)&&dl(l,a,d,m,f);for(let w=10;w<c.length;w++){const D=c[w];fl(D[1],D,a,l,d,m)}}(l,a,m,c,f)}}function Jf(a,l,c){if(Pn(a))return a.createElement(l,c);{const d=null!==c?function $l(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?a.createElement(l):a.createElementNS(d,l)}}function tp(a,l){const c=a[9],d=c.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,ao(f,-1)),c.splice(d,1)}function Cc(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&tp(f,d),l>0&&(a[c-1][4]=d[4]);const m=Vr(a,10+l);!function uh(a,l){fl(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Da(a,l){if(!(256&l[2])){const c=l[11];Pn(c)&&c.destroyNode&&fl(a,l,c,3,null,null),function ep(a){let l=a[13];if(!l)return np(a[1],a);for(;l;){let c=null;if(er(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)er(l)&&np(l[1],l),l=l[3];null===l&&(l=a),er(l)&&np(l[1],l),c=l&&l[4]}l=c}}(l)}}function np(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function ip(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof la)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=f[m[v]],D=m[v+1];try{D.call(w)}finally{}}else try{m.call(f)}finally{}}}}(a,l),function dh(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],w="function"==typeof v?v(l):Cn(l[v]),D=d[f=c[m+2]],A=c[m+3];"boolean"==typeof A?w.removeEventListener(c[m],D,A):A>=0?d[f=A]():d[f=-A].unsubscribe(),m+=2}else{const v=d[f=c[m+1]];c[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)d[m]();l[7]=null}}(a,l),1===l[1].type&&Pn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&$i(l[3])){c!==l[3]&&tp(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function rp(a,l,c){return function Og(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===nn.None||f===nn.Emulated)return null}return Ni(d,c)}(a,l.parent,c)}function po(a,l,c,d,f){Pn(a)?a.insertBefore(l,c,d,f):l.insertBefore(c,d,f)}function hh(a,l,c){Pn(a)?a.appendChild(l,c):l.appendChild(c)}function qu(a,l,c,d,f){null!==d?po(a,l,c,d,f):hh(a,l,c)}function wc(a,l){return Pn(a)?a.parentNode(l):l.parentNode}function sp(a,l,c){return op(a,l,c)}let Us,op=function Pg(a,l,c){return 40&a.type?Ni(a,c):null};function fh(a,l,c,d){const f=rp(a,d,l),m=l[11],w=sp(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let D=0;D<c.length;D++)qu(m,f,c[D],w,!1);else qu(m,f,c,w,!1)}function lp(a,l){if(null!==l){const c=l.type;if(3&c)return Ni(l,a);if(4&c)return ph(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return lp(a,d);{const f=a[l.index];return $i(f)?ph(-1,f):Cn(f)}}if(32&c)return Qf(l,a)()||Cn(a[l.index]);{const d=gv(a,l);return null!==d?Array.isArray(d)?d[0]:lp(ul(a[16]),d):lp(a,l.next)}}return null}function gv(a,l){return null!==l?a[16][6].projection[l.projection]:null}function ph(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return lp(d,f)}return l[7]}function hl(a,l,c,d,f,m,v){for(;null!=c;){const w=d[c.index],D=c.type;if(v&&0===l&&(w&&Bi(Cn(w),d),c.flags|=4),64!=(64&c.flags))if(8&D)hl(a,l,c.child,d,f,m,!1),dl(l,a,f,w,m);else if(32&D){const A=Qf(c,d);let x;for(;x=A();)dl(l,a,f,x,m);dl(l,a,f,w,m)}else 16&D?Fg(a,l,d,c,f,m):dl(l,a,f,w,m);c=v?c.projectionNext:c.next}}function fl(a,l,c,d,f,m){hl(c,d,a.firstChild,l,f,m,!1)}function Fg(a,l,c,d,f,m){const v=c[16],D=v[6].projection[d.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)dl(l,a,f,D[A],m);else hl(a,l,D,v[3],f,m,!0)}function rt(a,l,c){Pn(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function cn(a,l,c){Pn(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function Un(a){var l;return(null===(l=function oi(){if(void 0===Us&&(Us=null,Wt.trustedTypes))try{Us=Wt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Us}())||void 0===l?void 0:l.createHTML(a))||a}class Ea{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class fp extends Ea{getTypeName(){return"HTML"}}class Ur extends Ea{getTypeName(){return"Style"}}class pl extends Ea{getTypeName(){return"Script"}}class Yo extends Ea{getTypeName(){return"URL"}}class bs extends Ea{getTypeName(){return"ResourceURL"}}function Vi(a){return a instanceof Ea?a.changingThisBreaksApplicationSecurity:a}function Cs(a,l){const c=vi(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function vi(a){return a instanceof Ea&&a.getTypeName()||null}function pp(a){return new fp(a)}function gh(a){return new Ur(a)}function mp(a){return new pl(a)}function vw(a){return new Yo(a)}function yv(a){return new bs(a)}class bw{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(Un(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class y{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Un(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Un(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,S=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function R(a){return(a=String(a)).match(g)||a.match(S)?a:"unsafe:"+a}function re(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Be(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const ht=re("area,br,col,hr,img,wbr"),Vt=re("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Z=re("rp,rt"),Er=Be(ht,Be(Vt,re("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Be(Z,re("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Be(Z,Vt)),Ec=re("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yh=re("srcset"),ns=Be(Ec,yh,re("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),re("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zu=re("script,style,template");class Yu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Er.hasOwnProperty(c))return this.sanitizedSomething=!0,!Zu.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,w=v.toLowerCase();if(!ns.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=m.value;Ec[w]&&(D=R(D)),yh[w]&&(a=D,D=(a=String(a)).split(",").map(l=>R(l.trim())).join(", ")),this.buf.push(" ",v,'="',vh(D),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Er.hasOwnProperty(c)&&!ht.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(vh(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Ng=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bv=/([^\#-~ |!])/g;function vh(a){return a.replace(/&/g,"&amp;").replace(Ng,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(bv,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wu;function Cw(a,l){let c=null;try{Wu=Wu||function _h(a){const l=new y(a);return function p(){try{return!!(new window.DOMParser).parseFromString(Un(""),"text/html")}catch(a){return!1}}()?new bw(l):l}(a);let d=l?String(l):"";c=Wu.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=Wu.getInertBodyElement(d)}while(d!==m);return Un((new Yu).sanitizeChildren(Cv(c)||c))}finally{if(c){const d=Cv(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Cv(a){return"content"in a&&function OI(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Mi=(()=>((Mi=Mi||{})[Mi.NONE=0]="NONE",Mi[Mi.HTML=1]="HTML",Mi[Mi.STYLE=2]="STYLE",Mi[Mi.SCRIPT=3]="SCRIPT",Mi[Mi.URL=4]="URL",Mi[Mi.RESOURCE_URL=5]="RESOURCE_URL",Mi))();function Bg(a){const l=function gp(){const a=Ee();return a&&a[12]}();return l?l.sanitize(Mi.URL,a)||"":Cs(a,"URL")?Vi(a):R(_e(a))}function bh(a){return a.ngOriginalError}function FI(a,...l){a.error(...l)}class Ug{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=function Ew(a){return a&&a.ngErrorLogger||FI}(l);d(this._console,"ERROR",l),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&bh(l);for(;c&&bh(c);)c=bh(c);return c||null}}const Mw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Wt))();function Ta(a){return a instanceof Function?a():a}function xw(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||a.charCodeAt(f+m)<=32)return f}c=f+1}}const kw="ng-template";function Hg(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==xw(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function jg(a){return 4===a.type&&a.value!==kw}function xv(a,l,c){return l===(4!==a.type||c?a.value:kw)}function kv(a,l,c){let d=4;const f=a.attrs||[],m=function HI(a){for(let l=0;l<a.length;l++)if(Kd(a[l]))return l;return a.length}(f);let v=!1;for(let w=0;w<l.length;w++){const D=l[w];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!xv(a,D,c)||""===D&&1===l.length){if(mo(d))return!1;v=!0}}else{const A=8&d?D:l[++w];if(8&d&&null!==a.attrs){if(!Hg(a.attrs,A,c)){if(mo(d))return!1;v=!0}continue}const N=UI(8&d?"class":D,f,jg(a),c);if(-1===N){if(mo(d))return!1;v=!0;continue}if(""!==A){let H;H=N>m?"":f[N+1].toLowerCase();const W=8&d?H:null;if(W&&-1!==xw(W,A,0)||2&d&&A!==H){if(mo(d))return!1;v=!0}}}}else{if(!v&&!mo(d)&&!mo(D))return!1;if(v&&mo(D))continue;v=!1,d=D|1&d}}return mo(d)||v}function mo(a){return 0==(1&a)}function UI(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let m=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=l[++f];for(;"string"==typeof w;)w=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function jI(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function Rv(a,l,c=!1){for(let d=0;d<l.length;d++)if(kv(a,l[d],c))return!0;return!1}function GI(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function Rw(a,l){return a?":not("+l.trim()+")":l}function zI(a){let l=a[0],c=1,d=2,f="",m=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const w=a[++c];f+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!mo(v)&&(l+=Rw(m,f),f=""),d=v,m=m||!mo(d);c++}return""!==f&&(l+=Rw(m,f)),l}const Ht={};function Ow(a){Pw(Qt(),Ee(),Yi()+a,!1)}function Pw(a,l,c,d){if(!d)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&sc(l,m,c)}else{const m=a.preOrderHooks;null!==m&&ri(l,m,0,c)}Fo(c)}function bp(a,l){return a<<17|l<<2}function go(a){return a>>17&32767}function Ov(a){return 2|a}function ml(a){return(131068&a)>>2}function qg(a,l){return-131069&a|l<<2}function $g(a){return 1|a}function Tr(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],m=c[d+1];if(-1!==m){const v=a.data[m];nc(f),v.contentQueries(2,l[m],m)}}}function _l(a,l,c,d,f,m,v,w,D,A){const x=l.blueprint.slice();return x[0]=f,x[2]=140|d,oo(x),x[3]=x[15]=a,x[8]=c,x[10]=v||a&&a[10],x[11]=w||a&&a[11],x[12]=D||a&&a[12]||null,x[9]=A||a&&a[9]||null,x[6]=m,x[16]=2==l.type?a[16]:x,x}function Ic(a,l,c,d,f){let m=a.data[l];if(null===m)m=function zv(a,l,c,d,f){const m=_u(),v=yu(),D=a.data[l]=function Ir(a,l,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=D),null!==m&&(v?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}(a,l,c,d,f),function vu(){return wt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const v=function lo(){const a=wt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return _s(m,!0),m}function Dp(a,l,c,d){if(0===c)return-1;const f=l.length;for(let m=0;m<c;m++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function Ep(a,l,c){ic(l);try{const d=a.viewQuery;null!==d&&tb(1,d,c);const f=a.template;null!==f&&st(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Tr(a,l),a.staticViewQueries&&tb(2,a.viewQuery,c);const m=a.components;null!==m&&function JI(a,l){for(let c=0;c<l.length;c++)rM(a,l[c])}(l,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Kr()}}function wh(a,l,c,d){const f=l[2];if(256!=(256&f)){ic(l);try{oo(l),function ec(a){return wt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&st(a,l,c,2,d);const v=3==(3&f);if(v){const A=a.preOrderCheckHooks;null!==A&&sc(l,A,null)}else{const A=a.preOrderHooks;null!==A&&ri(l,A,0,null),Eu(l,0)}if(function Xv(a){for(let l=ch(a);null!==l;l=Gu(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],m=f[3];0==(1024&f[2])&&ao(m,1),f[2]|=1024}}}(l),function a_(a){for(let l=ch(a);null!==l;l=Gu(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];Ps(d)&&wh(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&Tr(a,l),v){const A=a.contentCheckHooks;null!==A&&sc(l,A)}else{const A=a.contentHooks;null!==A&&ri(l,A,1),Eu(l,1)}!function wp(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Fo(~f);else{const m=f,v=c[++d],w=c[++d];bu(v,m),w(2,l[m])}}}finally{Fo(-1)}}(a,l);const w=a.components;null!==w&&function Gv(a,l){for(let c=0;c<l.length;c++)Jv(a,l[c])}(l,w);const D=a.viewQuery;if(null!==D&&tb(2,D,d),v){const A=a.viewCheckHooks;null!==A&&sc(l,A)}else{const A=a.viewHooks;null!==A&&ri(l,A,2),Eu(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-73,1024&l[2]&&(l[2]&=-1025,ao(l[3],-1))}finally{Kr()}}}function yl(a,l,c,d){const f=l[10],v=so(l);try{!v&&f.begin&&f.begin(),v&&Ep(a,l,d),wh(a,l,c,d)}finally{!v&&f.end&&f.end()}}function st(a,l,c,d,f){const m=Yi(),v=2&d;try{Fo(-1),v&&l.length>20&&Pw(a,l,20,!1),c(d,f)}finally{Fo(m)}}function e_(a,l,c){if(uu(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function Ot(a,l,c){!Xl()||(function rs(a,l,c,d){const f=c.directiveStart,m=c.directiveEnd;a.firstCreatePass||An(c,l),Bi(d,l);const v=c.initialInputs;for(let w=f;w<m;w++){const D=a.data[w],A=yr(D);A&&iM(l,c,D);const x=fa(l,a,w,c);Bi(x,l),null!==v&&Kv(0,w-f,x,D,0,v),A&&(Zi(c.index,l)[8]=x)}}(a,l,c,Ni(c,l)),128==(128&c.flags)&&function qw(a,l,c){const d=c.directiveStart,f=c.directiveEnd,v=c.index,w=function Cu(){return wt.lFrame.currentDirectiveIndex}();try{Fo(v);for(let D=d;D<f;D++){const A=a.data[D],x=l[D];oa(D),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Zv(A,x)}}finally{Fo(-1),oa(w)}}(a,l,c))}function Dh(a,l,c=Ni){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],w=-1===v?c(l,a):a[v];a[f++]=w}}}function t_(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Mc(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Mc(a,l,c,d,f,m,v,w,D,A){const x=20+d,N=x+f,H=function eM(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Ht);return c}(x,N),W="function"==typeof A?A():A;return H[1]={type:a,blueprint:H,template:c,queries:null,viewQuery:w,declTNode:l,data:H.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:W,incompleteFirstPass:!1}}function jw(a,l,c,d){const f=Mp(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&d_(a).push(d,f.length-1))}function Tp(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function Hs(a,l,c,d,f,m,v,w){const D=Ni(l,c);let x,A=l.inputs;!w&&null!=A&&(x=A[d])?(p_(a,c,x,d,f),eo(l)&&function tM(a,l){const c=Zi(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function Ac(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,Pn(m)?m.setProperty(D,d,f):ac(d)||(D.setProperty?D.setProperty(d,f):D[d]=f))}function r_(a,l,c,d){let f=!1;if(Xl()){const m=function Yv(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];Rv(c,v.selectors,!1)&&(f||(f=[]),da(An(c,l),a,v.type),yr(v)?(Wv(a,c),f.unshift(v)):f.push(v))}return f}(a,l,c),v=null===d?null:{"":-1};if(null!==m){f=!0,s_(c,a.data.length,m.length);for(let x=0;x<m.length;x++){const N=m[x];N.providersResolver&&N.providersResolver(N)}let w=!1,D=!1,A=Dp(a,l,m.length,null);for(let x=0;x<m.length;x++){const N=m[x];c.mergedAttrs=Ns(c.mergedAttrs,N.hostAttrs),Yw(a,c,l,A,N),Zw(A,N,v),null!==N.contentQueries&&(c.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(c.flags|=128);const H=N.type.prototype;!w&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),w=!0),!D&&(H.ngOnChanges||H.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),D=!0),A++}!function Mr(a,l){const d=l.directiveEnd,f=a.data,m=l.attrs,v=[];let w=null,D=null;for(let A=l.directiveStart;A<d;A++){const x=f[A],N=x.inputs,H=null===m||jg(l)?null:Ww(N,m);v.push(H),w=Tp(N,A,w),D=Tp(x.outputs,A,D)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=w,l.outputs=D}(a,c)}v&&function $w(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=c[l[f+1]];if(null==m)throw new Re(-301,!1);d.push(l[f],m)}}}(c,d,v)}return c.mergedAttrs=Ns(c.mergedAttrs,c.attrs),f}function Hr(a,l,c,d,f,m){const v=m.hostBindings;if(v){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const D=~l.index;(function $v(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(w)!=D&&w.push(D),w.push(d,f,v)}}function Zv(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Wv(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Zw(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;yr(l)&&(c[""]=a)}}function s_(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function Yw(a,l,c,d,f){a.data[d]=f;const m=f.factory||(f.factory=vr(f.type)),v=new la(m,yr(f),null);a.blueprint[d]=v,c[d]=v,Hr(a,l,0,d,Dp(a,c,f.hostVars,Ht),f)}function iM(a,l,c){const d=Ni(l,a),f=t_(c),m=a[10],v=Eh(a,_l(a,f,null,c.onPush?64:16,d,l,m,m.createRenderer(d,c),null,null));a[l.index]=v}function ss(a,l,c,d,f,m){const v=Ni(a,l);!function o_(a,l,c,d,f,m,v){if(null==m)Pn(a)?a.removeAttribute(l,f,c):l.removeAttribute(f);else{const w=null==v?_e(m):v(m,d||"",f);Pn(a)?a.setAttribute(l,f,w,c):c?l.setAttributeNS(c,f,w):l.setAttribute(f,w)}}(l[11],v,m,a.value,c,d,f)}function Kv(a,l,c,d,f,m){const v=m[l];if(null!==v){const w=d.setInput;for(let D=0;D<v.length;){const A=v[D++],x=v[D++],N=v[D++];null!==w?d.setInput(c,N,A,x):c[x]=N}}}function Ww(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function Qv(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function Jv(a,l){const c=Zi(l,a);if(Ps(c)){const d=c[1];80&c[2]?wh(d,c,d.template,c[8]):c[5]>0&&Ip(c)}}function Ip(a){for(let d=ch(a);null!==d;d=Gu(d))for(let f=10;f<d.length;f++){const m=d[f];if(1024&m[2]){const v=m[1];wh(v,m,v.template,m[8])}else m[5]>0&&Ip(m)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Zi(c[d],a);Ps(f)&&f[5]>0&&Ip(f)}}function rM(a,l){const c=Zi(l,a),d=c[1];(function sM(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),Ep(d,c,c[8])}function Eh(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function l_(a){for(;a;){a[2]|=64;const l=ul(a);if(Nd(a)&&!l)return a;a=l}return null}function Th(a){!function eb(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=ah(c),f=d[1];yl(f,d,f.template,c)}}(a[8])}function tb(a,l,c){nc(0),l(a,c)}const u_=(()=>Promise.resolve(null))();function Mp(a){return a[7]||(a[7]=[])}function d_(a){return a.cleanup||(a.cleanup=[])}function h_(a,l,c){return(null===a||yr(a))&&(c=function Gd(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function f_(a,l){const c=a[9],d=c?c.get(Ug,null):null;d&&d.handleError(l)}function p_(a,l,c,d,f){for(let m=0;m<c.length;){const v=c[m++],w=c[m++],D=l[v],A=a.data[v];null!==A.setInput?A.setInput(D,f,d,w):D[w]=f}}function Ia(a,l,c){const d=ko(l,a);!function bc(a,l,c){Pn(a)?a.setValue(l,c):l.textContent=c}(a[11],d,c)}function Ap(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const w=l[v];"number"==typeof w?m=w:1==m?f=de(f,w):2==m&&(d=de(d,w+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}const Sp=new $n("INJECTOR",-1);class nb{get(l,c=vs){if(c===vs){const d=new Error(`NullInjectorError: No provider for ${fe(l)}!`);throw d.name="NullInjectorError",d}return c}}const ib=new $n("Set Injector scope."),Qu={},rb={};let xp;function Ki(){return void 0===xp&&(xp=new nb),xp}function or(a,l=null,c=null,d){const f=kp(a,l,c,d);return f._resolveInjectorDefTypes(),f}function kp(a,l=null,c=null,d){return new sb(a,c,l||Ki(),d)}class sb{constructor(l,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&Br(c,w=>this.processProvider(w,l,c)),Br([l],w=>this.processInjectorType(w,[],m)),this.records.set(Sp,Ih(void 0,this));const v=this.records.get(ib);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof l?null:fe(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=vs,d=Qe.Default){this.assertNotDestroyed();const f=Ze(this),m=pi(void 0);try{if(!(d&Qe.SkipSelf)){let w=this.records.get(l);if(void 0===w){const D=function lb(a){return"function"==typeof a||"object"==typeof a&&a instanceof $n}(l)&&Ne(l);w=D&&this.injectableDefInScope(D)?Ih(ob(l),Qu):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(d&Qe.Self?Ki():this.parent).get(l,c=d&Qe.Optional&&c===vs?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[E]=v[E]||[]).unshift(fe(l)),f)throw v;return function ba(a,l,c,d){const f=a[E];throw l[Y]&&f.unshift(l[Y]),a.message=function es(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=fe(l);if(Array.isArray(l))f=l.map(fe).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let w=l[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(k,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[E]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{pi(m),Ze(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(fe(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(l,c,d){if(!(l=ee(l)))return!1;let f=Zt(l);const m=null==f&&l.ngModule||void 0,v=void 0===m?l:m,w=-1!==d.indexOf(v);if(void 0!==m&&(f=Zt(m)),null==f)return!1;if(null!=f.imports&&!w){let x;d.push(v);try{Br(f.imports,N=>{this.processInjectorType(N,c,d)&&(void 0===x&&(x=[]),x.push(N))})}finally{}if(void 0!==x)for(let N=0;N<x.length;N++){const{ngModule:H,providers:W}=x[N];Br(W,he=>this.processProvider(he,H,W||gt))}}this.injectorDefTypes.add(v);const D=vr(v)||(()=>new v);this.records.set(v,Ih(D,Qu));const A=f.providers;if(null!=A&&!w){const x=l;Br(A,N=>this.processProvider(N,x,A))}return void 0!==m&&void 0!==l.providers}processProvider(l,c,d){let f=Sc(l=ee(l))?l:ee(l&&l.provide);const m=function Qw(a,l,c){return m_(a)?Ih(void 0,a.useValue):Ih(Xw(a),Qu)}(l);if(Sc(l)||!0!==l.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=Ih(void 0,Qu,!0),v.factory=()=>yi(v.multi),this.records.set(f,v)),f=l,v.multi.push(l)}this.records.set(f,m)}hydrate(l,c){return c.value===Qu&&(c.value=rb,c.value=c.factory()),"object"==typeof c.value&&c.value&&function g_(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=ee(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function ob(a){const l=Ne(a),c=null!==l?l.factory:vr(a);if(null!==c)return c;if(a instanceof $n)throw new Re(204,!1);if(a instanceof Function)return function cM(a){const l=a.length;if(l>0)throw Wi(l,"?"),new Re(204,!1);const c=function vn(a){const l=a&&(a[Dn]||a[tn]);if(l){const c=function vt(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Re(204,!1)}function Xw(a,l,c){let d;if(Sc(a)){const f=ee(a);return vr(f)||ob(f)}if(m_(a))d=()=>ee(a.useValue);else if(function uM(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...yi(a.deps||[]));else if(function ab(a){return!(!a||!a.useExisting)}(a))d=()=>it(ee(a.useExisting));else{const f=ee(a&&(a.useClass||a.provide));if(!function dM(a){return!!a.deps}(a))return vr(f)||ob(f);d=()=>new f(...yi(a.deps))}return d}function Ih(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function m_(a){return null!==a&&"object"==typeof a&&ue in a}function Sc(a){return"function"==typeof a}let _o=(()=>{class a{static create(c,d){var f;if(Array.isArray(c))return or({name:""},d,c,"");{const m=null!==(f=c.name)&&void 0!==f?f:"";return or({name:m},c.parent,c.providers,m)}}}return a.THROW_IF_NOT_FOUND=vs,a.NULL=new nb,a.\u0275prov=ie({token:a,providedIn:"any",factory:()=>it(Sp)}),a.__NG_ELEMENT_ID__=-1,a})();function mb(a,l){el(ah(a)[1],zn())}function Sh(a){let l=function b_(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(yr(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Re(903,"");f=l.\u0275dir}if(f){if(c){d.push(f);const v=a;v.inputs=C_(a.inputs),v.declaredInputs=C_(a.declaredInputs),v.outputs=C_(a.outputs);const w=f.hostBindings;w&&w_(a,w);const D=f.viewQuery,A=f.contentQueries;if(D&&gM(a,D),A&&gb(a,A),Q(a.inputs,f.inputs),Q(a.declaredInputs,f.declaredInputs),Q(a.outputs,f.outputs),yr(f)&&f.data.animation){const x=a.data;x.animation=(x.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(a),w===Sh&&(c=!1)}}l=Object.getPrototypeOf(l)}!function Rp(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Ns(f.hostAttrs,c=Ns(c,f.hostAttrs))}}(d)}function C_(a){return a===Oi?{}:a===gt?[]:a}function gM(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function gb(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,m)=>{l(d,f,m),c(d,f,m)}:l}function w_(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let Op=null;function xh(){if(!Op){const a=Wt.Symbol;if(a&&a.iterator)Op=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Op=d)}}}return Op}function kh(a){return!!vl(a)&&(Array.isArray(a)||!(a instanceof Map)&&xh()in a)}function vl(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function yo(a,l,c){return a[l]=c}function ar(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function E_(a,l,c,d){const f=Ee();return ar(f,co(),l)&&(Qt(),ss(qn(),f,a,l,c,d)),E_}function bo(a,l,c,d){return ar(a,co(),c)?l+_e(c)+d:Ht}function Nh(a,l,c,d,f,m,v,w){const D=Ee(),A=Qt(),x=a+20,N=A.firstCreatePass?function _M(a,l,c,d,f,m,v,w,D){const A=l.consts,x=Ic(l,a,4,v||null,br(A,w));r_(l,c,x,br(A,D)),el(l,x);const N=x.tViews=Mc(2,x,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,x),N.queries=l.queries.embeddedTView(x)),x}(x,A,D,l,c,d,f,m,v):A.data[x];_s(N,!1);const H=D[11].createComment("");fh(A,D,H,N),Bi(H,D),Eh(D,D[x]=Qv(H,D,H,N)),Ul(N)&&Ot(A,D,N),null!=v&&Dh(D,N,w)}function vb(a){return Zr(function Pf(){return wt.lFrame.contextLView}(),20+a)}function nd(a,l=Qe.Default){const c=Ee();return null===c?it(a,l):ho(zn(),c,ee(a),l)}function jp(){throw new Error("invalid")}function x_(a,l,c){const d=Ee();return ar(d,co(),l)&&Hs(Qt(),qn(),d,a,l,d[11],c,!1),x_}function Gp(a,l,c,d,f){const v=f?"class":"style";p_(a,c,l.inputs[v],v,d)}function R_(a,l,c,d){const f=Ee(),m=Qt(),v=20+a,w=f[11],D=f[v]=Jf(w,l,function Du(){return wt.lFrame.currentNamespace}()),A=m.firstCreatePass?function k_(a,l,c,d,f,m,v){const w=l.consts,A=Ic(l,a,2,f,br(w,m));return r_(l,c,A,br(w,v)),null!==A.attrs&&Ap(A,A.attrs,!1),null!==A.mergedAttrs&&Ap(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(v,m,f,0,l,c,d):m.data[v];_s(A,!0);const x=A.mergedAttrs;null!==x&&Qr(w,D,x);const N=A.classes;null!==N&&cn(w,D,N);const H=A.styles;return null!==H&&rt(w,D,H),64!=(64&A.flags)&&fh(m,f,D,A),0===function Kl(){return wt.lFrame.elementDepthCount}()&&Bi(D,f),function Ql(){wt.lFrame.elementDepthCount++}(),Ul(A)&&(Ot(m,f,A),e_(m,A,f)),null!==d&&Dh(f,A),R_}function zp(){let a=zn();yu()?Wa():(a=a.parent,_s(a,!1));const l=a;!function mu(){wt.lFrame.elementDepthCount--}();const c=Qt();return c.firstCreatePass&&(el(c,a),uu(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Dg(a){return 0!=(16&a.flags)}(l)&&Gp(c,l,Ee(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Wn(a){return 0!=(32&a.flags)}(l)&&Gp(c,l,Ee(),l.stylesWithoutHost,!1),zp}function id(a,l,c,d){return R_(a,l,c,d),zp(),id}function Vh(a,l,c){const d=Ee(),f=Qt(),m=a+20,v=f.firstCreatePass?function ID(a,l,c,d,f){const m=l.consts,v=br(m,d),w=Ic(l,a,8,"ng-container",v);return null!==v&&Ap(w,v,!0),r_(l,c,w,br(m,f)),null!==l.queries&&l.queries.elementStart(l,w),w}(m,f,d,l,c):f.data[m];_s(v,!0);const w=d[m]=d[11].createComment("");return fh(f,d,w,v),Bi(w,d),Ul(v)&&(Ot(f,d,v),e_(f,v,d)),null!=c&&Dh(d,v),Vh}function Uh(){let a=zn();const l=Qt();return yu()?Wa():(a=a.parent,_s(a,!1)),l.firstCreatePass&&(el(l,a),uu(a)&&l.queries.elementEnd(a)),Uh}function O_(a,l,c){return Vh(a,l,c),Uh(),O_}function qp(){return Ee()}function P_(a){return!!a&&"function"==typeof a.then}function Tb(a){return!!a&&"function"==typeof a.subscribe}const Rc=Tb;function F_(a,l,c,d){const f=Ee(),m=Qt(),v=zn();return Ib(m,f,f[11],v,a,l,!!c,d),F_}function N_(a,l){const c=zn(),d=Ee(),f=Qt();return Ib(f,d,h_(tc(f.data),c,d),c,a,l,!1),N_}function Ib(a,l,c,d,f,m,v,w){const D=Ul(d),x=a.firstCreatePass&&d_(a),N=l[8],H=Mp(l);let W=!0;if(3&d.type||w){const Ge=Ni(d,l),et=w?w(Ge):Ge,Ie=H.length,Ct=w?en=>w(Cn(en[d.index])):d.index;if(Pn(c)){let en=null;if(!w&&D&&(en=function MD(a,l,c,d){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===c&&f[m+1]===d){const w=l[7],D=f[m+2];return w.length>D?w[D]:null}"string"==typeof v&&(m+=2)}return null}(a,l,f,d.index)),null!==en)(en.__ngLastListenerFn__||en).__ngNextListenerFn__=m,en.__ngLastListenerFn__=m,W=!1;else{m=os(d,l,N,m,!1);const Rn=c.listen(et,f,m);H.push(m,Rn),x&&x.push(f,Ct,Ie,Ie+1)}}else m=os(d,l,N,m,!0),et.addEventListener(f,m,v),H.push(m),x&&x.push(f,Ct,Ie,v)}else m=os(d,l,N,m,!1);const he=d.outputs;let Pe;if(W&&null!==he&&(Pe=he[f])){const Ge=Pe.length;if(Ge)for(let et=0;et<Ge;et+=2){const as=l[Pe[et]][Pe[et+1]].subscribe(m),Td=H.length;H.push(m,as),x&&x.push(f,d.index,Td,-(Td+1))}}}function $p(a,l,c,d){try{return!1!==c(d)}catch(f){return f_(a,f),!1}}function os(a,l,c,d,f){return function m(v){if(v===Function)return d;const w=2&a.flags?Zi(a.index,l):l;0==(32&l[2])&&l_(w);let D=$p(l,0,d,v),A=m.__ngNextListenerFn__;for(;A;)D=$p(l,0,A,v)&&D,A=A.__ngNextListenerFn__;return f&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Mb(a=1){return function wu(a){return(wt.lFrame.contextLView=function Ff(a,l){for(;a>0;)l=l[15],a--;return l}(a,wt.lFrame.contextLView))[8]}(a)}function AD(a,l){let c=null;const d=function Gg(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?Rv(a,m,!0):GI(d,m))return f}else c=f}return c}function rd(a){const l=Ee()[16][6];if(!l.projection){const d=l.projection=Wi(a?a.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=a?AD(m,a):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function SD(a,l=0,c){const d=Ee(),f=Qt(),m=Ic(f,20+a,16,null,c||null);null===m.projection&&(m.projection=l),Wa(),64!=(64&m.flags)&&function cp(a,l,c){Fg(l[11],0,l,c,rp(a,c,l),sp(c.parent||l[6],c,l))}(f,d,m)}function FD(a,l,c,d,f){const m=a[c+1],v=null===l;let w=d?go(m):ml(m),D=!1;for(;0!==w&&(!1===D||v);){const x=a[w+1];Fe(a[w],l)&&(D=!0,a[w+1]=d?$g(x):Ov(x)),w=d?go(x):ml(x)}D&&(a[c+1]=d?Ov(m):$g(m))}function Fe(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&zo(a,l)>=0}const rn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Hh(a){return a.substring(rn.key,rn.keyEnd)}function Rt(a,l){const c=rn.textEnd;return c===l?-1:(l=rn.keyEnd=function ur(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,rn.key=l,c),Se(a,l,c))}function Se(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function Rb(a,l,c){return Co(a,l,c,!1),Rb}function L_(a,l){return Co(a,l,null,!0),L_}function Sa(a,l){for(let c=function ct(a){return function le(a){rn.key=0,rn.keyEnd=0,rn.value=0,rn.valueEnd=0,rn.textEnd=a.length}(a),Rt(a,Se(a,0,rn.textEnd))}(l);c>=0;c=Rt(l,c))Jr(a,Hh(l),!0)}function Co(a,l,c,d){const f=Ee(),m=Qt(),v=Wr(2);m.firstUpdatePass&&Ob(m,a,v,d),l!==Ht&&ar(f,v,l)&&ad(m,m.data[Yi()],f,f[11],a,f[v+1]=function SM(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=fe(Vi(a)))),a}(l,c),d,v)}function sd(a,l){return l>=a.expandoStartIndex}function Ob(a,l,c,d){const f=a.data;if(null===f[c+1]){const m=f[Yi()],v=sd(a,c);Tl(m,d)&&null===l&&!v&&(l=!1),l=function Ai(a,l,c,d){const f=tc(a);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=El(c=B_(null,a,l,c,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(c=B_(f,a,l,c,d),null===m){let D=function St(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==ml(d))return a[go(d)]}(a,l,d);void 0!==D&&Array.isArray(D)&&(D=B_(null,a,l,D[1],d),D=El(D,l.attrs,d),function VD(a,l,c,d){a[go(c?l.classBindings:l.styleBindings)]=d}(a,l,d,D))}else m=function od(a,l,c){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=El(d,a[m].hostAttrs,c);return El(d,l.attrs,c)}(a,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),c}(f,m,l,d),function Oc(a,l,c,d,f,m){let v=m?l.classBindings:l.styleBindings,w=go(v),D=ml(v);a[d]=c;let x,A=!1;if(Array.isArray(c)){const N=c;x=N[1],(null===x||zo(N,x)>0)&&(A=!0)}else x=c;if(f)if(0!==D){const H=go(a[w+1]);a[d+1]=bp(H,w),0!==H&&(a[H+1]=qg(a[H+1],d)),a[w+1]=function ZI(a,l){return 131071&a|l<<17}(a[w+1],d)}else a[d+1]=bp(w,0),0!==w&&(a[w+1]=qg(a[w+1],d)),w=d;else a[d+1]=bp(D,0),0===w?w=d:a[D+1]=qg(a[D+1],d),D=d;A&&(a[d+1]=Ov(a[d+1])),FD(a,x,d,!0),FD(a,x,d,!1),function xb(a,l,c,d,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&zo(m,l)>=0&&(c[d+1]=$g(c[d+1]))}(l,x,a,d,m),v=bp(w,D),m?l.classBindings=v:l.styleBindings=v}(f,m,l,c,v,d)}}function B_(a,l,c,d,f){let m=null;const v=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<v&&(m=l[w],d=El(d,m.hostAttrs,f),m!==a);)w++;return null!==a&&(c.directiveStylingLast=w),d}function El(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Jr(a,v,!!c||l[++m]))}return void 0===a?null:a}function ad(a,l,c,d,f,m,v,w){if(!(3&l.type))return;const D=a.data,A=D[w+1];bi(function Pv(a){return 1==(1&a)}(A)?HD(D,l,c,f,ml(A),v):void 0)||(bi(m)||function zg(a){return 2==(2&a)}(A)&&(m=HD(D,null,c,f,w,v)),function mt(a,l,c,d,f){const m=Pn(a);if(l)f?m?a.addClass(c,d):c.classList.add(d):m?a.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:$o.DashCase;if(null==f)m?a.removeStyle(c,d,v):c.style.removeProperty(d);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),v|=$o.Important),m?a.setStyle(c,d,f,v):c.style.setProperty(d,f,w?"important":"")}}}(d,v,ko(Yi(),c),f,m))}function HD(a,l,c,d,f,m){const v=null===l;let w;for(;f>0;){const D=a[f],A=Array.isArray(D),x=A?D[1]:D,N=null===x;let H=c[f+1];H===Ht&&(H=N?gt:void 0);let W=N?nh(H,d):x===d?H:void 0;if(A&&!bi(W)&&(W=nh(D,d)),bi(W)&&(w=W,v))return w;const he=a[f+1];f=v?go(he):ml(he)}if(null!==l){let D=m?l.residualClasses:l.residualStyles;null!=D&&(w=nh(D,d))}return w}function bi(a){return void 0!==a}function Tl(a,l){return 0!=(a.flags&(l?16:32))}function di(a,l=""){const c=Ee(),d=Qt(),f=a+20,m=d.firstCreatePass?Ic(d,f,1,l,null):d.data[f],v=c[f]=function Xf(a,l){return Pn(a)?a.createText(l):a.createTextNode(l)}(c[11],l);fh(d,c,v,m),_s(m,!1)}function Il(a){return jh("",a,""),Il}function jh(a,l,c){const d=Ee(),f=bo(d,a,l,c);return f!==Ht&&Ia(d,Yi(),f),jh}function Nb(a,l,c){!function Tt(a,l,c,d){const f=Qt(),m=Wr(2);f.firstUpdatePass&&Ob(f,null,m,d);const v=Ee();if(c!==Ht&&ar(v,m,c)){const w=f.data[Yi()];if(Tl(w,d)&&!sd(f,m)){let D=d?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(c=de(D,c||"")),Gp(f,w,v,c,d)}else!function dr(a,l,c,d,f,m,v,w){f===Ht&&(f=gt);let D=0,A=0,x=0<f.length?f[0]:null,N=0<m.length?m[0]:null;for(;null!==x||null!==N;){const H=D<f.length?f[D+1]:void 0,W=A<m.length?m[A+1]:void 0;let Pe,he=null;x===N?(D+=2,A+=2,H!==W&&(he=N,Pe=W)):null===N||null!==x&&x<N?(D+=2,he=x):(A+=2,he=N,Pe=W),null!==he&&ad(a,l,c,d,he,Pe,v,w),x=D<f.length?f[D]:null,N=A<m.length?m[A]:null}}(f,w,v,v[11],v[m+1],v[m+1]=function hn(a,l,c){if(null==c||""===c)return gt;const d=[],f=Vi(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)a(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&a(d,m,f[m]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,m)}}(Jr,Sa,bo(Ee(),a,l,c),!0)}function $h(a,l,c){const d=Ee();return ar(d,co(),l)&&Hs(Qt(),qn(),d,a,l,d[11],c,!0),$h}function ud(a,l,c){const d=Ee();if(ar(d,co(),l)){const m=Qt(),v=qn();Hs(m,v,d,a,l,h_(tc(m.data),v,d),c,!0)}return ud}const Lc=void 0;var Ml=["en",[["a","p"],["AM","PM"],Lc],[["AM","PM"],Lc,Lc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lc,"{1} 'at' {0}",Lc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kM(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Zh={};function H_(a){const l=function KD(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=Wh(l);if(c)return c;const d=l.split("-")[0];if(c=Wh(d),c)return c;if("en"===d)return Ml;throw new Error(`Missing locale data for the locale "${a}".`)}function WD(a){return H_(a)[bt.PluralCase]}function Wh(a){return a in Zh||(Zh[a]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[a]),Zh[a]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const j_="en-US";let XD=j_;function W_(a,l,c,d,f){if(a=ee(a),Array.isArray(a))for(let m=0;m<a.length;m++)W_(a[m],l,c,d,f);else{const m=Qt(),v=Ee();let w=Sc(a)?a:ee(a.provide),D=Xw(a);const A=zn(),x=1048575&A.providerIndexes,N=A.directiveStart,H=A.providerIndexes>>20;if(Sc(a)||!a.multi){const W=new la(D,f,nd),he=r0(w,l,f?x:x+H,N);-1===he?(da(An(A,v),m,w),K_(m,a,l.length),l.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(W),v.push(W)):(c[he]=W,v[he]=W)}else{const W=r0(w,l,x+H,N),he=r0(w,l,x,x+H),Pe=W>=0&&c[W],Ge=he>=0&&c[he];if(f&&!Ge||!f&&!Pe){da(An(A,v),m,w);const et=function qM(a,l,c,d,f){const m=new la(a,c,nd);return m.multi=[],m.index=l,m.componentProviders=0,n0(m,f,d&&!c),m}(f?mE:pE,c.length,f,d,D);!f&&Ge&&(c[he].providerFactory=et),K_(m,a,l.length,0),l.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(et),v.push(et)}else K_(m,a,W>-1?W:he,n0(c[f?he:W],D,!f&&d));!f&&d&&Ge&&c[he].componentProviders++}}}function K_(a,l,c,d){const f=Sc(l),m=function Jw(a){return!!a.useClass}(l);if(f||m){const D=(m?ee(l.useClass):l).prototype.ngOnDestroy;if(D){const A=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const x=A.indexOf(c);-1===x?A.push(c,[d,D]):A[x+1].push(d,D)}else A.push(c,D)}}}function n0(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function r0(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function pE(a,l,c,d){return s0(this.multi,[])}function mE(a,l,c,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=fa(c,c[1],this.providerFactory.index,d);m=w.slice(0,v),s0(f,m);for(let D=v;D<w.length;D++)m.push(w[D])}else m=[],s0(f,m);return m}function s0(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function gE(a,l=[]){return c=>{c.providersResolver=(d,f)=>function Y_(a,l,c){const d=Qt();if(d.firstCreatePass){const f=yr(a);W_(c,d.data,d.blueprint,f,!0),W_(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class o0{}class yE{resolveComponentFactory(l){throw function $M(a){const l=Error(`No component factory found for ${fe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let jc=(()=>{class a{}return a.NULL=new yE,a})();function Ra(){return Gc(zn(),Ee())}function Gc(a,l){return new rf(Ni(a,l))}let rf=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=Ra,a})();function hm(a){return a instanceof rf?a.nativeElement:a}class a0{}let vE=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function WM(){const a=Ee(),c=Zi(zn().index,a);return function YM(a){return a[11]}(er(c)?c:a)}(),a})(),fm=(()=>{class a{}return a.\u0275prov=ie({token:a,providedIn:"root",factory:()=>null}),a})();class Q_{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const bE=new Q_("13.3.12"),X_={};function pm(a,l,c,d,f=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&d.push(Cn(m)),$i(m))for(let w=10;w<m.length;w++){const D=m[w],A=D[1].firstChild;null!==A&&pm(D[1],D,A,d)}const v=c.type;if(8&v)pm(a,l,c.child,d);else if(32&v){const w=Qf(c,l);let D;for(;D=w();)d.push(D)}else if(16&v){const w=gv(l,c);if(Array.isArray(w))d.push(...w);else{const D=ul(l[16]);pm(D[1],D,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class sf{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return pm(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if($i(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(Cc(l,d),Vr(c,d))}this._attachedToViewContainer=!1}Da(this._lView[1],this._lView)}onDestroy(l){jw(this._lView[1],this._lView,null,l)}markForCheck(){l_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function sr(a,l,c){const d=l[10];d.begin&&d.begin();try{wh(a,l,a.template,c)}catch(f){throw f_(l,f),f}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yw(a,l){fl(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=l}}class KM extends sf{constructor(l){super(l),this._view=l}detectChanges(){Th(this._view)}checkNoChanges(){}get context(){return null}}class l0 extends jc{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Kt(l);return new zc(c,this.ngModule)}}function CE(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class zc extends o0{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function qI(a){return a.map(zI).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return CE(this.componentDef.inputs)}get outputs(){return CE(this.componentDef.outputs)}create(l,c,d,f){const m=(f=f||this.ngModule)?function af(a,l){return{get:(c,d,f)=>{const m=a.get(c,X_,f);return m!==X_||d===X_?m:l.get(c,d,f)}}}(l,f.injector):l,v=m.get(a0,ra),w=m.get(fm,null),D=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=d?function Hw(a,l,c){if(Pn(a))return a.selectRootElement(l,c===nn.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(D,d,this.componentDef.encapsulation):Jf(v.createRenderer(null,this.componentDef),A,function QM(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(A)),N=this.componentDef.onPush?576:528,H=function Ah(a,l){return{components:[],scheduler:a||Mw,clean:u_,playerHandler:l||null,flags:0}}(),W=Mc(0,null,null,1,0,null,null,null,null,null),he=_l(null,W,H,N,null,null,v,D,w,m);let Pe,Ge;ic(he);try{const et=function fb(a,l,c,d,f,m){const v=c[1];c[20]=a;const D=Ic(v,20,2,"#host",null),A=D.mergedAttrs=l.hostAttrs;null!==A&&(Ap(D,A,!0),null!==a&&(Qr(f,a,A),null!==D.classes&&cn(f,a,D.classes),null!==D.styles&&rt(f,a,D.styles)));const x=d.createRenderer(a,l),N=_l(c,t_(l),null,l.onPush?64:16,c[20],D,d,x,m||null,null);return v.firstCreatePass&&(da(An(D,c),v,l.type),Wv(v,D),s_(D,c.length,1)),Eh(c,N),c[20]=N}(x,this.componentDef,he,v,D);if(x)if(d)Qr(D,x,["ng-version",bE.full]);else{const{attrs:Ie,classes:Ct}=function $I(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++d]):8===f&&c.push(m);else{if(!mo(f))break;f=m}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Ie&&Qr(D,x,Ie),Ct&&Ct.length>0&&cn(D,x,Ct.join(" "))}if(Ge=Ya(W,20),void 0!==c){const Ie=Ge.projection=[];for(let Ct=0;Ct<this.ngContentSelectors.length;Ct++){const en=c[Ct];Ie.push(null!=en?Array.from(en):null)}}Pe=function pb(a,l,c,d,f){const m=c[1],v=function i_(a,l,c){const d=zn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Yw(a,d,l,Dp(a,l,1,null),c));const f=fa(l,a,d.directiveStart,d);Bi(f,l);const m=Ni(d,l);return m&&Bi(m,l),f}(m,c,l);if(d.components.push(v),a[8]=v,f&&f.forEach(D=>D(v,l)),l.contentQueries){const D=zn();l.contentQueries(1,v,D.directiveStart)}const w=zn();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Fo(w.index),Hr(c[1],w,0,w.directiveStart,w.directiveEnd,l),Zv(l,v)),v}(et,this.componentDef,he,H,[mb]),Ep(W,he,null)}finally{Kr()}return new JM(this.componentType,Pe,Gc(Ge,he),he,Ge)}}class JM extends class dm{}{constructor(l,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new KM(f),this.componentType=l}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Hi{}class DE{}const gd=new Map;class TE extends Hi{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new l0(this);const d=In(l);this._bootstrapComponents=Ta(d.bootstrap),this._r3Injector=kp(l,c,[{provide:Hi,useValue:this},{provide:jc,useValue:this.componentFactoryResolver}],fe(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=_o.THROW_IF_NOT_FOUND,d=Qe.Default){return l===_o||l===Hi||l===Sp?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class u0 extends DE{constructor(l){super(),this.moduleType=l,null!==In(l)&&function J_(a){const l=new Set;!function c(d){const f=In(d,!0),m=f.id;null!==m&&(function c0(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${fe(l)} vs ${fe(l.name)}`)}(m,gd.get(m),d),gd.set(m,d));const v=Ta(f.imports);for(const w of v)l.has(w)||(l.add(w),c(w))}(a)}(l)}create(l){return new TE(this.moduleType,l)}}function IE(a,l,c){const d=_i()+a,f=Ee();return f[d]===Ht?yo(f,d,c?l.call(c):l()):function Np(a,l){return a[l]}(f,d)}function ME(a,l,c,d){return d0(Ee(),_i(),a,l,c,d)}function d0(a,l,c,d,f,m){const v=l+c;return ar(a,v,f)?yo(a,v+1,m?d.call(m,f):d(f)):function mm(a,l){const c=a[l];return c===Ht?void 0:c}(a,v+1)}function p0(a,l){const c=Qt();let d;const f=a+20;c.firstCreatePass?(d=function pe(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const m=d.factory||(d.factory=vr(d.type)),v=pi(nd);try{const w=lc(!1),D=m();return lc(w),function xc(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Ee(),f,D),D}finally{pi(v)}}function gm(a,l,c){const d=a+20,f=Ee(),m=Zr(f,d);return function ym(a,l){return a[1].data[l].pure}(f,d)?d0(f,_i(),l,m.transform,c,m):m.transform(c)}function ey(a){return l=>{setTimeout(a,void 0,l)}}const Do=class yd extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var f,m,v;let w=l,D=c||(()=>null),A=d;if(l&&"object"==typeof l){const N=l;w=null===(f=N.next)||void 0===f?void 0:f.bind(N),D=null===(m=N.error)||void 0===m?void 0:m.bind(N),A=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(D=ey(D),w&&(w=ey(w)),A&&(A=ey(A)));const x=super.subscribe({next:w,error:D,complete:A});return l instanceof K.w0&&l.add(x),x}};function xE(){return this._results[xh()]()}class xi{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=xh(),d=xi.prototype;d[c]||(d[c]=xE)}get changes(){return this._changes||(this._changes=new Do)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=Cr(l);(this._changesDetected=!function Ru(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],m=l[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let vd=(()=>{class a{}return a.__NG_ELEMENT_ID__=qc,a})();const m0=vd,g0=class extends m0{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=_l(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(c)),Ep(c,d,l),new sf(d)}};function qc(){return vm(zn(),Ee())}function vm(a,l){return 4&a.type?new g0(l,a,Gc(a,l)):null}let ty=(()=>{class a{}return a.__NG_ELEMENT_ID__=kE,a})();function kE(){return lf(zn(),Ee())}const ny=ty,$c=class extends ny{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Gc(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const l=Bo(this._hostTNode,this._hostLView);if(wn(l)){const c=nt(l,this._hostLView),d=Xr(l);return new jo(c[1].data[d+8],c)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=Zc(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const f=l.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(l,c,d,f,m){const v=l&&!function ci(a){return"function"==typeof a}(l);let w;if(v)w=c;else{const N=c||{};w=N.index,d=N.injector,f=N.projectableNodes,m=N.ngModuleRef}const D=v?l:new zc(Kt(l)),A=d||this.parentInjector;if(!m&&null==D.ngModule){const H=(v?A:this.parentInjector).get(Hi,null);H&&(m=H)}const x=D.create(A,f,void 0,m);return this.insert(x.hostView,w),x}insert(l,c){const d=l._lView,f=d[1];if(function Yl(a){return $i(a[3])}(d)){const x=this.indexOf(l);if(-1!==x)this.detach(x);else{const N=d[3],H=new $c(N,N[6],N[3]);H.detach(H.indexOf(l))}}const m=this._adjustIndex(c),v=this._lContainer;!function fv(a,l,c,d){const f=10+d,m=c.length;d>0&&(c[f-1][4]=l),d<m-10?(l[4]=c[f],Go(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function Rg(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const w=l[19];null!==w&&w.insertView(a),l[2]|=128}(f,d,v,m);const w=ph(m,v),D=d[11],A=wc(D,v[7]);return null!==A&&function hv(a,l,c,d,f,m){d[0]=f,d[6]=l,fl(a,d,c,1,f,m)}(f,v[6],D,d,A,w),l.attachToViewContainerRef(),Go(Yc(v),m,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=Zc(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=Cc(this._lContainer,c);d&&(Vr(Yc(this._lContainer),c),Da(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=Cc(this._lContainer,c);return d&&null!=Vr(Yc(this._lContainer),c)?new sf(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function Zc(a){return a[8]}function Yc(a){return a[8]||(a[8]=[])}function lf(a,l){let c;const d=l[a.index];if($i(d))c=d;else{let f;if(8&a.type)f=Cn(d);else{const m=l[11];f=m.createComment("");const v=Ni(a,l);po(m,wc(m,v),f,function mv(a,l){return Pn(a)?a.nextSibling(l):l.nextSibling}(m,v),!1)}l[a.index]=c=Qv(d,l,f,a),Eh(l,c)}return new $c(c,a,l)}class iy{constructor(l){this.queryList=l,this.matches=null}clone(){return new iy(this.queryList)}setDirty(){this.queryList.setDirty()}}class y0{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new y0(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==Cd(l,c).matches&&this.queries[c].setDirty()}}class v0{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class ry{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new ry(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class bm{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new bm(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,c,Cm(c,m)),this.matchTNodeWithReadOption(l,c,_n(c,l,m,!1,!1))}else d===vd?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,_n(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===rf||f===ty||f===vd&&4&c.type)this.addMatch(c.index,-2);else{const m=_n(c,l,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function Cm(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function uA(a,l,c,d){return-1===c?function bd(a,l){return 11&a.type?Gc(a,l):4&a.type?vm(a,l):null}(l,a):-2===c?function PE(a,l,c){return c===rf?Gc(l,a):c===vd?vm(l,a):c===ty?lf(l,a):void 0}(a,l,d):fa(a,a[1],c,l)}function FE(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const m=a.data,v=c.matches,w=[];for(let D=0;D<v.length;D+=2){const A=v[D];w.push(A<0?null:uA(l,m[A],v[D+1],c.metadata.read))}f.matches=w}return f.matches}function b0(a,l,c,d){const f=a.queries.getByIndex(c),m=f.matches;if(null!==m){const v=FE(a,l,f,c);for(let w=0;w<m.length;w+=2){const D=m[w];if(D>0)d.push(v[w/2]);else{const A=m[w+1],x=l[-D];for(let N=10;N<x.length;N++){const H=x[N];H[17]===H[3]&&b0(H[1],H,A,d)}if(null!==x[9]){const N=x[9];for(let H=0;H<N.length;H++){const W=N[H];b0(W[1],W,A,d)}}}}}return d}function NE(a){const l=Ee(),c=Qt(),d=qd();nc(d+1);const f=Cd(c,d);if(a.dirty&&so(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?b0(c,l,d,[]):FE(c,l,f,d);a.reset(m,hm),a.notifyOnChanges()}return!0}return!1}function cf(a,l,c){const d=Qt();d.firstCreatePass&&(VE(d,new v0(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),BE(d,Ee(),l)}function kl(a,l,c,d){const f=Qt();if(f.firstCreatePass){const m=zn();VE(f,new v0(l,c,d),m.index),function C0(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}BE(f,Ee(),c)}function Wc(){return function LE(a,l){return a[19].queries[l].queryList}(Ee(),qd())}function BE(a,l,c){const d=new xi(4==(4&c));jw(a,l,d,d.destroy),null===l[19]&&(l[19]=new y0),l[19].queries.push(new iy(d))}function VE(a,l,c){null===a.queries&&(a.queries=new ry),a.queries.track(new bm(l,c))}function Cd(a,l){return a.queries.getByIndex(l)}function Ol(...a){}const Tm=new $n("Application Initializer");let hy=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Ol,this.reject=Ol,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(P_(m))c.push(m);else if(Rc(m)){const v=new Promise((w,D)=>{m.subscribe({complete:w,error:D})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(it(Tm,8))},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const O0=new $n("AppId",{providedIn:"root",factory:function P0(){return`${Im()}${Im()}${Im()}`}});function Im(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const YE=new $n("Platform Initializer"),F0=new $n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),WE=new $n("appBootstrapListener");let N0=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const L0=new $n("LocaleId",{providedIn:"root",factory:()=>kt(L0,Qe.Optional|Qe.SkipSelf)||function pr(){return"undefined"!=typeof $localize&&$localize.locale||j_}()}),CA=new $n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wA{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let B0=(()=>{class a{compileModuleSync(c){return new u0(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=Ta(In(c).declarations).reduce((v,w)=>{const D=Kt(w);return D&&v.push(new zc(D)),v},[]);return new wA(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const V0=(()=>Promise.resolve(0))();function pf(a){"undefined"==typeof Zone?V0.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Es{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Do(!1),this.onMicrotaskEmpty=new Do(!1),this.onStable=new Do(!1),this.onError=new Do(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Mm(){let a=Wt.requestAnimationFrame,l=Wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function QE(a){const l=()=>{!function H0(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Wt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,j0(a),a.isCheckStableRunning=!0,Am(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),j0(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,v,w)=>{try{return G0(a),c.invokeTask(f,m,v,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),XE(a)}},onInvoke:(c,d,f,m,v,w,D)=>{try{return G0(a),c.invoke(f,m,v,w,D)}finally{a.shouldCoalesceRunChangeDetection&&l(),XE(a)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,j0(a),Am(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Es.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Es.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,U0,Ol,Ol);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const U0={};function Am(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function j0(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function G0(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function XE(a){a._nesting--,Am(a)}class EA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Do,this.onMicrotaskEmpty=new Do,this.onStable=new Do,this.onError=new Do}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}let JE=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Es.assertNotInAngularZone(),pf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pf(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(it(Es))},a.\u0275prov=ie({token:a,factory:a.\u0275fac}),a})(),eT=(()=>{class a{constructor(){this._applications=new Map,xm.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return xm.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class fy{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function Sm(a){xm=a}let xm=new fy,eu=null;const tT=new $n("AllowMultipleToken"),nT=new $n("PlatformOnDestroy");class km{constructor(l,c){this.name=l,this.token=c}}function Dd(a,l,c=[]){const d=`Platform: ${l}`,f=new $n(d);return(m=[])=>{let v=Rm();if(!v||v.injector.get(tT,!1)){const w=[...c,...m,{provide:f,useValue:!0}];a?a(w):function z0(a){if(eu&&!eu.get(tT,!1))throw new Re(400,"");eu=a;const l=a.get($0),c=a.get(YE,null);c&&c.forEach(d=>d())}(function py(a=[],l){return _o.create({name:l,providers:[{provide:ib,useValue:"platform"},{provide:nT,useValue:()=>eu=null},...a]})}(w,d))}return function q0(a){const l=Rm();if(!l)throw new Re(401,"");return l}()}}function Rm(){var a;return null!==(a=null==eu?void 0:eu.get($0))&&void 0!==a?a:null}let $0=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function Z0(a,l){let c;return c="noop"===a?new EA:("zone.js"===a?void 0:a)||new Es({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:Es,useValue:w}];return w.run(()=>{const A=_o.create({providers:D,parent:this.injector,name:c.moduleType.name}),x=c.create(A),N=x.injector.get(Ug,null);if(!N)throw new Re(402,"");return w.runOutsideAngular(()=>{const H=w.onError.subscribe({next:W=>{N.handleError(W)}});x.onDestroy(()=>{W0(this._modules,x),H.unsubscribe()})}),function Y0(a,l,c){try{const d=c();return P_(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(N,w,()=>{const H=x.injector.get(hy);return H.runInitializers(),H.donePromise.then(()=>(function OM(a){ei(a,"Expected localeId to be defined"),"string"==typeof a&&(XD=a.toLowerCase().replace(/_/g,"-"))}(x.injector.get(L0,j_)||j_),this._moduleDoBootstrap(x),x))})})}bootstrapModule(c,d=[]){const f=Pl({},d);return function TA(a,l,c){const d=new u0(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(gy);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Re(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(nT,null);null==c||c(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(it(_o))},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Pl(a,l){return Array.isArray(l)?l.reduce(Pl,a):Object.assign(Object.assign({},a),l)}let gy=(()=>{class a{constructor(c,d,f,m){this._zone=c,this._injector=d,this._exceptionHandler=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new P.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),w=new P.y(D=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Es.assertNotInAngularZone(),pf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Es.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{A.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ae.T)(v,w.pipe((0,ne.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Re(405,"");let f;f=c instanceof o0?c:this._injector.get(jc).resolveComponentFactory(c),this.componentTypes.push(f.componentType);const m=function IA(a){return a.isBoundToModule}(f)?void 0:this._injector.get(Hi),w=f.create(_o.NULL,[],d||f.selector,m),D=w.location.nativeElement,A=w.injector.get(JE,null),x=A&&w.injector.get(eT);return A&&x&&x.registerApplication(D,A),w.onDestroy(()=>{this.detachView(w.hostView),W0(this.components,w),x&&x.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;W0(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(WE,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(it(Es),it(_o),it(Ug),it(hy))},a.\u0275prov=ie({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function W0(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let iT=!1;function K0(){return iT=!0,true}let X0=(()=>{class a{}return a.__NG_ELEMENT_ID__=SA,a})();function SA(a){return function xA(a,l,c){if(eo(a)&&!c){const d=Zi(a.index,l);return new sf(d,d)}return 47&a.type?new sf(l[16],l):null}(zn(),Ee(),16==(16&a))}class oT{constructor(){}supports(l){return kh(l)}create(l){return new nC(l)}}const tC=(a,l)=>l;class nC{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||tC}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<lT(d,f,m)?c:d,w=lT(v,f,m),D=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{m||(m=[]);const A=w-f,x=D-f;if(A!=x){for(let H=0;H<A;H++){const W=H<m.length?m[H]:m[H]=0,he=W+H;x<=he&&he<A&&(m[H]=W+1)}m[v.previousIndex]=x-A}}w!==D&&l(v,w,D)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!kh(l))throw new Re(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)m=l[w],v=this._trackByFn(w,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,w)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,w),d=!0),c=c._next}else f=0,function Fp(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[xh()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,w=>{v=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,w,v,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,f)):l=this._addAfter(new iC(c,d),m,f),l}_verifyReinsertion(l,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new aT),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aT),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class iC{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rC{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class aT{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new rC,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lT(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class wy{constructor(){}supports(l){return l instanceof Map||vl(l)}create(){return new sC}}class sC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||vl(l)))throw new Re(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new FA(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class FA{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oC(){return new aC([new oT])}let aC=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||oC()),deps:[[a,new gc,new Li]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Re(901,"")}}return a.\u0275prov=ie({token:a,providedIn:"root",factory:oC}),a})();function lC(){return new Dy([new wy])}let Dy=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||lC()),deps:[[a,new gc,new Li]]}}find(c){const d=this.factories.find(m=>m.supports(c));if(d)return d;throw new Re(901,"")}}return a.\u0275prov=ie({token:a,providedIn:"root",factory:lC}),a})();const BA=Dd(null,"core",[]);let cC=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(it(gy))},a.\u0275mod=J({type:a}),a.\u0275inj=ve({}),a})()},3942:(ft,Me,F)=>{F.d(Me,{Z:()=>Re});var s=F(2090),K=F(4859),P=F(9681),ae=F(1877);class ne{constructor(_e,be){this._delegate=_e,this.firebase=be,(0,P._addComponent)(_e,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(_e,be=P._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(_e);return!Ye.isInitialized()&&"EXPLICIT"===(null===(Xe=Ye.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:be})}_removeServiceInstance(_e,be=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(be)}_addComponent(_e){(0,P._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,P._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Q=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function de(){const Le=function fe(Le){const _e={},be={__esModule:!0,initializeApp:function De(He,oe={}){const qe=P.initializeApp(He,oe);if((0,s.r3)(_e,qe.name))return _e[qe.name];const Dt=new Le(qe,be);return _e[qe.name]=Dt,Dt},app:Ye,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function we(He){const oe=He.name,qe=oe.replace("-compat","");if(P._registerComponent(He)&&"PUBLIC"===He.type){const Dt=(qt=Ye())=>{if("function"!=typeof qt[qe])throw Q.create("invalid-app-argument",{appName:oe});return qt[qe]()};void 0!==He.serviceProps&&(0,s.ZB)(Dt,He.serviceProps),be[qe]=Dt,Le.prototype[qe]=function(...qt){return this._getService.bind(this,oe).apply(this,He.multipleInstances?qt:[])}}return"PUBLIC"===He.type?be[qe]:null},removeApp:function Xe(He){delete _e[He]},useAsService:function Ve(He,oe){return"serverAuth"===oe?null:oe},modularAPIs:P}};function Ye(He){if(!(0,s.r3)(_e,He=He||P._DEFAULT_ENTRY_NAME))throw Q.create("no-app",{appName:He});return _e[He]}return be.default=be,Object.defineProperty(be,"apps",{get:function ye(){return Object.keys(_e).map(He=>_e[He])}}),Ye.App=Le,be}(ne);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function _e(be){(0,s.ZB)(Le,be)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Le}(),G=new ae.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=z;!function Te(Le){(0,P.registerVersion)("@firebase/app-compat","0.1.22",Le)}()},9681:(ft,Me,F)=>{F.r(Me),F.d(Me,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Zt,_DEFAULT_ENTRY_NAME:()=>kr,_addComponent:()=>se,_addOrOverwriteComponent:()=>me,_apps:()=>Lt,_clearComponents:()=>Ne,_components:()=>X,_getProvider:()=>ke,_registerComponent:()=>ie,_removeServiceInstance:()=>ve,deleteApp:()=>Hn,getApp:()=>ti,getApps:()=>tn,initializeApp:()=>Dn,onLog:()=>On,registerVersion:()=>jn,setLogLevel:()=>pi});var s=F(5861),K=F(4859),P=F(1877),ae=F(2090);class ne{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function ge(We){const Ae=We.getComponent();return"VERSION"===(null==Ae?void 0:Ae.type)}(Je)){const _t=Je.getImmediate();return`${_t.library}/${_t.version}`}return null}).filter(Je=>Je).join(" ")}}const Q="@firebase/app",de=new P.Yd("@firebase/app"),kr="[DEFAULT]",ei={[Q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lt=new Map,X=new Map;function se(We,Ae){try{We.container.addComponent(Ae)}catch(Je){de.debug(`Component ${Ae.name} failed to register with FirebaseApp ${We.name}`,Je)}}function me(We,Ae){We.container.addOrOverwriteComponent(Ae)}function ie(We){const Ae=We.name;if(X.has(Ae))return de.debug(`There were multiple attempts to register component ${Ae}.`),!1;X.set(Ae,We);for(const Je of Lt.values())se(Je,We);return!0}function ke(We,Ae){const Je=We.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),We.container.getProvider(Ae)}function ve(We,Ae,Je=kr){ke(We,Ae).clearInstance(Je)}function Ne(){X.clear()}const vn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class vt{constructor(Ae,Je,_t){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=_t,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const Zt="9.6.11";function Dn(We,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const Je=Object.assign({name:kr,automaticDataCollectionEnabled:!1},Ae),_t=Je.name;if("string"!=typeof _t||!_t)throw vn.create("bad-app-name",{appName:String(_t)});const Yt=Lt.get(_t);if(Yt){if((0,ae.vZ)(We,Yt.options)&&(0,ae.vZ)(Je,Yt.config))return Yt;throw vn.create("duplicate-app",{appName:_t})}const zt=new K.H0(_t);for(const V of X.values())zt.addComponent(V);const j=new vt(We,Je,zt);return Lt.set(_t,j),j}function ti(We=kr){const Ae=Lt.get(We);if(!Ae)throw vn.create("no-app",{appName:We});return Ae}function tn(){return Array.from(Lt.values())}function Hn(We){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,s.Z)(function*(We){const Ae=We.name;Lt.has(Ae)&&(Lt.delete(Ae),yield Promise.all(We.container.getProviders().map(Je=>Je.delete())),We.isDeleted=!0)})).apply(this,arguments)}function jn(We,Ae,Je){var _t;let Yt=null!==(_t=ei[We])&&void 0!==_t?_t:We;Je&&(Yt+=`-${Je}`);const zt=Yt.match(/\s|\//),j=Ae.match(/\s|\//);if(zt||j){const V=[`Unable to register library "${Yt}" with version "${Ae}":`];return zt&&V.push(`library name "${Yt}" contains illegal characters (whitespace or "/")`),zt&&j&&V.push("and"),j&&V.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void de.warn(V.join(" "))}ie(new K.wA(`${Yt}-version`,()=>({library:Yt,version:Ae}),"VERSION"))}function On(We,Ae){if(null!==We&&"function"!=typeof We)throw vn.create("invalid-log-argument");(0,P.Am)(We,Ae)}function pi(We){(0,P.Ub)(We)}const Bn="firebase-heartbeat-store";let Di=null;function Ks(){return Di||(Di=(0,ae.X3)("firebase-heartbeat-database",1,(We,Ae)=>{0===Ae&&We.createObjectStore(Bn)}).catch(We=>{throw vn.create("storage-open",{originalErrorMessage:We.message})})),Di}function nn(){return(nn=(0,s.Z)(function*(We){try{return(yield Ks()).transaction(Bn).objectStore(Bn).get(Ri(We))}catch(Ae){throw vn.create("storage-get",{originalErrorMessage:Ae.message})}})).apply(this,arguments)}function dt(We,Ae){return It.apply(this,arguments)}function It(){return(It=(0,s.Z)(function*(We,Ae){try{const _t=(yield Ks()).transaction(Bn,"readwrite");return yield _t.objectStore(Bn).put(Ae,Ri(We)),_t.complete}catch(Je){throw vn.create("storage-set",{originalErrorMessage:Je.message})}})).apply(this,arguments)}function Ri(We){return`${We.name}!${We.options.appId}`}class Io{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new gt(Je),this._heartbeatsCachePromise=this._storage.read().then(_t=>(this._heartbeatsCache=_t,_t))}triggerHeartbeat(){var Ae=this;return(0,s.Z)(function*(){const _t=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Yt=Gi();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==Yt&&!Ae._heartbeatsCache.heartbeats.some(zt=>zt.date===Yt))return Ae._heartbeatsCache.heartbeats.push({date:Yt,agent:_t}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(zt=>{const j=new Date(zt.date).valueOf();return Date.now()-j<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,s.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const Je=Gi(),{heartbeatsToSend:_t,unsentEntries:Yt}=function Oi(We,Ae=1024){const Je=[];let _t=We.slice();for(const Yt of We){const zt=Je.find(j=>j.agent===Yt.agent);if(zt){if(zt.dates.push(Yt.date),zi(Je)>Ae){zt.dates.pop();break}}else if(Je.push({agent:Yt.agent,dates:[Yt.date]}),zi(Je)>Ae){Je.pop();break}_t=_t.slice(1)}return{heartbeatsToSend:Je,unsentEntries:_t}}(Ae._heartbeatsCache.heartbeats),zt=(0,ae.L)(JSON.stringify({version:2,heartbeats:_t}));return Ae._heartbeatsCache.lastSentHeartbeatDate=Je,Yt.length>0?(Ae._heartbeatsCache.heartbeats=Yt,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),zt})()}}function Gi(){return(new Date).toISOString().substring(0,10)}class gt{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,s.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function ja(We){return nn.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var Je=this;return(0,s.Z)(function*(){var _t;if(yield Je._canUseIndexedDBPromise){const zt=yield Je.read();return dt(Je.app,{lastSentHeartbeatDate:null!==(_t=Ae.lastSentHeartbeatDate)&&void 0!==_t?_t:zt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var Je=this;return(0,s.Z)(function*(){var _t;if(yield Je._canUseIndexedDBPromise){const zt=yield Je.read();return dt(Je.app,{lastSentHeartbeatDate:null!==(_t=Ae.lastSentHeartbeatDate)&&void 0!==_t?_t:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...Ae.heartbeats]})}})()}}function zi(We){return(0,ae.L)(JSON.stringify({version:2,heartbeats:We})).length}!function $t(We){ie(new K.wA("platform-logger",Ae=>new ne(Ae),"PRIVATE")),ie(new K.wA("heartbeat",Ae=>new Io(Ae),"PRIVATE")),jn(Q,"0.7.21",We),jn(Q,"0.7.21","esm2017"),jn("fire-js","")}("")},4859:(ft,Me,F)=>{F.d(Me,{H0:()=>fe,wA:()=>P});var s=F(5861),K=F(2090);class P{constructor(z,G,ee){this.name=z,this.instanceFactory=G,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ae="[DEFAULT]";class ne{constructor(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){const ee=new K.BH;if(this.instancesDeferred.set(G,ee),this.isInitialized(G)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:G});ze&&ee.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(G).promise}getImmediate(z){var G;const ee=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),ze=null!==(G=null==z?void 0:z.optional)&&void 0!==G&&G;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Te){if(ze)return null;throw Te}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function Q(de){return"EAGER"===de.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(G){}for(const[G,ee]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(G);try{const Te=this.getOrInitializeService({instanceIdentifier:ze});ee.resolve(Te)}catch(Te){}}}}clearInstance(z=ae){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,s.Z)(function*(){const G=Array.from(z.instances.values());yield Promise.all([...G.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...G.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ae){return this.instances.has(z)}getOptions(z=ae){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:G={}}=z,ee=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ee,options:G});for(const[Te,Re]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Te)&&Re.resolve(ze);return ze}onInit(z,G){var ee;const ze=this.normalizeInstanceIdentifier(G),Te=null!==(ee=this.onInitCallbacks.get(ze))&&void 0!==ee?ee:new Set;Te.add(z),this.onInitCallbacks.set(ze,Te);const Re=this.instances.get(ze);return Re&&z(Re,ze),()=>{Te.delete(z)}}invokeOnInitCallbacks(z,G){const ee=this.onInitCallbacks.get(G);if(ee)for(const ze of ee)try{ze(z,G)}catch(Te){}}getOrInitializeService({instanceIdentifier:z,options:G={}}){let ee=this.instances.get(z);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(de=z,de===ae?void 0:de),options:G}),this.instances.set(z,ee),this.instancesOptions.set(z,G),this.invokeOnInitCallbacks(ee,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,ee)}catch(ze){}var de;return ee||null}normalizeInstanceIdentifier(z=ae){return this.component?this.component.multipleInstances?z:ae:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const G=this.getProvider(z.name);if(G.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);G.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const G=new ne(z,this);return this.providers.set(z,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,Me,F)=>{F.d(Me,{Am:()=>de,Ub:()=>fe,Yd:()=>Q,in:()=>K});const s=[];var K=(()=>{return(z=K||(K={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",K;var z})();const P={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ae=K.INFO,ne={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},ge=(z,G,...ee)=>{if(G<z.logLevel)return;const ze=(new Date).toISOString(),Te=ne[G];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Te](`[${ze}]  ${z.name}:`,...ee)};class Q{constructor(G){this.name=G,this._logLevel=ae,this._logHandler=ge,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in K))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...G),this._logHandler(this,K.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...G),this._logHandler(this,K.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,K.INFO,...G),this._logHandler(this,K.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,K.WARN,...G),this._logHandler(this,K.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...G),this._logHandler(this,K.ERROR,...G)}}function fe(z){s.forEach(G=>{G.setLogLevel(z)})}function de(z,G){for(const ee of s){let ze=null;G&&G.level&&(ze=P[G.level]),ee.userLogHandler=null===z?null:(Te,Re,...Le)=>{const _e=Le.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch(Xe){return null}}).filter(be=>be).join(" ");Re>=(null!=ze?ze:Te.logLevel)&&z({level:K[Re].toLowerCase(),message:_e,args:Le,type:Te.name})}}}},5861:(ft,Me,F)=>{function s(P,ae,ne,ge,Q,fe,de){try{var z=P[fe](de),G=z.value}catch(ee){return void ne(ee)}z.done?ae(G):Promise.resolve(G).then(ge,Q)}function K(P){return function(){var ae=this,ne=arguments;return new Promise(function(ge,Q){var fe=P.apply(ae,ne);function de(G){s(fe,ge,Q,de,z,"next",G)}function z(G){s(fe,ge,Q,de,z,"throw",G)}de(void 0)})}}F.d(Me,{Z:()=>K})},7582:(ft,Me,F)=>{function ae(X,se){var me={};for(var ie in X)Object.prototype.hasOwnProperty.call(X,ie)&&se.indexOf(ie)<0&&(me[ie]=X[ie]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(ie=Object.getOwnPropertySymbols(X);ke<ie.length;ke++)se.indexOf(ie[ke])<0&&Object.prototype.propertyIsEnumerable.call(X,ie[ke])&&(me[ie[ke]]=X[ie[ke]])}return me}function ee(X,se,me,ie){return new(me||(me=Promise))(function(ve,Ne){function xt(Zt){try{vt(ie.next(Zt))}catch(Dn){Ne(Dn)}}function vn(Zt){try{vt(ie.throw(Zt))}catch(Dn){Ne(Dn)}}function vt(Zt){Zt.done?ve(Zt.value):function ke(ve){return ve instanceof me?ve:new me(function(Ne){Ne(ve)})}(Zt.value).then(xt,vn)}vt((ie=ie.apply(X,se||[])).next())})}function De(X){return this instanceof De?(this.v=X,this):new De(X)}function ye(X,se,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,ie=me.apply(X,se||[]),ve=[];return ke=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),xt("next"),xt("throw"),xt("return",function Ne(tn){return function(Hn){return Promise.resolve(Hn).then(tn,Dn)}}),ke[Symbol.asyncIterator]=function(){return this},ke;function xt(tn,Hn){ie[tn]&&(ke[tn]=function(Qe){return new Promise(function(jn,On){ve.push([tn,Qe,jn,On])>1||vn(tn,Qe)})},Hn&&(ke[tn]=Hn(ke[tn])))}function vn(tn,Hn){try{!function vt(tn){tn.value instanceof De?Promise.resolve(tn.value.v).then(Zt,Dn):ti(ve[0][2],tn)}(ie[tn](Hn))}catch(Qe){ti(ve[0][3],Qe)}}function Zt(tn){vn("next",tn)}function Dn(tn){vn("throw",tn)}function ti(tn,Hn){tn(Hn),ve.shift(),ve.length&&vn(ve[0][0],ve[0][1])}}function Ve(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,se=X[Symbol.asyncIterator];return se?se.call(X):(X=function Le(X){var se="function"==typeof Symbol&&Symbol.iterator,me=se&&X[se],ie=0;if(me)return me.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ie>=X.length&&(X=void 0),{value:X&&X[ie++],done:!X}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),me={},ie("next"),ie("throw"),ie("return"),me[Symbol.asyncIterator]=function(){return this},me);function ie(ve){me[ve]=X[ve]&&function(Ne){return new Promise(function(xt,vn){!function ke(ve,Ne,xt,vn){Promise.resolve(vn).then(function(vt){ve({value:vt,done:xt})},Ne)}(xt,vn,(Ne=X[ve](Ne)).done,Ne.value)})}}}F.d(Me,{FC:()=>ye,KL:()=>Ve,_T:()=>ae,mG:()=>ee,qq:()=>De}),"function"==typeof SuppressedError&&SuppressedError}},ft=>{ft(ft.s=1647)}]);